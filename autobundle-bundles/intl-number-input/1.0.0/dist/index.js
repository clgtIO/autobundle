var x=Object.defineProperty;var O=r=>x(r,"__esModule",{value:!0});var M=(r,t)=>{O(r);for(var i in t)x(r,i,{get:t[i],enumerable:!0})};M(exports,{NumberFormatStyle:()=>c,NumberInput:()=>E});/**
 * Intl Number Input 1.0.0
 * (c) 2021 Matthias Stiller
 * @license MIT
 */var p=r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),S=r=>r.replace(/^0+(0$|[^0])/,"$1"),d=(r,t)=>(r.match(new RegExp(p(t),"g"))||[]).length,b=(r,t)=>r.substring(0,r.indexOf(t)),c;(function(r){r.Decimal="decimal",r.Currency="currency",r.Unit="unit",r.Percent="percent"})(c||(c={}));var y=[",",".","\u066B"],D="(0|[1-9]\\d*)",v=class{constructor(t){let{formatStyle:i,currency:e,unit:a,locale:s,precision:o}=t,m=new Intl.NumberFormat(s,{currency:e,unit:a,style:i,minimumFractionDigits:i!==c.Currency?1:void 0}),n=m.format(123456);if(this.locale=s,this.style=i,this.currency=e,this.unit=a,this.digits=[0,1,2,3,4,5,6,7,8,9].map(u=>u.toLocaleString(s)),this.decimalSymbol=d(n,this.digits[0])?n.substr(n.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=n.substr(n.indexOf(this.digits[3])+1,1),this.minusSymbol=b(Number(-1).toLocaleString(s),this.digits[1]),this.decimalSymbol===void 0)this.minimumFractionDigits=this.maximumFractionDigits=0;else if(o!==void 0)this.minimumFractionDigits=this.maximumFractionDigits=o;else{let{maximumFractionDigits:u,minimumFractionDigits:l}=new Intl.NumberFormat(s,{currency:e,unit:a,style:i}).resolvedOptions();this.minimumFractionDigits=l,this.maximumFractionDigits=u}this.prefix=b(n,this.digits[1]),this.negativePrefix=b(m.format(-1),this.digits[1]),this.suffix=n.substring(n.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)}parse(t){if(t){let i=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripPrefixOrSuffix(t),t=this.stripMinusSymbol(t);let e=this.decimalSymbol?`(?:${p(this.decimalSymbol)}(\\d*))?`:"",a=this.stripGroupingSeparator(t).match(new RegExp(`^${D}${e}$`));if(a&&this.isValidIntegerFormat(this.decimalSymbol?t.split(this.decimalSymbol)[0]:t,Number(a[1]))){let s=Number(`${i?"-":""}${this.onlyDigits(a[1])}.${this.onlyDigits(a[2]||"")}`);return this.style===c.Percent&&(s/=100),s}}return null}isValidIntegerFormat(t,i){let e={style:this.style,currency:this.currency,unit:this.unit,minimumFractionDigits:0};return this.style===c.Percent&&(i/=100),[this.stripPrefixOrSuffix(this.normalizeDigits(i.toLocaleString(this.locale,{...e,useGrouping:!0}))),this.stripPrefixOrSuffix(this.normalizeDigits(i.toLocaleString(this.locale,{...e,useGrouping:!1})))].includes(t)}format(t,i={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}){return t!=null?new Intl.NumberFormat(this.locale,{style:this.style,currency:this.currency,unit:this.unit,...i}).format(this.style===c.Percent?t/100:t):""}toFraction(t){return`${this.digits[0]}${this.decimalSymbol}${this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)}`}isFractionIncomplete(t){return!!this.normalizeDigits(this.stripGroupingSeparator(t)).match(new RegExp(`^${D}${p(this.decimalSymbol)}$`))}isNegative(t){return t.startsWith(this.negativePrefix)||t.replace("-",this.minusSymbol).startsWith(this.minusSymbol)}insertPrefixOrSuffix(t,i){return`${i?this.negativePrefix:this.prefix}${t}${this.suffix}`}stripGroupingSeparator(t){return t.replace(new RegExp(p(this.groupingSymbol),"g"),"")}stripMinusSymbol(t){return t.replace("-",this.minusSymbol).replace(this.minusSymbol,"")}stripPrefixOrSuffix(t){return t.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")}normalizeDecimalSeparator(t,i){return y.forEach(e=>{t=t.substr(0,i)+t.substr(i).replace(e,this.decimalSymbol)}),t}normalizeDigits(t){return this.digits[0]!=="0"&&this.digits.forEach((i,e)=>{t=t.replace(new RegExp(i,"g"),String(e))}),t}onlyDigits(t){return this.normalizeDigits(t).replace(/\D+/g,"")}onlyLocaleDigits(t){return t.replace(new RegExp(`[^${this.digits.join("")}]*`,"g"),"")}},F=class{constructor(t){this.numberFormat=t}},V=class extends F{conformToMask(t,i=""){let e=this.numberFormat.isNegative(t),a=h=>{if(h===""&&e&&i!==this.numberFormat.negativePrefix)return"";if(this.numberFormat.maximumFractionDigits>0){if(this.numberFormat.isFractionIncomplete(h))return h;if(h.startsWith(this.numberFormat.decimalSymbol))return this.numberFormat.toFraction(h)}return null},s=t;s=this.numberFormat.stripPrefixOrSuffix(s),s=this.numberFormat.stripMinusSymbol(s);let o=a(s);if(o!=null)return this.numberFormat.insertPrefixOrSuffix(o,e);let[m,...n]=s.split(this.numberFormat.decimalSymbol),u=S(this.numberFormat.onlyDigits(m)),l=this.numberFormat.onlyDigits(n.join("")).substr(0,this.numberFormat.maximumFractionDigits),f=n.length>0&&l.length===0,g=u===""&&e&&(i===t.slice(0,-1)||i!==this.numberFormat.negativePrefix);return f||g?i:u.match(/\d+/)?{numberValue:Number(`${e?"-":""}${u}.${l}`),fractionDigits:l}:""}},P=class extends F{conformToMask(t,i=""){if(t===""||this.numberFormat.parse(i)===0&&this.numberFormat.stripPrefixOrSuffix(i).slice(0,-1)===this.numberFormat.stripPrefixOrSuffix(t))return"";let e=this.numberFormat.isNegative(t),a=this.numberFormat.stripMinusSymbol(t)===""?-0:Number(`${e?"-":""}${S(this.numberFormat.onlyDigits(t))}`)/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:a,fractionDigits:a.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}}},E=class{constructor(t){this.el=t.el,this.onInput=t.onInput,this.onChange=t.onChange,this.numberValue=null,this.addEventListener(),this.init(t.options),this.setValue(this.numberFormat.parse(this.el.value))}setOptions(t){this.init(t),this.applyFixedFractionFormat(this.numberValue,!0)}getValue(){return{number:this.options.exportValueAsInteger&&this.numberValue!=null?this.toInteger(this.numberValue):this.numberValue,formatted:this.formattedValue}}setValue(t){let i=this.options.exportValueAsInteger&&t!=null?this.toFloat(t):t;i!==this.numberValue&&this.applyFixedFractionFormat(i)}increment(){var t;this.setValue(((t=this.numberValue)!==null&&t!==void 0?t:0)+this.step)}decrement(){var t;this.setValue(((t=this.numberValue)!==null&&t!==void 0?t:0)-this.step)}init(t){this.options={autoSign:!0,hideGroupingSeparatorOnFocus:!0,hidePrefixOrSuffixOnFocus:!0,hideNegligibleDecimalDigitsOnFocus:!0,...t},this.options.autoDecimalDigits?this.el.setAttribute("inputmode","numeric"):this.el.setAttribute("inputmode","decimal"),this.numberFormat=new v(this.options),this.numberMask=this.options.autoDecimalDigits?new P(this.numberFormat):new V(this.numberFormat),this.step=t.step&&t.step>0?Math.max(t.step,this.toFloat(1)):this.toFloat(1),this.minValue=this.getMinValue(),this.maxValue=this.getMaxValue()}getMinValue(){var t,i;let e=this.toFloat(-Number.MAX_SAFE_INTEGER);return((t=this.options.valueRange)===null||t===void 0?void 0:t.min)!==void 0&&(e=Math.max((i=this.options.valueRange)===null||i===void 0?void 0:i.min,this.toFloat(-Number.MAX_SAFE_INTEGER))),!this.options.autoSign&&e<0&&(e=0),e=this.getNextStep(e),e}getMaxValue(){var t,i;let e=this.toFloat(Number.MAX_SAFE_INTEGER);return((t=this.options.valueRange)===null||t===void 0?void 0:t.max)!==void 0&&(e=Math.min((i=this.options.valueRange)===null||i===void 0?void 0:i.max,this.toFloat(Number.MAX_SAFE_INTEGER))),!this.options.autoSign&&e<0&&(e=this.toFloat(Number.MAX_SAFE_INTEGER)),e}validateStep(t){return this.toInteger(t)%this.toInteger(this.step)!=0?this.getNextStep(t):t}getNextStep(t){return Math.ceil(t/this.step)*this.step}toFloat(t){return t/Math.pow(10,this.numberFormat.maximumFractionDigits)}toInteger(t){return Number(t.toFixed(this.numberFormat.maximumFractionDigits).split(".").join(""))}validateValueRange(t){return Math.min(Math.max(t,this.minValue),this.maxValue)}applyFixedFractionFormat(t,i=!1){var e;t!=null&&(t=this.validateStep(this.validateValueRange(t)),this.options.formatStyle===c.Percent&&(t*=100)),this.format(this.numberFormat.format(t)),(t!==this.numberValue||i)&&((e=this.onChange)===null||e===void 0||e.call(this,this.getValue()))}format(t,i=!1){var e;if(t!=null){this.decimalSymbolInsertedAt!==void 0&&(t=this.numberFormat.normalizeDecimalSeparator(t,this.decimalSymbolInsertedAt),this.decimalSymbolInsertedAt=void 0);let a=this.numberMask.conformToMask(t,this.formattedValue),s;if(typeof a=="object"){let{numberValue:o,fractionDigits:m}=a,{maximumFractionDigits:n,minimumFractionDigits:u}=this.numberFormat;this.focus?u=i?m.replace(/0+$/,"").length:Math.min(n,m.length):Number.isInteger(o)&&!this.options.autoDecimalDigits&&(this.options.precision===void 0||u===0)&&(u=n=0),s=o>this.toInteger(Math.abs(o))?this.formattedValue:this.numberFormat.format(o,{useGrouping:this.options.useGrouping&&!(this.focus&&this.options.hideGroupingSeparatorOnFocus),minimumFractionDigits:u,maximumFractionDigits:n})}else s=a;this.options.autoSign&&(this.maxValue<=0&&!this.numberFormat.isNegative(s)&&this.numberFormat.parse(s)!==0&&(s=s.replace(this.numberFormat.prefix,this.numberFormat.negativePrefix)),this.minValue>=0&&(s=s.replace(this.numberFormat.negativePrefix,this.numberFormat.prefix))),this.focus&&this.options.hidePrefixOrSuffixOnFocus&&(s=s.replace(this.numberFormat.negativePrefix,this.numberFormat.minusSymbol).replace(this.numberFormat.prefix,"").replace(this.numberFormat.suffix,"")),this.el.value=s,this.numberValue=this.numberFormat.parse(s)}else this.el.value="",this.numberValue=null;this.formattedValue=this.el.value,(e=this.onInput)===null||e===void 0||e.call(this,this.getValue())}addEventListener(){this.el.addEventListener("input",t=>{let{value:i,selectionStart:e}=this.el,a=t;if(e&&a.data&&y.includes(a.data)&&(this.decimalSymbolInsertedAt=e-1),this.format(i),this.focus&&e!=null){let s=()=>{let{prefix:o,suffix:m,decimalSymbol:n,maximumFractionDigits:u,groupingSymbol:l}=this.numberFormat,f=i.length-e,g=this.formattedValue.length;if(this.formattedValue.substr(e,1)===l&&d(this.formattedValue,l)===d(i,l)+1)return g-f-1;if(n!==void 0&&i.indexOf(n)!==-1){let h=i.indexOf(n)+1;if(Math.abs(g-i.length)>1&&e<=h)return this.formattedValue.indexOf(n)+1;!this.options.autoDecimalDigits&&e>h&&this.numberFormat.onlyDigits(i.substr(h)).length-1===u&&(f-=1)}return this.options.hidePrefixOrSuffixOnFocus?g-f:Math.max(g-Math.max(f,m.length),o.length)};this.setCaretPosition(s())}},{capture:!0}),this.el.addEventListener("focus",()=>{this.focus=!0,setTimeout(()=>{let{value:t,selectionStart:i,selectionEnd:e}=this.el;if(this.options.hideNegligibleDecimalDigitsOnFocus&&t&&this.format(t,!0),i!=null&&e!=null&&Math.abs(i-e)>0)this.setCaretPosition(0,this.el.value.length);else if(i!=null){let a=()=>{let{prefix:s,suffix:o,groupingSymbol:m}=this.numberFormat;if(!this.options.hidePrefixOrSuffixOnFocus){if(i>=t.length-o.length)return this.formattedValue.length-o.length;if(i<s.length)return s.length}let n=i;return this.options.hidePrefixOrSuffixOnFocus&&(n-=s.length),this.options.hideGroupingSeparatorOnFocus&&(n-=d(t.substring(0,i),m)),n};this.setCaretPosition(a())}})}),this.el.addEventListener("blur",()=>{this.focus=!1,this.applyFixedFractionFormat(this.numberValue)}),this.el.addEventListener("change",()=>{var t;(t=this.onChange)===null||t===void 0||t.call(this,this.getValue())},{capture:!0})}setCaretPosition(t,i=t){this.el.setSelectionRange(t,i)}};0&&(module.exports={NumberFormatStyle,NumberInput});
