var Ey=Object.create;var Vs=Object.defineProperty;var Sy=Object.getOwnPropertyDescriptor;var Cy=Object.getOwnPropertyNames;var ky=Object.getPrototypeOf,Py=Object.prototype.hasOwnProperty;var Kc=t=>Vs(t,"__esModule",{value:!0});var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var zi=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Cy(e))!Py.call(t,i)&&i!=="default"&&Vs(t,i,{get:()=>e[i],enumerable:!(r=Sy(e,i))||r.enumerable});return t},Ty=t=>zi(Kc(Vs(t!=null?Ey(ky(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var rr=_(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.puppeteerErrors=ot.TimeoutError=ot.CustomError=void 0;var Xs=class extends Error{constructor(e){super(e);this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}};ot.CustomError=Xs;var Qs=class extends Xs{};ot.TimeoutError=Qs;ot.puppeteerErrors={TimeoutError:Qs}});var zc=_(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.devicesMap=void 0;var My=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S8",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:360,height:740,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S8 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:740,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S9+",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:320,height:658,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S9+ landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:658,height:320,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Tab S4",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:712,height:1138,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Tab S4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:1138,height:712,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:828,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:828,height:414,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 3",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:393,height:786,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 3 landscape",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:786,height:393,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 4",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:353,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:745,height:353,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}}];Kr.devicesMap={};for(let t of My)Kr.devicesMap[t.name]=t});var Jc=_($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.ariaHandler=void 0;async function $c(t,e,r,i){let{nodes:n}=await t.send("Accessibility.queryAXTree",{objectId:e._remoteObject.objectId,accessibleName:r,role:i});return n.filter(o=>o.role.value!=="StaticText")}var Gc=t=>t.replace(/ +/g," ").trim(),Oy=new Set(["name","role"]),Ry=/\[\s*(?<attribute>\w+)\s*=\s*"(?<value>\\.|[^"\\]*)"\s*\]/g;function Vc(t){let e={},r=t.replace(Ry,(i,n,s)=>{if(n=n.trim(),!Oy.has(n))throw new Error(`Unknown aria attribute "${n}" in selector`);return e[n]=Gc(s),""});return r&&!e.name&&(e.name=Gc(r)),e}var Xc=async(t,e)=>{let r=t.executionContext(),{name:i,role:n}=Vc(e),s=await $c(r._client,t,i,n);return s.length<1?null:r._adoptBackendNodeId(s[0].backendDOMNodeId)},Fy=async(t,e,r)=>{let i={name:"ariaQuerySelector",pptrFunction:async n=>{let s=await t._document();return await Xc(s,n)}};return t.waitForSelectorInPage((n,s)=>globalThis.ariaQuerySelector(s),e,r,i)},Qc=async(t,e)=>{let r=t.executionContext(),{name:i,role:n}=Vc(e),s=await $c(r._client,t,i,n);return Promise.all(s.map(o=>r._adoptBackendNodeId(o.backendDOMNodeId)))},Ly=async(t,e)=>{let r=await Qc(t,e);return t.executionContext().evaluateHandle((...s)=>s,...r)};$i.ariaHandler={queryOne:Xc,waitFor:Fy,queryAll:Qc,queryAllArray:Ly}});var Gi=_(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.getQueryHandlerAndSelector=ue.clearCustomQueryHandlers=ue.customQueryHandlerNames=ue.unregisterCustomQueryHandler=ue.registerCustomQueryHandler=void 0;var Iy=Jc();function Js(t){let e={};return t.queryOne&&(e.queryOne=async(r,i)=>{let n=await r.evaluateHandle(t.queryOne,i),s=n.asElement();return s||(await n.dispose(),null)},e.waitFor=(r,i,n)=>r.waitForSelectorInPage(t.queryOne,i,n)),t.queryAll&&(e.queryAll=async(r,i)=>{let n=await r.evaluateHandle(t.queryAll,i),s=await n.getProperties();await n.dispose();let o=[];for(let a of s.values()){let c=a.asElement();c&&o.push(c)}return o},e.queryAllArray=async(r,i)=>await(await r.evaluateHandle(t.queryAll,i)).evaluateHandle(o=>Array.from(o))),e}var Ay=Js({queryOne:(t,e)=>t.querySelector(e),queryAll:(t,e)=>t.querySelectorAll(e)}),Ny=Js({queryOne:(t,e)=>{let r=null,i=n=>{let s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{let o=s.currentNode;o.shadowRoot&&i(o.shadowRoot),!(o instanceof ShadowRoot)&&!r&&o.matches(e)&&(r=o)}while(!r&&s.nextNode())};return t instanceof Document&&(t=t.documentElement),i(t),r},queryAll:(t,e)=>{let r=[],i=n=>{let s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{let o=s.currentNode;o.shadowRoot&&i(o.shadowRoot),!(o instanceof ShadowRoot)&&o.matches(e)&&r.push(o)}while(s.nextNode())};return t instanceof Document&&(t=t.documentElement),i(t),r}}),Ys=new Map([["aria",Iy.ariaHandler],["pierce",Ny]]),ir=new Map(Ys);function jy(t,e){if(ir.get(t))throw new Error(`A custom query handler named "${t}" already exists`);if(!/^[a-zA-Z]+$/.test(t))throw new Error("Custom query handler names may only contain [a-zA-Z]");let i=Js(e);ir.set(t,i)}ue.registerCustomQueryHandler=jy;function Yc(t){ir.has(t)&&!Ys.has(t)&&ir.delete(t)}ue.unregisterCustomQueryHandler=Yc;function Zc(){return[...ir.keys()].filter(t=>!Ys.has(t))}ue.customQueryHandlerNames=Zc;function qy(){Zc().forEach(Yc)}ue.clearCustomQueryHandlers=qy;function Dy(t){if(!/^[a-zA-Z]+\//.test(t))return{updatedSelector:t,queryHandler:Ay};let r=t.indexOf("/"),i=t.slice(0,r),n=t.slice(r+1),s=ir.get(i);if(!s)throw new Error(`Query set to use "${i}", but no query handler of that name was found`);return{updatedSelector:n,queryHandler:s}}ue.getQueryHandlerAndSelector=Dy});var D=_(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.assertNever=nr.assert=void 0;var By=(t,e)=>{if(!t)throw new Error(e)};nr.assert=By;var Uy=(t,e)=>{if(t)throw new Error(e)};nr.assertNever=Uy});var We=_(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.isNode=void 0;Vi.isNode=!!(typeof process!="undefined"&&process.version)});var Zs=_((bS,el)=>{var sr=1e3,or=sr*60,ar=or*60,Lt=ar*24,Hy=Lt*7,Wy=Lt*365.25;el.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Ky(t);if(r==="number"&&isFinite(t))return e.long?$y(t):zy(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ky(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*Wy;case"weeks":case"week":case"w":return r*Hy;case"days":case"day":case"d":return r*Lt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ar;case"minutes":case"minute":case"mins":case"min":case"m":return r*or;case"seconds":case"second":case"secs":case"sec":case"s":return r*sr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function zy(t){var e=Math.abs(t);return e>=Lt?Math.round(t/Lt)+"d":e>=ar?Math.round(t/ar)+"h":e>=or?Math.round(t/or)+"m":e>=sr?Math.round(t/sr)+"s":t+"ms"}function $y(t){var e=Math.abs(t);return e>=Lt?Xi(t,e,Lt,"day"):e>=ar?Xi(t,e,ar,"hour"):e>=or?Xi(t,e,or,"minute"):e>=sr?Xi(t,e,sr,"second"):t+" ms"}function Xi(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var eo=_((wS,tl)=>{function Gy(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=n,r.enabled=o,r.humanize=Zs(),r.destroy=d,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let f=0;for(let l=0;l<u.length;l++)f=(f<<5)-f+u.charCodeAt(l),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){let f,l=null;function h(...p){if(!h.enabled)return;let y=h,m=Number(new Date),g=m-(f||m);y.diff=g,y.prev=f,y.curr=m,f=m,p[0]=r.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let b=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(v,x)=>{if(v==="%%")return"%";b++;let E=r.formatters[x];if(typeof E=="function"){let S=p[b];v=E.call(y,S),p.splice(b,1),b--}return v}),r.formatArgs.call(y,p),(y.log||r.log).apply(y,p)}return h.namespace=u,h.useColors=r.useColors(),h.color=r.selectColor(u),h.extend=i,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>l===null?r.enabled(u):l,set:p=>{l=p}}),typeof r.init=="function"&&r.init(h),h}function i(u,f){let l=r(this.namespace+(typeof f=="undefined"?":":f)+u);return l.log=this.log,l}function n(u){r.save(u),r.names=[],r.skips=[];let f,l=(typeof u=="string"?u:"").split(/[\s,]+/),h=l.length;for(f=0;f<h;f++)!l[f]||(u=l[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){let u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,l;for(f=0,l=r.skips.length;f<l;f++)if(r.skips[f].test(u))return!1;for(f=0,l=r.names.length;f<l;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}tl.exports=Gy});var rl=_((ne,Qi)=>{ne.formatArgs=Xy;ne.save=Qy;ne.load=Jy;ne.useColors=Vy;ne.storage=Yy();ne.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ne.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Vy(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Xy(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Qi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}ne.log=console.debug||console.log||(()=>{});function Qy(t){try{t?ne.storage.setItem("debug",t):ne.storage.removeItem("debug")}catch(e){}}function Jy(){let t;try{t=ne.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Yy(){try{return localStorage}catch(t){}}Qi.exports=eo()(ne);var{formatters:Zy}=Qi.exports;Zy.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var nl=_((vS,il)=>{"use strict";il.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(r+t),n=e.indexOf("--");return i!==-1&&(n===-1||i<n)}});var io=_((xS,ol)=>{"use strict";var e_=require("os"),sl=require("tty"),de=nl(),{env:K}=process,at;de("no-color")||de("no-colors")||de("color=false")||de("color=never")?at=0:(de("color")||de("colors")||de("color=true")||de("color=always"))&&(at=1);"FORCE_COLOR"in K&&(K.FORCE_COLOR==="true"?at=1:K.FORCE_COLOR==="false"?at=0:at=K.FORCE_COLOR.length===0?1:Math.min(parseInt(K.FORCE_COLOR,10),3));function to(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function ro(t,e){if(at===0)return 0;if(de("color=16m")||de("color=full")||de("color=truecolor"))return 3;if(de("color=256"))return 2;if(t&&!e&&at===void 0)return 0;let r=at||0;if(K.TERM==="dumb")return r;if(process.platform==="win32"){let i=e_.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in K)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in K)||K.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in K)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(K.TEAMCITY_VERSION)?1:0;if(K.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in K){let i=parseInt((K.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(K.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(K.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(K.TERM)||"COLORTERM"in K?1:r}function t_(t){let e=ro(t,t&&t.isTTY);return to(e)}ol.exports={supportsColor:t_,stdout:to(ro(!0,sl.isatty(1))),stderr:to(ro(!0,sl.isatty(2)))}});var cl=_((G,Yi)=>{var r_=require("tty"),Ji=require("util");G.init=l_;G.log=o_;G.formatArgs=n_;G.save=a_;G.load=c_;G.useColors=i_;G.destroy=Ji.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");G.colors=[6,2,3,4,5,1];try{let t=io();t&&(t.stderr||t).level>=2&&(G.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}G.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,s)=>s.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[r]=i,t},{});function i_(){return"colors"in G.inspectOpts?Boolean(G.inspectOpts.colors):r_.isatty(process.stderr.fd)}function n_(t){let{namespace:e,useColors:r}=this;if(r){let i=this.color,n="[3"+(i<8?i:"8;5;"+i),s=`  ${n};1m${e} [0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(n+"m+"+Yi.exports.humanize(this.diff)+"[0m")}else t[0]=s_()+e+" "+t[0]}function s_(){return G.inspectOpts.hideDate?"":new Date().toISOString()+" "}function o_(...t){return process.stderr.write(Ji.format(...t)+`
`)}function a_(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function c_(){return process.env.DEBUG}function l_(t){t.inspectOpts={};let e=Object.keys(G.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=G.inspectOpts[e[r]]}Yi.exports=eo()(G);var{formatters:al}=Yi.exports;al.o=function(t){return this.inspectOpts.colors=this.useColors,Ji.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};al.O=function(t){return this.inspectOpts.colors=this.useColors,Ji.inspect(t,this.inspectOpts)}});var ll=_((ES,no)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?no.exports=rl():no.exports=cl()});var cr=_(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.debug=void 0;var u_=We(),d_=t=>u_.isNode?ll()(t):(...e)=>{let r=globalThis.__PUPPETEER_DEBUG;!r||!(r==="*"||(r.endsWith("*")?t.startsWith(r):t===r))||console.log(`${t}:`,...e)};Zi.debug=d_});var Q=_(se=>{"use strict";var f_=se&&se.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),h_=se&&se.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ul=se&&se.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f_(e,t,r);return h_(e,t),e};Object.defineProperty(se,"__esModule",{value:!0});se.helper=se.debugError=void 0;var dl=rr(),p_=cr(),fl=D(),en=We();se.debugError=p_.debug("puppeteer:error");function m_(t){if(t.exception)return t.exception.description||t.exception.value;let e=t.text;if(t.stackTrace)for(let r of t.stackTrace.callFrames){let i=r.url+":"+r.lineNumber+":"+r.columnNumber;e+=`
    at ${r.functionName||"<anonymous>"} (${i})`}return e}function y_(t){if(fl.assert(!t.objectId,"Cannot extract value when objectId is given"),t.unserializableValue){if(t.type==="bigint"&&typeof BigInt!="undefined")return BigInt(t.unserializableValue.replace("n",""));switch(t.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+t.unserializableValue)}}return t.value}async function __(t,e){!e.objectId||await t.send("Runtime.releaseObject",{objectId:e.objectId}).catch(r=>{se.debugError(r)})}function hl(t,e,r){return t.on(e,r),{emitter:t,eventName:e,handler:r}}function pl(t){for(let e of t)e.emitter.removeListener(e.eventName,e.handler);t.length=0}function ml(t){return typeof t=="string"||t instanceof String}function g_(t){return typeof t=="number"||t instanceof Number}async function b_(t,e,r,i,n){let s,o,a,c=new Promise((l,h)=>{o=l,a=h}),d=hl(t,e,async l=>{!await r(l)||o(l)});i&&(s=setTimeout(()=>{a(new dl.TimeoutError("Timeout exceeded while waiting for event"))},i));function u(){pl([d]),clearTimeout(s)}let f=await Promise.race([c,n]).then(l=>(u(),l),l=>{throw u(),l});if(f instanceof Error)throw f;return f}function zr(t,...e){if(ml(t))return fl.assert(e.length===0,"Cannot evaluate a string with arguments"),t;function r(i){return Object.is(i,void 0)?"undefined":JSON.stringify(i)}return`(${t})(${e.map(r).join(",")})`}function w_(t,e){function r(i,n){let s=window,o=s[n];s[n]=(...a)=>{let c=window[n],d=c.callbacks;d||(d=new Map,c.callbacks=d);let u=(c.lastSeq||0)+1;c.lastSeq=u;let f=new Promise((l,h)=>d.set(u,{resolve:l,reject:h}));return o(JSON.stringify({type:i,name:n,seq:u,args:a})),f}}return zr(r,t,e)}function v_(t,e,r){function i(n,s,o){window[n].callbacks.get(s).resolve(o),window[n].callbacks.delete(s)}return zr(i,t,e,r)}function x_(t,e,r,i){function n(s,o,a,c){let d=new Error(a);d.stack=c,window[s].callbacks.get(o).reject(d),window[s].callbacks.delete(o)}return zr(n,t,e,r,i)}function E_(t,e,r){function i(n,s,o){window[n].callbacks.get(s).reject(o),window[n].callbacks.delete(s)}return zr(i,t,e,r)}function S_(t,e){function r(n,s,o){if(!n)return o;if(!s&&!o)return n;let a=n.nodeType===Node.TEXT_NODE?n.parentElement:n,c=window.getComputedStyle(a),d=c&&c.visibility!=="hidden"&&f();return s===d||o===!d?n:null;function f(){let l=a.getBoundingClientRect();return!!(l.top||l.bottom||l.width||l.height)}}return`
    (() => {
      ${e?`const predicateQueryHandler = ${e};`:""}
      const checkWaitForOptions = ${r};
      return (${t})(...args)
    })() `}async function C_(t,e,r){let i,n=new dl.TimeoutError(`waiting for ${e} failed: timeout ${r}ms exceeded`),s=new Promise((a,c)=>i=c),o=null;r&&(o=setTimeout(()=>i(n),r));try{return await Promise.race([t,s])}finally{o&&clearTimeout(o)}}async function k_(t,e){if(!en.isNode&&e)throw new Error("Cannot write to a path outside of Node.js environment.");let r=en.isNode?await yl():null,i;e&&r&&(i=await r.promises.open(e,"w"));let n=[];for await(let o of t)n.push(o),i&&await r.promises.writeFile(i,o);e&&await i.close();let s=null;try{s=Buffer.concat(n)}finally{return s}}async function P_(t,e){if(!en.isNode)throw new Error("Cannot create a stream outside of Node.js environment.");let{Readable:r}=await Promise.resolve().then(()=>ul(require("stream"))),i=!1;return new r({async read(n){if(i)return null;let s=await t.send("IO.read",{handle:e,size:n});this.push(s.data,s.base64Encoded?"base64":void 0),s.eof&&(this.push(null),i=!0,await t.send("IO.close",{handle:e}))}})}async function yl(){if(!en.isNode)throw new Error("Cannot load the fs module API outside of Node.");let t=await Promise.resolve().then(()=>ul(require("fs")));return t.promises?t:t.default}se.helper={evaluationString:zr,pageBindingInitString:w_,pageBindingDeliverResultString:v_,pageBindingDeliverErrorString:x_,pageBindingDeliverErrorValueString:E_,makePredicateString:S_,getReadableAsBuffer:k_,getReadableFromProtocolStream:P_,waitWithTimeout:C_,waitForEvent:b_,isString:ml,isNumber:g_,importFSModule:yl,addEventListener:hl,removeEventListeners:pl,valueFromRemoteObject:y_,getExceptionMessage:m_,releaseObject:__}});var _l=_(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});function T_(t){return t=t||new Map,{all:t,on(e,r){let i=t.get(e);i&&i.push(r)||t.set(e,[r])},off(e,r){let i=t.get(e);i&&i.splice(i.indexOf(r)>>>0,1)},emit(e,r){(t.get(e)||[]).slice().map(i=>{i(r)}),(t.get("*")||[]).slice().map(i=>{i(e,r)})}}}so.default=T_});var It=_(lr=>{"use strict";var M_=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lr,"__esModule",{value:!0});lr.EventEmitter=void 0;var O_=M_(_l()),gl=class{constructor(){this.eventsMap=new Map,this.emitter=O_.default(this.eventsMap)}on(e,r){return this.emitter.on(e,r),this}off(e,r){return this.emitter.off(e,r),this}removeListener(e,r){return this.off(e,r),this}addListener(e,r){return this.on(e,r),this}emit(e,r){return this.emitter.emit(e,r),this.eventListenersCount(e)>0}once(e,r){let i=n=>{r(n),this.off(e,i)};return this.on(e,i)}listenerCount(e){return this.eventListenersCount(e)}removeAllListeners(e){return e?this.eventsMap.delete(e):this.eventsMap.clear(),this}eventListenersCount(e){return this.eventsMap.has(e)?this.eventsMap.get(e).length:0}};lr.EventEmitter=gl});var ur=_(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.CDPSession=fe.CDPSessionEmittedEvents=fe.Connection=fe.ConnectionEmittedEvents=void 0;var R_=D(),bl=cr(),F_=bl.debug("puppeteer:protocol:SEND \u25BA"),L_=bl.debug("puppeteer:protocol:RECV \u25C0"),wl=It();fe.ConnectionEmittedEvents={Disconnected:Symbol("Connection.Disconnected")};var vl=class extends wl.EventEmitter{constructor(e,r,i=0){super();this._lastId=0,this._sessions=new Map,this._closed=!1,this._callbacks=new Map,this._url=e,this._delay=i,this._transport=r,this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}static fromSession(e){return e._connection}session(e){return this._sessions.get(e)||null}url(){return this._url}send(e,...r){let i=r.length?r[0]:void 0,n=this._rawSend({method:e,params:i});return new Promise((s,o)=>{this._callbacks.set(n,{resolve:s,reject:o,error:new Error,method:e})})}_rawSend(e){let r=++this._lastId,i=JSON.stringify(Object.assign({},e,{id:r}));return F_(i),this._transport.send(i),r}async _onMessage(e){this._delay&&await new Promise(i=>setTimeout(i,this._delay)),L_(e);let r=JSON.parse(e);if(r.method==="Target.attachedToTarget"){let i=r.params.sessionId,n=new oo(this,r.params.targetInfo.type,i);this._sessions.set(i,n),this.emit("sessionattached",n);let s=this._sessions.get(r.sessionId);s&&s.emit("sessionattached",n)}else if(r.method==="Target.detachedFromTarget"){let i=this._sessions.get(r.params.sessionId);if(i){i._onClosed(),this._sessions.delete(r.params.sessionId),this.emit("sessiondetached",i);let n=this._sessions.get(r.sessionId);n&&n.emit("sessiondetached",i)}}if(r.sessionId){let i=this._sessions.get(r.sessionId);i&&i._onMessage(r)}else if(r.id){let i=this._callbacks.get(r.id);i&&(this._callbacks.delete(r.id),r.error?i.reject(xl(i.error,i.method,r)):i.resolve(r.result))}else this.emit(r.method,r.params)}_onClose(){if(!this._closed){this._closed=!0,this._transport.onmessage=null,this._transport.onclose=null;for(let e of this._callbacks.values())e.reject(ao(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();for(let e of this._sessions.values())e._onClosed();this._sessions.clear(),this.emit(fe.ConnectionEmittedEvents.Disconnected)}}dispose(){this._onClose(),this._transport.close()}async createSession(e){let{sessionId:r}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});return this._sessions.get(r)}};fe.Connection=vl;fe.CDPSessionEmittedEvents={Disconnected:Symbol("CDPSession.Disconnected")};var oo=class extends wl.EventEmitter{constructor(e,r,i){super();this._callbacks=new Map,this._connection=e,this._targetType=r,this._sessionId=i}connection(){return this._connection}send(e,...r){if(!this._connection)return Promise.reject(new Error(`Protocol error (${e}): Session closed. Most likely the ${this._targetType} has been closed.`));let i=r.length?r[0]:void 0,n=this._connection._rawSend({sessionId:this._sessionId,method:e,params:i});return new Promise((s,o)=>{this._callbacks.set(n,{resolve:s,reject:o,error:new Error,method:e})})}_onMessage(e){if(e.id&&this._callbacks.has(e.id)){let r=this._callbacks.get(e.id);this._callbacks.delete(e.id),e.error?r.reject(xl(r.error,r.method,e)):r.resolve(e.result)}else R_.assert(!e.id),this.emit(e.method,e.params)}async detach(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);await this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}_onClosed(){for(let e of this._callbacks.values())e.reject(ao(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear(),this._connection=null,this.emit(fe.CDPSessionEmittedEvents.Disconnected)}};fe.CDPSession=oo;function xl(t,e,r){let i=`Protocol error (${e}): ${r.error.message}`;return"data"in r.error&&(i+=` ${r.error.data}`),ao(t,i)}function ao(t,e){return t.message=e,t}});var Cl=_(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.Dialog=void 0;var El=D(),Sl=class{constructor(e,r,i,n=""){this._handled=!1,this._client=e,this._type=r,this._message=i,this._defaultValue=n}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){El.assert(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!0,promptText:e})}async dismiss(){El.assert(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!1})}};tn.Dialog=Sl});var Pl=_(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.EmulationManager=void 0;var kl=class{constructor(e){this._emulatingMobile=!1,this._hasTouch=!1,this._client=e}async emulateViewport(e){let r=e.isMobile||!1,i=e.width,n=e.height,s=e.deviceScaleFactor||1,o=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},a=e.hasTouch||!1;await Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:r,width:i,height:n,deviceScaleFactor:s,screenOrientation:o}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:a})]);let c=this._emulatingMobile!==r||this._hasTouch!==a;return this._emulatingMobile=r,this._hasTouch=a,c}};rn.EmulationManager=kl});var sn=_(te=>{"use strict";var I_=te&&te.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),A_=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),N_=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&I_(e,t,r);return A_(e,t),e};Object.defineProperty(te,"__esModule",{value:!0});te.ElementHandle=te.JSHandle=te.createJSHandle=void 0;var At=D(),ct=Q(),co=Gi(),j_=We();function Tl(t,e){let r=t.frame();if(e.subtype==="node"&&r){let i=r._frameManager;return new lo(t,t._client,e,i.page(),i)}return new nn(t,t._client,e)}te.createJSHandle=Tl;var nn=class{constructor(e,r,i){this._disposed=!1,this._context=e,this._client=r,this._remoteObject=i}executionContext(){return this._context}async evaluate(e,...r){return await this.executionContext().evaluate(e,this,...r)}async evaluateHandle(e,...r){return await this.executionContext().evaluateHandle(e,this,...r)}async getProperty(e){let r=await this.evaluateHandle((s,o)=>{let a={__proto__:null};return a[o]=s[o],a},e),n=(await r.getProperties()).get(e)||null;return await r.dispose(),n}async getProperties(){let e=await this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:!0}),r=new Map;for(let i of e.result)!i.enumerable||r.set(i.name,Tl(this._context,i.value));return r}async jsonValue(){if(this._remoteObject.objectId){let e=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:!0,awaitPromise:!0});return ct.helper.valueFromRemoteObject(e.result)}return ct.helper.valueFromRemoteObject(this._remoteObject)}asElement(){return null}async dispose(){this._disposed||(this._disposed=!0,await ct.helper.releaseObject(this._client,this._remoteObject))}toString(){if(this._remoteObject.objectId){let e=this._remoteObject.subtype||this._remoteObject.type;return"JSHandle@"+e}return"JSHandle:"+ct.helper.valueFromRemoteObject(this._remoteObject)}};te.JSHandle=nn;var lo=class extends nn{constructor(e,r,i,n,s){super(e,r,i);this._client=r,this._remoteObject=i,this._page=n,this._frameManager=s}asElement(){return this}async contentFrame(){let e=await this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});return typeof e.node.frameId!="string"?null:this._frameManager.frame(e.node.frameId)}async _scrollIntoViewIfNeeded(){let e=await this.evaluate(async(r,i)=>r.isConnected?r.nodeType!==Node.ELEMENT_NODE?"Node is not of type HTMLElement":i?(await new Promise(s=>{let o=new IntersectionObserver(a=>{s(a[0].intersectionRatio),o.disconnect()});o.observe(r)})!==1&&r.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1):(r.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1):"Node is detached from document",this._page.isJavaScriptEnabled());if(e)throw new Error(e)}async clickablePoint(e){let[r,i]=await Promise.all([this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(ct.debugError),this._client.send("Page.getLayoutMetrics")]);if(!r||!r.quads.length)throw new Error("Node is either not clickable or not an HTMLElement");let{clientWidth:n,clientHeight:s}=i.cssLayoutViewport||i.layoutViewport,o=r.quads.map(u=>this._fromProtocolQuad(u)).map(u=>this._intersectQuadWithViewport(u,n,s)).filter(u=>q_(u)>1);if(!o.length)throw new Error("Node is either not clickable or not an HTMLElement");let a=o[0];if(e){let u=Number.MAX_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER;for(let l of a)l.x<u&&(u=l.x),l.y<f&&(f=l.y);if(u!==Number.MAX_SAFE_INTEGER&&f!==Number.MAX_SAFE_INTEGER)return{x:u+e.x,y:f+e.y}}let c=0,d=0;for(let u of a)c+=u.x,d+=u.y;return{x:c/4,y:d/4}}_getBoxModel(){let e={objectId:this._remoteObject.objectId};return this._client.send("DOM.getBoxModel",e).catch(r=>ct.debugError(r))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}_intersectQuadWithViewport(e,r,i){return e.map(n=>({x:Math.min(Math.max(n.x,0),r),y:Math.min(Math.max(n.y,0),i)}))}async hover(){await this._scrollIntoViewIfNeeded();let{x:e,y:r}=await this.clickablePoint();await this._page.mouse.move(e,r)}async click(e={}){await this._scrollIntoViewIfNeeded();let{x:r,y:i}=await this.clickablePoint(e.offset);await this._page.mouse.click(r,i,e)}async drag(e){At.assert(this._page.isDragInterceptionEnabled(),"Drag Interception is not enabled!"),await this._scrollIntoViewIfNeeded();let r=await this.clickablePoint();return await this._page.mouse.drag(r,e)}async dragEnter(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();let r=await this.clickablePoint();await this._page.mouse.dragEnter(r,e)}async dragOver(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();let r=await this.clickablePoint();await this._page.mouse.dragOver(r,e)}async drop(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();let r=await this.clickablePoint();await this._page.mouse.drop(r,e)}async dragAndDrop(e,r){await this._scrollIntoViewIfNeeded();let i=await this.clickablePoint(),n=await e.clickablePoint();await this._page.mouse.dragAndDrop(i,n,r)}async select(...e){for(let r of e)At.assert(ct.helper.isString(r),'Values must be strings. Found value "'+r+'" of type "'+typeof r+'"');return this.evaluate((r,i)=>{if(!(r instanceof HTMLSelectElement))throw new Error("Element is not a <select> element.");let n=Array.from(r.options);r.value=void 0;for(let s of n)if(s.selected=i.includes(s.value),s.selected&&!r.multiple)break;return r.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("change",{bubbles:!0})),n.filter(s=>s.selected).map(s=>s.value)},e)}async uploadFile(...e){let r=await this.evaluate(d=>{if(!(d instanceof HTMLInputElement))throw new Error("uploadFile can only be called on an input element.");return d.multiple});if(At.assert(e.length<=1||r,"Multiple file uploads only work with <input type=file multiple>"),!j_.isNode)throw new Error("JSHandle#uploadFile can only be used in Node environments.");let i=await Promise.resolve().then(()=>N_(require("path"))),n=await ct.helper.importFSModule(),s=await Promise.all(e.map(async d=>{let u=i.resolve(d);try{await n.promises.access(u,n.constants.R_OK)}catch(f){if(f.code==="ENOENT")throw new Error(`${d} does not exist or is not readable`)}return u})),{objectId:o}=this._remoteObject,{node:a}=await this._client.send("DOM.describeNode",{objectId:o}),{backendNodeId:c}=a;s.length===0?await this.evaluate(d=>{d.files=new DataTransfer().files,d.dispatchEvent(new Event("input",{bubbles:!0})),d.dispatchEvent(new Event("change",{bubbles:!0}))}):await this._client.send("DOM.setFileInputFiles",{objectId:o,files:s,backendNodeId:c})}async tap(){await this._scrollIntoViewIfNeeded();let{x:e,y:r}=await this.clickablePoint();await this._page.touchscreen.tap(e,r)}async focus(){await this.evaluate(e=>e.focus())}async type(e,r){await this.focus(),await this._page.keyboard.type(e,r)}async press(e,r){await this.focus(),await this._page.keyboard.press(e,r)}async boundingBox(){let e=await this._getBoxModel();if(!e)return null;let r=e.model.border,i=Math.min(r[0],r[2],r[4],r[6]),n=Math.min(r[1],r[3],r[5],r[7]),s=Math.max(r[0],r[2],r[4],r[6])-i,o=Math.max(r[1],r[3],r[5],r[7])-n;return{x:i,y:n,width:s,height:o}}async boxModel(){let e=await this._getBoxModel();if(!e)return null;let{content:r,padding:i,border:n,margin:s,width:o,height:a}=e.model;return{content:this._fromProtocolQuad(r),padding:this._fromProtocolQuad(i),border:this._fromProtocolQuad(n),margin:this._fromProtocolQuad(s),width:o,height:a}}async screenshot(e={}){let r=!1,i=await this.boundingBox();At.assert(i,"Node is either not visible or not an HTMLElement");let n=this._page.viewport();if(n&&(i.width>n.width||i.height>n.height)){let u={width:Math.max(n.width,Math.ceil(i.width)),height:Math.max(n.height,Math.ceil(i.height))};await this._page.setViewport(Object.assign({},n,u)),r=!0}await this._scrollIntoViewIfNeeded(),i=await this.boundingBox(),At.assert(i,"Node is either not visible or not an HTMLElement"),At.assert(i.width!==0,"Node has 0 width."),At.assert(i.height!==0,"Node has 0 height.");let s=await this._client.send("Page.getLayoutMetrics"),{pageX:o,pageY:a}=s.cssLayoutViewport||s.layoutViewport,c=Object.assign({},i);c.x+=o,c.y+=a;let d=await this._page.screenshot(Object.assign({},{clip:c},e));return r&&await this._page.setViewport(n),d}async $(e){let{updatedSelector:r,queryHandler:i}=co.getQueryHandlerAndSelector(e);return i.queryOne(this,r)}async $$(e){let{updatedSelector:r,queryHandler:i}=co.getQueryHandlerAndSelector(e);return i.queryAll(this,r)}async $eval(e,r,...i){let n=await this.$(e);if(!n)throw new Error(`Error: failed to find element matching selector "${e}"`);let s=await n.evaluate(r,...i);return await n.dispose(),s}async $$eval(e,r,...i){let{updatedSelector:n,queryHandler:s}=co.getQueryHandlerAndSelector(e),o=await s.queryAllArray(this,n),a=await o.evaluate(r,...i);return await o.dispose(),a}async $x(e){let r=await this.evaluateHandle((s,o)=>{let c=(s.ownerDocument||s).evaluate(o,s,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),d=[],u;for(;u=c.iterateNext();)d.push(u);return d},e),i=await r.getProperties();await r.dispose();let n=[];for(let s of i.values()){let o=s.asElement();o&&n.push(o)}return n}async isIntersectingViewport(e){let{threshold:r=0}=e||{};return await this.evaluate(async(i,n)=>{let s=await new Promise(o=>{let a=new IntersectionObserver(c=>{o(c[0].intersectionRatio),a.disconnect()});a.observe(i)});return n===1?s===1:s>n},r)}};te.ElementHandle=lo;function q_(t){let e=0;for(let r=0;r<t.length;++r){let i=t[r],n=t[(r+1)%t.length];e+=(i.x*n.y-n.x*i.y)/2}return Math.abs(e)}});var an=_(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.ExecutionContext=Nt.EVALUATION_SCRIPT_URL=void 0;var on=D(),$r=Q(),Gr=sn();Nt.EVALUATION_SCRIPT_URL="__puppeteer_evaluation_script__";var D_=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m,Ml=class{constructor(e,r,i){this._client=e,this._world=i,this._contextId=r.id,this._contextName=r.name}frame(){return this._world?this._world.frame():null}async evaluate(e,...r){return await this._evaluateInternal(!0,e,...r)}async evaluateHandle(e,...r){return this._evaluateInternal(!1,e,...r)}async _evaluateInternal(e,r,...i){let n=`//# sourceURL=${Nt.EVALUATION_SCRIPT_URL}`;if($r.helper.isString(r)){let f=this._contextId,l=r,h=D_.test(l)?l:l+`
`+n,{exceptionDetails:p,result:y}=await this._client.send("Runtime.evaluate",{expression:h,contextId:f,returnByValue:e,awaitPromise:!0,userGesture:!0}).catch(u);if(p)throw new Error("Evaluation failed: "+$r.helper.getExceptionMessage(p));return e?$r.helper.valueFromRemoteObject(y):Gr.createJSHandle(this,y)}if(typeof r!="function")throw new Error(`Expected to get |string| or |function| as the first argument, but got "${r}" instead.`);let s=r.toString();try{new Function("("+s+")")}catch(f){s.startsWith("async ")?s="async function "+s.substring("async ".length):s="function "+s;try{new Function("("+s+")")}catch(l){throw new Error("Passed function is not well-serializable!")}}let o;try{o=this._client.send("Runtime.callFunctionOn",{functionDeclaration:s+`
`+n+`
`,executionContextId:this._contextId,arguments:i.map(d.bind(this)),returnByValue:e,awaitPromise:!0,userGesture:!0})}catch(f){throw f instanceof TypeError&&f.message.startsWith("Converting circular structure to JSON")&&(f.message+=" Are you passing a nested JSHandle?"),f}let{exceptionDetails:a,result:c}=await o.catch(u);if(a)throw new Error("Evaluation failed: "+$r.helper.getExceptionMessage(a));return e?$r.helper.valueFromRemoteObject(c):Gr.createJSHandle(this,c);function d(f){if(typeof f=="bigint")return{unserializableValue:`${f.toString()}n`};if(Object.is(f,-0))return{unserializableValue:"-0"};if(Object.is(f,1/0))return{unserializableValue:"Infinity"};if(Object.is(f,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(f,NaN))return{unserializableValue:"NaN"};let l=f&&f instanceof Gr.JSHandle?f:null;if(l){if(l._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(l._disposed)throw new Error("JSHandle is disposed!");return l._remoteObject.unserializableValue?{unserializableValue:l._remoteObject.unserializableValue}:l._remoteObject.objectId?{objectId:l._remoteObject.objectId}:{value:l._remoteObject.value}}return{value:f}}function u(f){if(f.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(f.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};throw f.message.endsWith("Cannot find context with specified id")||f.message.endsWith("Inspected target navigated or closed")?new Error("Execution context was destroyed, most likely because of a navigation."):f}}async queryObjects(e){on.assert(!e._disposed,"Prototype JSHandle is disposed!"),on.assert(e._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value");let r=await this._client.send("Runtime.queryObjects",{prototypeObjectId:e._remoteObject.objectId});return Gr.createJSHandle(this,r.objects)}async _adoptBackendNodeId(e){let{object:r}=await this._client.send("DOM.resolveNode",{backendNodeId:e,executionContextId:this._contextId});return Gr.createJSHandle(this,r)}async _adoptElementHandle(e){on.assert(e.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context"),on.assert(this._world,"Cannot adopt handle without DOMWorld");let r=await this._client.send("DOM.describeNode",{objectId:e._remoteObject.objectId});return this._adoptBackendNodeId(r.node.backendNodeId)}};Nt.ExecutionContext=Ml});var Fl=_(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.HTTPRequest=void 0;var Re=D(),Vr=Q(),Ol=class{constructor(e,r,i,n,s,o){this._failureText=null,this._response=null,this._fromMemoryCache=!1,this._interceptionHandled=!1,this._headers={},this._client=e,this._requestId=s.requestId,this._isNavigationRequest=s.requestId===s.loaderId&&s.type==="Document",this._interceptionId=i,this._allowInterception=n,this._url=s.request.url,this._resourceType=s.type.toLowerCase(),this._method=s.request.method,this._postData=s.request.postData,this._frame=r,this._redirectChain=o,this._continueRequestOverrides={},this._currentStrategy="none",this._currentPriority=void 0,this._interceptActions=[];for(let a of Object.keys(s.request.headers))this._headers[a.toLowerCase()]=s.request.headers[a]}url(){return this._url}continueRequestOverrides(){return Re.assert(this._allowInterception,"Request Interception is not enabled!"),this._continueRequestOverrides}responseForRequest(){return Re.assert(this._allowInterception,"Request Interception is not enabled!"),this._responseForRequest}abortErrorReason(){return Re.assert(this._allowInterception,"Request Interception is not enabled!"),this._abortErrorReason}interceptResolution(){return this._allowInterception?this._interceptionHandled?["alreay-handled"]:[this._currentStrategy,this._currentPriority]:["disabled"]}enqueueInterceptAction(e){this._interceptActions.push(e)}async finalizeInterceptions(){await this._interceptActions.reduce((r,i)=>r.then(i).catch(n=>{Vr.debugError(n)}),Promise.resolve());let[e]=this.interceptResolution();switch(e){case"abort":return this._abort(this._abortErrorReason);case"respond":return this._respond(this._responseForRequest);case"continue":return this._continue(this._continueRequestOverrides)}}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async continue(e={},r){if(!this._url.startsWith("data:")){if(Re.assert(this._allowInterception,"Request Interception is not enabled!"),Re.assert(!this._interceptionHandled,"Request is already handled!"),r===void 0)return this._continue(e);if(this._continueRequestOverrides=e,r>this._currentPriority||this._currentPriority===void 0){this._currentStrategy="continue",this._currentPriority=r;return}if(r===this._currentPriority){if(this._currentStrategy==="abort"||this._currentStrategy==="respond")return;this._currentStrategy="continue"}}}async _continue(e={}){let{url:r,method:i,postData:n,headers:s}=e;this._interceptionHandled=!0;let o=n?Buffer.from(n).toString("base64"):void 0;await this._client.send("Fetch.continueRequest",{requestId:this._interceptionId,url:r,method:i,postData:o,headers:s?Rl(s):void 0}).catch(a=>{Vr.debugError(a)})}async respond(e,r){if(!this._url.startsWith("data:")){if(Re.assert(this._allowInterception,"Request Interception is not enabled!"),Re.assert(!this._interceptionHandled,"Request is already handled!"),r===void 0)return this._respond(e);if(this._responseForRequest=e,r>this._currentPriority||this._currentPriority===void 0){this._currentStrategy="respond",this._currentPriority=r;return}if(r===this._currentPriority){if(this._currentStrategy==="abort")return;this._currentStrategy="respond"}}}async _respond(e){this._interceptionHandled=!0;let r=e.body&&Vr.helper.isString(e.body)?Buffer.from(e.body):e.body||null,i={};if(e.headers)for(let n of Object.keys(e.headers))i[n.toLowerCase()]=String(e.headers[n]);e.contentType&&(i["content-type"]=e.contentType),r&&!("content-length"in i)&&(i["content-length"]=String(Buffer.byteLength(r))),await this._client.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:e.status||200,responsePhrase:U_[e.status||200],responseHeaders:Rl(i),body:r?r.toString("base64"):void 0}).catch(n=>{Vr.debugError(n)})}async abort(e="failed",r){if(this._url.startsWith("data:"))return;let i=B_[e];if(Re.assert(i,"Unknown error code: "+e),Re.assert(this._allowInterception,"Request Interception is not enabled!"),Re.assert(!this._interceptionHandled,"Request is already handled!"),r===void 0)return this._abort(i);if(this._abortErrorReason=i,r>=this._currentPriority||this._currentPriority===void 0){this._currentStrategy="abort",this._currentPriority=r;return}}async _abort(e){this._interceptionHandled=!0,await this._client.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:e}).catch(r=>{Vr.debugError(r)})}};cn.HTTPRequest=Ol;var B_={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};function Rl(t){let e=[];for(let r in t)Object.is(t[r],void 0)||e.push({name:r,value:t[r]+""});return e}var U_={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"Switch Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","510":"Not Extended","511":"Network Authentication Required"}});var Il=_(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.SecurityDetails=void 0;var Ll=class{constructor(e){this._subjectName=e.subjectName,this._issuer=e.issuer,this._validFrom=e.validFrom,this._validTo=e.validTo,this._protocol=e.protocol,this._sanList=e.sanList}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}subjectName(){return this._subjectName}subjectAlternativeNames(){return this._sanList}};ln.SecurityDetails=Ll});var Nl=_(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.HTTPResponse=void 0;var H_=Il(),Al=class{constructor(e,r,i){this._contentPromise=null,this._headers={},this._client=e,this._request=r,this._bodyLoadedPromise=new Promise(n=>{this._bodyLoadedPromiseFulfill=n}),this._remoteAddress={ip:i.remoteIPAddress,port:i.remotePort},this._status=i.status,this._statusText=i.statusText,this._url=r.url(),this._fromDiskCache=!!i.fromDiskCache,this._fromServiceWorker=!!i.fromServiceWorker;for(let n of Object.keys(i.headers))this._headers[n.toLowerCase()]=i.headers[n];this._securityDetails=i.securityDetails?new H_.SecurityDetails(i.securityDetails):null}_resolveBody(e){return this._bodyLoadedPromiseFulfill(e)}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return this._status===0||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}buffer(){return this._contentPromise||(this._contentPromise=this._bodyLoadedPromise.then(async e=>{if(e)throw e;let r=await this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(r.body,r.base64Encoded?"base64":"utf8")})),this._contentPromise}async text(){return(await this.buffer()).toString("utf8")}async json(){let e=await this.text();return JSON.parse(e)}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}};un.HTTPResponse=Al});var fn=_(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.NetworkManager=oe.NetworkManagerEmittedEvents=void 0;var W_=It(),K_=D(),dn=Q(),z_=Fl(),jl=Nl();oe.NetworkManagerEmittedEvents={Request:Symbol("NetworkManager.Request"),RequestServedFromCache:Symbol("NetworkManager.RequestServedFromCache"),Response:Symbol("NetworkManager.Response"),RequestFailed:Symbol("NetworkManager.RequestFailed"),RequestFinished:Symbol("NetworkManager.RequestFinished")};var ql=class extends W_.EventEmitter{constructor(e,r,i){super();this._requestIdToRequestWillBeSentEvent=new Map,this._requestIdToRequestPausedEvent=new Map,this._requestIdToRequest=new Map,this._extraHTTPHeaders={},this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._userCacheDisabled=!1,this._emulatedNetworkConditions={offline:!1,upload:-1,download:-1,latency:0},this._client=e,this._ignoreHTTPSErrors=r,this._frameManager=i,this._client.on("Fetch.requestPaused",this._onRequestPaused.bind(this)),this._client.on("Fetch.authRequired",this._onAuthRequired.bind(this)),this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),this._client.on("Network.responseReceived",this._onResponseReceived.bind(this)),this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this)),this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this))}async initialize(){await this._client.send("Network.enable"),this._ignoreHTTPSErrors&&await this._client.send("Security.setIgnoreCertificateErrors",{ignore:!0})}async authenticate(e){this._credentials=e,await this._updateProtocolRequestInterception()}async setExtraHTTPHeaders(e){this._extraHTTPHeaders={};for(let r of Object.keys(e)){let i=e[r];K_.assert(dn.helper.isString(i),`Expected value of header "${r}" to be String, but "${typeof i}" is found.`),this._extraHTTPHeaders[r.toLowerCase()]=i}await this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}numRequestsInProgress(){return[...this._requestIdToRequest].filter(([,e])=>!e.response()).length}async setOfflineMode(e){this._emulatedNetworkConditions.offline=e,await this._updateNetworkConditions()}async emulateNetworkConditions(e){this._emulatedNetworkConditions.upload=e?e.upload:-1,this._emulatedNetworkConditions.download=e?e.download:-1,this._emulatedNetworkConditions.latency=e?e.latency:0,await this._updateNetworkConditions()}async _updateNetworkConditions(){await this._client.send("Network.emulateNetworkConditions",{offline:this._emulatedNetworkConditions.offline,latency:this._emulatedNetworkConditions.latency,uploadThroughput:this._emulatedNetworkConditions.upload,downloadThroughput:this._emulatedNetworkConditions.download})}async setUserAgent(e,r){await this._client.send("Network.setUserAgentOverride",{userAgent:e,userAgentMetadata:r})}async setCacheEnabled(e){this._userCacheDisabled=!e,await this._updateProtocolCacheDisabled()}async setRequestInterception(e){this._userRequestInterceptionEnabled=e,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){let e=this._userRequestInterceptionEnabled||!!this._credentials;e!==this._protocolRequestInterceptionEnabled&&(this._protocolRequestInterceptionEnabled=e,e?await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*"}]})]):await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.disable")]))}_cacheDisabled(){return this._userCacheDisabled}async _updateProtocolCacheDisabled(){await this._client.send("Network.setCacheDisabled",{cacheDisabled:this._cacheDisabled()})}_onRequestWillBeSent(e){if(this._userRequestInterceptionEnabled&&!e.request.url.startsWith("data:")){let r=e.requestId,i=this._requestIdToRequestPausedEvent.get(r);if(this._requestIdToRequestWillBeSentEvent.set(r,e),i){let n=i.requestId;this._onRequest(e,n),this._requestIdToRequestPausedEvent.delete(r)}return}this._onRequest(e,null)}_onAuthRequired(e){let r="Default";this._attemptedAuthentications.has(e.requestId)?r="CancelAuth":this._credentials&&(r="ProvideCredentials",this._attemptedAuthentications.add(e.requestId));let{username:i,password:n}=this._credentials||{username:void 0,password:void 0};this._client.send("Fetch.continueWithAuth",{requestId:e.requestId,authChallengeResponse:{response:r,username:i,password:n}}).catch(dn.debugError)}_onRequestPaused(e){!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled&&this._client.send("Fetch.continueRequest",{requestId:e.requestId}).catch(dn.debugError);let r=e.networkId,i=e.requestId;if(!r)return;let n=this._requestIdToRequestWillBeSentEvent.get(r);n&&(n.request.url!==e.request.url||n.request.method!==e.request.method)&&(this._requestIdToRequestWillBeSentEvent.delete(r),n=null),n?(this._onRequest(n,i),this._requestIdToRequestWillBeSentEvent.delete(r)):this._requestIdToRequestPausedEvent.set(r,e)}_onRequest(e,r){let i=[];if(e.redirectResponse){let o=this._requestIdToRequest.get(e.requestId);o&&(this._handleRequestRedirect(o,e.redirectResponse),i=o._redirectChain)}let n=e.frameId?this._frameManager.frame(e.frameId):null,s=new z_.HTTPRequest(this._client,n,r,this._userRequestInterceptionEnabled,e,i);this._requestIdToRequest.set(e.requestId,s),this.emit(oe.NetworkManagerEmittedEvents.Request,s),s.finalizeInterceptions().catch(o=>{dn.debugError(o)})}_onRequestServedFromCache(e){let r=this._requestIdToRequest.get(e.requestId);r&&(r._fromMemoryCache=!0),this.emit(oe.NetworkManagerEmittedEvents.RequestServedFromCache,r)}_handleRequestRedirect(e,r){let i=new jl.HTTPResponse(this._client,e,r);e._response=i,e._redirectChain.push(e),i._resolveBody(new Error("Response body is unavailable for redirect responses")),this._forgetRequest(e,!1),this.emit(oe.NetworkManagerEmittedEvents.Response,i),this.emit(oe.NetworkManagerEmittedEvents.RequestFinished,e)}_onResponseReceived(e){let r=this._requestIdToRequest.get(e.requestId);if(!r)return;let i=new jl.HTTPResponse(this._client,r,e.response);r._response=i,this.emit(oe.NetworkManagerEmittedEvents.Response,i)}_forgetRequest(e,r){let i=e._requestId,n=e._interceptionId;this._requestIdToRequest.delete(i),this._attemptedAuthentications.delete(n),r&&(this._requestIdToRequestWillBeSentEvent.delete(i),this._requestIdToRequestPausedEvent.delete(i))}_onLoadingFinished(e){let r=this._requestIdToRequest.get(e.requestId);!r||(r.response()&&r.response()._resolveBody(null),this._forgetRequest(r,!0),this.emit(oe.NetworkManagerEmittedEvents.RequestFinished,r))}_onLoadingFailed(e){let r=this._requestIdToRequest.get(e.requestId);if(!r)return;r._failureText=e.errorText;let i=r.response();i&&i._resolveBody(null),this._forgetRequest(r,!0),this.emit(oe.NetworkManagerEmittedEvents.RequestFailed,r)}};oe.NetworkManager=ql});var fo=_(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.LifecycleWatcher=void 0;var $_=D(),dr=Q(),G_=rr(),uo=ho(),V_=fn(),X_=ur(),Q_=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]),Dl=class{constructor(e,r,i,n){Array.isArray(i)?i=i.slice():typeof i=="string"&&(i=[i]),this._expectedLifecycle=i.map(s=>{let o=Q_.get(s);return $_.assert(o,"Unknown value for options.waitUntil: "+s),o}),this._frameManager=e,this._frame=r,this._initialLoaderId=r._loaderId,this._timeout=n,this._navigationRequest=null,this._eventListeners=[dr.helper.addEventListener(e._client,X_.CDPSessionEmittedEvents.Disconnected,()=>this._terminate(new Error("Navigation failed because browser has disconnected!"))),dr.helper.addEventListener(this._frameManager,uo.FrameManagerEmittedEvents.LifecycleEvent,this._checkLifecycleComplete.bind(this)),dr.helper.addEventListener(this._frameManager,uo.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),dr.helper.addEventListener(this._frameManager,uo.FrameManagerEmittedEvents.FrameDetached,this._onFrameDetached.bind(this)),dr.helper.addEventListener(this._frameManager.networkManager(),V_.NetworkManagerEmittedEvents.Request,this._onRequest.bind(this))],this._sameDocumentNavigationPromise=new Promise(s=>{this._sameDocumentNavigationCompleteCallback=s}),this._lifecyclePromise=new Promise(s=>{this._lifecycleCallback=s}),this._newDocumentNavigationPromise=new Promise(s=>{this._newDocumentNavigationCompleteCallback=s}),this._timeoutPromise=this._createTimeoutPromise(),this._terminationPromise=new Promise(s=>{this._terminationCallback=s}),this._checkLifecycleComplete()}_onRequest(e){e.frame()!==this._frame||!e.isNavigationRequest()||(this._navigationRequest=e)}_onFrameDetached(e){if(this._frame===e){this._terminationCallback.call(null,new Error("Navigating frame was detached"));return}this._checkLifecycleComplete()}navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise(()=>{});let e="Navigation timeout of "+this._timeout+" ms exceeded";return new Promise(r=>this._maximumTimer=setTimeout(r,this._timeout)).then(()=>new G_.TimeoutError(e))}_navigatedWithinDocument(e){e===this._frame&&(this._hasSameDocumentNavigation=!0,this._checkLifecycleComplete())}_checkLifecycleComplete(){if(!e(this._frame,this._expectedLifecycle)||(this._lifecycleCallback(),this._frame._loaderId===this._initialLoaderId&&!this._hasSameDocumentNavigation))return;this._hasSameDocumentNavigation&&this._sameDocumentNavigationCompleteCallback(),this._frame._loaderId!==this._initialLoaderId&&this._newDocumentNavigationCompleteCallback();function e(r,i){for(let n of i)if(!r._lifecycleEvents.has(n))return!1;for(let n of r.childFrames())if(!e(n,i))return!1;return!0}}dispose(){dr.helper.removeEventListeners(this._eventListeners),clearTimeout(this._maximumTimer)}};hn.LifecycleWatcher=Dl});var Ul=_(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.WaitTask=fr.DOMWorld=void 0;var jt=D(),Fe=Q(),J_=fo(),Y_=rr(),Z_=Gi(),Bl=We(),qt=class{constructor(e,r,i){this._documentPromise=null,this._contextPromise=null,this._contextResolveCallback=null,this._detached=!1,this._waitTasks=new Set,this._boundFunctions=new Map,this._ctxBindings=new Set,this._settingUpBinding=null,this._frameManager=e,this._frame=r,this._timeoutSettings=i,this._setContext(null),e._client.on("Runtime.bindingCalled",n=>this._onBindingCalled(n))}frame(){return this._frame}async _setContext(e){if(e){this._ctxBindings.clear(),this._contextResolveCallback.call(null,e),this._contextResolveCallback=null;for(let r of this._waitTasks)r.rerun()}else this._documentPromise=null,this._contextPromise=new Promise(r=>{this._contextResolveCallback=r})}_hasContext(){return!this._contextResolveCallback}_detach(){this._detached=!0;for(let e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}async evaluateHandle(e,...r){return(await this.executionContext()).evaluateHandle(e,...r)}async evaluate(e,...r){return(await this.executionContext()).evaluate(e,...r)}async $(e){return await(await this._document()).$(e)}async _document(){return this._documentPromise?this._documentPromise:(this._documentPromise=this.executionContext().then(async e=>(await e.evaluateHandle("document")).asElement()),this._documentPromise)}async $x(e){return await(await this._document()).$x(e)}async $eval(e,r,...i){return(await this._document()).$eval(e,r,...i)}async $$eval(e,r,...i){return await(await this._document()).$$eval(e,r,...i)}async $$(e){return await(await this._document()).$$(e)}async content(){return await this.evaluate(()=>{let e="";return document.doctype&&(e=new XMLSerializer().serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e})}async setContent(e,r={}){let{waitUntil:i=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=r;await this.evaluate(a=>{document.open(),document.write(a),document.close()},e);let s=new J_.LifecycleWatcher(this._frameManager,this._frame,i,n),o=await Promise.race([s.timeoutOrTerminationPromise(),s.lifecyclePromise()]);if(s.dispose(),o)throw o}async addScriptTag(e){let{url:r=null,path:i=null,content:n=null,id:s="",type:o=""}=e;if(r!==null)try{return(await(await this.executionContext()).evaluateHandle(a,r,s,o)).asElement()}catch(d){throw new Error(`Loading script from ${r} failed`)}if(i!==null){if(!Bl.isNode)throw new Error("Cannot pass a filepath to addScriptTag in the browser environment.");let u=await(await Fe.helper.importFSModule()).promises.readFile(i,"utf8");return u+="//# sourceURL="+i.replace(/\n/g,""),(await(await this.executionContext()).evaluateHandle(c,u,s,o)).asElement()}if(n!==null)return(await(await this.executionContext()).evaluateHandle(c,n,s,o)).asElement();throw new Error("Provide an object with a `url`, `path` or `content` property");async function a(d,u,f){let l=document.createElement("script");l.src=d,u&&(l.id=u),f&&(l.type=f);let h=new Promise((p,y)=>{l.onload=p,l.onerror=y});return document.head.appendChild(l),await h,l}function c(d,u,f="text/javascript"){let l=document.createElement("script");l.type=f,l.text=d,u&&(l.id=u);let h=null;if(l.onerror=p=>h=p,document.head.appendChild(l),h)throw h;return l}}async addStyleTag(e){let{url:r=null,path:i=null,content:n=null}=e;if(r!==null)try{return(await(await this.executionContext()).evaluateHandle(s,r)).asElement()}catch(a){throw new Error(`Loading style from ${r} failed`)}if(i!==null){if(!Bl.isNode)throw new Error("Cannot pass a filepath to addStyleTag in the browser environment.");let c=await(await Fe.helper.importFSModule()).promises.readFile(i,"utf8");return c+="/*# sourceURL="+i.replace(/\n/g,"")+"*/",(await(await this.executionContext()).evaluateHandle(o,c)).asElement()}if(n!==null)return(await(await this.executionContext()).evaluateHandle(o,n)).asElement();throw new Error("Provide an object with a `url`, `path` or `content` property");async function s(a){let c=document.createElement("link");c.rel="stylesheet",c.href=a;let d=new Promise((u,f)=>{c.onload=u,c.onerror=f});return document.head.appendChild(c),await d,c}async function o(a){let c=document.createElement("style");c.type="text/css",c.appendChild(document.createTextNode(a));let d=new Promise((u,f)=>{c.onload=u,c.onerror=f});return document.head.appendChild(c),await d,c}}async click(e,r){let i=await this.$(e);jt.assert(i,"No node found for selector: "+e),await i.click(r),await i.dispose()}async focus(e){let r=await this.$(e);jt.assert(r,"No node found for selector: "+e),await r.focus(),await r.dispose()}async hover(e){let r=await this.$(e);jt.assert(r,"No node found for selector: "+e),await r.hover(),await r.dispose()}async select(e,...r){let i=await this.$(e);jt.assert(i,"No node found for selector: "+e);let n=await i.select(...r);return await i.dispose(),n}async tap(e){let r=await this.$(e);await r.tap(),await r.dispose()}async type(e,r,i){let n=await this.$(e);jt.assert(n,"No node found for selector: "+e),await n.type(r,i),await n.dispose()}async waitForSelector(e,r){let{updatedSelector:i,queryHandler:n}=Z_.getQueryHandlerAndSelector(e);return n.waitFor(this,i,r)}async addBindingToContext(e,r){if(this._ctxBindings.has(qt.bindingIdentifier(r,e._contextId)))return;if(this._settingUpBinding)return await this._settingUpBinding,this.addBindingToContext(e,r);let i=async n=>{let s=Fe.helper.pageBindingInitString("internal",n);try{await e._client.send("Runtime.addBinding",{name:n,executionContextName:e._contextName}),await e.evaluate(s)}catch(o){let a=o.message.includes("Execution context was destroyed"),c=o.message.includes("Cannot find context with specified id");if(a||c)return;Fe.debugError(o);return}this._ctxBindings.add(qt.bindingIdentifier(n,e._contextId))};this._settingUpBinding=i(r),await this._settingUpBinding,this._settingUpBinding=null}async _onBindingCalled(e){let r;if(!this._hasContext())return;let i=await this.executionContext();try{r=JSON.parse(e.payload)}catch{return}let{type:n,name:s,seq:o,args:a}=r;if(n!=="internal"||!this._ctxBindings.has(qt.bindingIdentifier(s,i._contextId))||i._contextId!==e.executionContextId)return;try{let d=await this._boundFunctions.get(s)(...a);await i.evaluate(c,s,o,d)}catch(d){if(d.message.includes("Protocol error"))return;Fe.debugError(d)}function c(d,u,f){globalThis[d].callbacks.get(u).resolve(f),globalThis[d].callbacks.delete(u)}}async waitForSelectorInPage(e,r,i,n){let{visible:s=!1,hidden:o=!1,timeout:a=this._timeoutSettings.timeout()}=i,c=s||o?"raf":"mutation",d=`selector \`${r}\`${o?" to be hidden":""}`;async function u(y,m,g){let b=predicateQueryHandler?await predicateQueryHandler(document,y):document.querySelector(y);return checkWaitForOptions(b,m,g)}let f={domWorld:this,predicateBody:Fe.helper.makePredicateString(u,e),title:d,polling:c,timeout:a,args:[r,s,o],binding:n},h=await new Xr(f).promise,p=h.asElement();return p||(await h.dispose(),null)}async waitForXPath(e,r){let{visible:i=!1,hidden:n=!1,timeout:s=this._timeoutSettings.timeout()}=r,o=i||n?"raf":"mutation",a=`XPath \`${e}\`${n?" to be hidden":""}`;function c(h,p,y){let m=document.evaluate(h,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return checkWaitForOptions(m,p,y)}let d={domWorld:this,predicateBody:Fe.helper.makePredicateString(c),title:a,polling:o,timeout:s,args:[e,i,n]},f=await new Xr(d).promise,l=f.asElement();return l||(await f.dispose(),null)}waitForFunction(e,r={},...i){let{polling:n="raf",timeout:s=this._timeoutSettings.timeout()}=r,o={domWorld:this,predicateBody:e,title:"function",polling:n,timeout:s,args:i};return new Xr(o).promise}async title(){return this.evaluate(()=>document.title)}};fr.DOMWorld=qt;qt.bindingIdentifier=(t,e)=>`${t}_${e}`;var Xr=class{constructor(e){if(this._runCount=0,this._terminated=!1,Fe.helper.isString(e.polling))jt.assert(e.polling==="raf"||e.polling==="mutation","Unknown polling option: "+e.polling);else if(Fe.helper.isNumber(e.polling))jt.assert(e.polling>0,"Cannot poll with non-positive interval: "+e.polling);else throw new Error("Unknown polling options: "+e.polling);function r(i){return Fe.helper.isString(i)?`return (${i});`:`return (${i})(...args);`}if(this._domWorld=e.domWorld,this._polling=e.polling,this._timeout=e.timeout,this._predicateBody=r(e.predicateBody),this._args=e.args,this._binding=e.binding,this._runCount=0,this._domWorld._waitTasks.add(this),this._binding&&this._domWorld._boundFunctions.set(this._binding.name,this._binding.pptrFunction),this.promise=new Promise((i,n)=>{this._resolve=i,this._reject=n}),e.timeout){let i=new Y_.TimeoutError(`waiting for ${e.title} failed: timeout ${e.timeout}ms exceeded`);this._timeoutTimer=setTimeout(()=>this.terminate(i),e.timeout)}this.rerun()}terminate(e){this._terminated=!0,this._reject(e),this._cleanup()}async rerun(){let e=++this._runCount,r=null,i=null,n=await this._domWorld.executionContext();if(!(this._terminated||e!==this._runCount)&&(this._binding&&await this._domWorld.addBindingToContext(n,this._binding.name),!(this._terminated||e!==this._runCount))){try{r=await n.evaluateHandle(eg,this._predicateBody,this._polling,this._timeout,...this._args)}catch(s){i=s}if(this._terminated||e!==this._runCount){r&&await r.dispose();return}if(!i&&await this._domWorld.evaluate(s=>!s,r).catch(()=>!0)){await r.dispose();return}if(i){if(i.message.includes("TypeError: binding is not a function"))return this.rerun();if(i.message.includes("Execution context is not available in detached frame")){this.terminate(new Error("waitForFunction failed: frame got detached."));return}if(i.message.includes("Execution context was destroyed")||i.message.includes("Cannot find context with specified id"))return;this._reject(i)}else this._resolve(r);this._cleanup()}}_cleanup(){clearTimeout(this._timeoutTimer),this._domWorld._waitTasks.delete(this)}};fr.WaitTask=Xr;async function eg(t,e,r,...i){let n=new Function("...args",t),s=!1;if(r&&setTimeout(()=>s=!0,r),e==="raf")return await a();if(e==="mutation")return await o();if(typeof e=="number")return await c(e);async function o(){let d=await n(...i);if(d)return Promise.resolve(d);let u,f=new Promise(h=>u=h),l=new MutationObserver(async()=>{s&&(l.disconnect(),u());let h=await n(...i);h&&(l.disconnect(),u(h))});return l.observe(document,{childList:!0,subtree:!0,attributes:!0}),f}async function a(){let d,u=new Promise(l=>d=l);return await f(),u;async function f(){if(s){d();return}let l=await n(...i);l?d(l):requestAnimationFrame(f)}}async function c(d){let u,f=new Promise(h=>u=h);return await l(),f;async function l(){if(s){u();return}let h=await n(...i);h?u(h):setTimeout(l,d)}}}});var ho=_(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.Frame=Z.FrameManager=Z.FrameManagerEmittedEvents=void 0;var tg=cr(),rg=It(),hr=D(),po=Q(),Hl=an(),Wl=fo(),Kl=Ul(),ig=fn(),zl="__puppeteer_utility_world__",ng=/^\(\/\/[^\)]+\)|^\/\//;Z.FrameManagerEmittedEvents={FrameAttached:Symbol("FrameManager.FrameAttached"),FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};var $l=class extends rg.EventEmitter{constructor(e,r,i,n){super();this._frames=new Map,this._contextIdToContext=new Map,this._isolatedWorlds=new Set,this._client=e,this._page=r,this._networkManager=new ig.NetworkManager(e,i,this),this._timeoutSettings=n,this._client.on("Page.frameAttached",s=>this._onFrameAttached(s.frameId,s.parentFrameId)),this._client.on("Page.frameNavigated",s=>this._onFrameNavigated(s.frame)),this._client.on("Page.navigatedWithinDocument",s=>this._onFrameNavigatedWithinDocument(s.frameId,s.url)),this._client.on("Page.frameDetached",s=>this._onFrameDetached(s.frameId)),this._client.on("Page.frameStoppedLoading",s=>this._onFrameStoppedLoading(s.frameId)),this._client.on("Runtime.executionContextCreated",s=>this._onExecutionContextCreated(s.context)),this._client.on("Runtime.executionContextDestroyed",s=>this._onExecutionContextDestroyed(s.executionContextId)),this._client.on("Runtime.executionContextsCleared",()=>this._onExecutionContextsCleared()),this._client.on("Page.lifecycleEvent",s=>this._onLifecycleEvent(s)),this._client.on("Target.attachedToTarget",async s=>this._onFrameMoved(s))}async initialize(){let e=await Promise.all([this._client.send("Page.enable"),this._client.send("Page.getFrameTree")]),{frameTree:r}=e[1];this._handleFrameTree(r),await Promise.all([this._client.send("Page.setLifecycleEventsEnabled",{enabled:!0}),this._client.send("Runtime.enable").then(()=>this._ensureIsolatedWorld(zl)),this._networkManager.initialize()])}networkManager(){return this._networkManager}async navigateFrame(e,r,i={}){Gl(i);let{referer:n=this._networkManager.extraHTTPHeaders().referer,waitUntil:s=["load"],timeout:o=this._timeoutSettings.navigationTimeout()}=i,a=new Wl.LifecycleWatcher(this,e,s,o),c=!1,d=await Promise.race([u(this._client,r,n,e._id),a.timeoutOrTerminationPromise()]);if(d||(d=await Promise.race([a.timeoutOrTerminationPromise(),c?a.newDocumentNavigationPromise():a.sameDocumentNavigationPromise()])),a.dispose(),d)throw d;return a.navigationResponse();async function u(f,l,h,p){try{let y=await f.send("Page.navigate",{url:l,referrer:h,frameId:p});return c=!!y.loaderId,y.errorText?new Error(`${y.errorText} at ${l}`):null}catch(y){return y}}}async waitForFrameNavigation(e,r={}){Gl(r);let{waitUntil:i=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=r,s=new Wl.LifecycleWatcher(this,e,i,n),o=await Promise.race([s.timeoutOrTerminationPromise(),s.sameDocumentNavigationPromise(),s.newDocumentNavigationPromise()]);if(s.dispose(),o)throw o;return s.navigationResponse()}async _onFrameMoved(e){e.targetInfo.type==="iframe"&&tg.debug("puppeteer:frame")(`The frame '${e.targetInfo.targetId}' moved to another session. Out-of-process iframes (OOPIF) are not supported by Puppeteer yet. https://github.com/puppeteer/puppeteer/issues/2548`)}_onLifecycleEvent(e){let r=this._frames.get(e.frameId);!r||(r._onLifecycleEvent(e.loaderId,e.name),this.emit(Z.FrameManagerEmittedEvents.LifecycleEvent,r))}_onFrameStoppedLoading(e){let r=this._frames.get(e);!r||(r._onLoadingStopped(),this.emit(Z.FrameManagerEmittedEvents.LifecycleEvent,r))}_handleFrameTree(e){if(e.frame.parentId&&this._onFrameAttached(e.frame.id,e.frame.parentId),this._onFrameNavigated(e.frame),!!e.childFrames)for(let r of e.childFrames)this._handleFrameTree(r)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(e){return this._frames.get(e)||null}_onFrameAttached(e,r){if(this._frames.has(e))return;hr.assert(r);let i=this._frames.get(r),n=new pn(this,i,e);this._frames.set(n._id,n),this.emit(Z.FrameManagerEmittedEvents.FrameAttached,n)}_onFrameNavigated(e){let r=!e.parentId,i=r?this._mainFrame:this._frames.get(e.id);if(hr.assert(r||i,"We either navigate top level or have old version of the navigated frame"),i)for(let n of i.childFrames())this._removeFramesRecursively(n);r&&(i?(this._frames.delete(i._id),i._id=e.id):i=new pn(this,null,e.id),this._frames.set(e.id,i),this._mainFrame=i),i._navigated(e),this.emit(Z.FrameManagerEmittedEvents.FrameNavigated,i)}async _ensureIsolatedWorld(e){this._isolatedWorlds.has(e)||(this._isolatedWorlds.add(e),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${Hl.EVALUATION_SCRIPT_URL}`,worldName:e}),await Promise.all(this.frames().map(r=>this._client.send("Page.createIsolatedWorld",{frameId:r._id,worldName:e,grantUniveralAccess:!0}).catch(po.debugError))))}_onFrameNavigatedWithinDocument(e,r){let i=this._frames.get(e);!i||(i._navigatedWithinDocument(r),this.emit(Z.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,i),this.emit(Z.FrameManagerEmittedEvents.FrameNavigated,i))}_onFrameDetached(e){let r=this._frames.get(e);r&&this._removeFramesRecursively(r)}_onExecutionContextCreated(e){let r=e.auxData,i=r?r.frameId:null,n=this._frames.get(i)||null,s=null;n&&(e.auxData&&!!e.auxData.isDefault?s=n._mainWorld:e.name===zl&&!n._secondaryWorld._hasContext()&&(s=n._secondaryWorld));let o=new Hl.ExecutionContext(this._client,e,s);s&&s._setContext(o),this._contextIdToContext.set(e.id,o)}_onExecutionContextDestroyed(e){let r=this._contextIdToContext.get(e);!r||(this._contextIdToContext.delete(e),r._world&&r._world._setContext(null))}_onExecutionContextsCleared(){for(let e of this._contextIdToContext.values())e._world&&e._world._setContext(null);this._contextIdToContext.clear()}executionContextById(e){let r=this._contextIdToContext.get(e);return hr.assert(r,"INTERNAL ERROR: missing context with id = "+e),r}_removeFramesRecursively(e){for(let r of e.childFrames())this._removeFramesRecursively(r);e._detach(),this._frames.delete(e._id),this.emit(Z.FrameManagerEmittedEvents.FrameDetached,e)}};Z.FrameManager=$l;var pn=class{constructor(e,r,i){this._url="",this._detached=!1,this._loaderId="",this._lifecycleEvents=new Set,this._frameManager=e,this._parentFrame=r,this._url="",this._id=i,this._detached=!1,this._loaderId="",this._mainWorld=new Kl.DOMWorld(e,this,e._timeoutSettings),this._secondaryWorld=new Kl.DOMWorld(e,this,e._timeoutSettings),this._childFrames=new Set,this._parentFrame&&this._parentFrame._childFrames.add(this)}async goto(e,r={}){return await this._frameManager.navigateFrame(this,e,r)}async waitForNavigation(e={}){return await this._frameManager.waitForFrameNavigation(this,e)}executionContext(){return this._mainWorld.executionContext()}async evaluateHandle(e,...r){return this._mainWorld.evaluateHandle(e,...r)}async evaluate(e,...r){return this._mainWorld.evaluate(e,...r)}async $(e){return this._mainWorld.$(e)}async $x(e){return this._mainWorld.$x(e)}async $eval(e,r,...i){return this._mainWorld.$eval(e,r,...i)}async $$eval(e,r,...i){return this._mainWorld.$$eval(e,r,...i)}async $$(e){return this._mainWorld.$$(e)}async content(){return this._secondaryWorld.content()}async setContent(e,r={}){return this._secondaryWorld.setContent(e,r)}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(e){return this._mainWorld.addScriptTag(e)}async addStyleTag(e){return this._mainWorld.addStyleTag(e)}async click(e,r={}){return this._secondaryWorld.click(e,r)}async focus(e){return this._secondaryWorld.focus(e)}async hover(e){return this._secondaryWorld.hover(e)}select(e,...r){return this._secondaryWorld.select(e,...r)}async tap(e){return this._secondaryWorld.tap(e)}async type(e,r,i){return this._mainWorld.type(e,r,i)}waitFor(e,r={},...i){if(console.warn("waitFor is deprecated and will be removed in a future release. See https://github.com/puppeteer/puppeteer/issues/6214 for details and how to migrate your code."),po.helper.isString(e)){let n=e;return ng.test(n)?this.waitForXPath(n,r):this.waitForSelector(n,r)}return po.helper.isNumber(e)?new Promise(n=>setTimeout(n,e)):typeof e=="function"?this.waitForFunction(e,r,...i):Promise.reject(new Error("Unsupported target type: "+typeof e))}waitForTimeout(e){return new Promise(r=>{setTimeout(r,e)})}async waitForSelector(e,r={}){let i=await this._secondaryWorld.waitForSelector(e,r);if(!i)return null;let s=await(await this._mainWorld.executionContext())._adoptElementHandle(i);return await i.dispose(),s}async waitForXPath(e,r={}){let i=await this._secondaryWorld.waitForXPath(e,r);if(!i)return null;let s=await(await this._mainWorld.executionContext())._adoptElementHandle(i);return await i.dispose(),s}waitForFunction(e,r={},...i){return this._mainWorld.waitForFunction(e,r,...i)}async title(){return this._secondaryWorld.title()}_navigated(e){this._name=e.name,this._url=`${e.url}${e.urlFragment||""}`}_navigatedWithinDocument(e){this._url=e}_onLifecycleEvent(e,r){r==="init"&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(r)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_detach(){this._detached=!0,this._mainWorld._detach(),this._secondaryWorld._detach(),this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}};Z.Frame=pn;function Gl(t){hr.assert(t.networkIdleTimeout===void 0,"ERROR: networkIdleTimeout option is no longer supported."),hr.assert(t.networkIdleInflight===void 0,"ERROR: networkIdleInflight option is no longer supported."),hr.assert(t.waitUntil!=="networkidle",'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}});var Vl=_(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.keyDefinitions=void 0;mn.keyDefinitions={"0":{keyCode:48,key:"0",code:"Digit0"},"1":{keyCode:49,key:"1",code:"Digit1"},"2":{keyCode:50,key:"2",code:"Digit2"},"3":{keyCode:51,key:"3",code:"Digit3"},"4":{keyCode:52,key:"4",code:"Digit4"},"5":{keyCode:53,key:"5",code:"Digit5"},"6":{keyCode:54,key:"6",code:"Digit6"},"7":{keyCode:55,key:"7",code:"Digit7"},"8":{keyCode:56,key:"8",code:"Digit8"},"9":{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}}});var Zl=_(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.Touchscreen=lt.Mouse=lt.Keyboard=void 0;var sg=D(),Xl=Vl(),Ql=class{constructor(e){this._modifiers=0,this._pressedKeys=new Set,this._client=e}async down(e,r={text:void 0}){let i=this._keyDescriptionForString(e),n=this._pressedKeys.has(i.code);this._pressedKeys.add(i.code),this._modifiers|=this._modifierBit(i.key);let s=r.text===void 0?i.text:r.text;await this._client.send("Input.dispatchKeyEvent",{type:s?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:i.keyCode,code:i.code,key:i.key,text:s,unmodifiedText:s,autoRepeat:n,location:i.location,isKeypad:i.location===3})}_modifierBit(e){return e==="Alt"?1:e==="Control"?2:e==="Meta"?4:e==="Shift"?8:0}_keyDescriptionForString(e){let r=this._modifiers&8,i={key:"",keyCode:0,code:"",text:"",location:0},n=Xl.keyDefinitions[e];return sg.assert(n,`Unknown key: "${e}"`),n.key&&(i.key=n.key),r&&n.shiftKey&&(i.key=n.shiftKey),n.keyCode&&(i.keyCode=n.keyCode),r&&n.shiftKeyCode&&(i.keyCode=n.shiftKeyCode),n.code&&(i.code=n.code),n.location&&(i.location=n.location),i.key.length===1&&(i.text=i.key),n.text&&(i.text=n.text),r&&n.shiftText&&(i.text=n.shiftText),this._modifiers&~8&&(i.text=""),i}async up(e){let r=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(r.key),this._pressedKeys.delete(r.code),await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:r.key,windowsVirtualKeyCode:r.keyCode,code:r.code,location:r.location})}async sendCharacter(e){await this._client.send("Input.insertText",{text:e})}charIsKey(e){return!!Xl.keyDefinitions[e]}async type(e,r={}){let i=r.delay||null;for(let n of e)this.charIsKey(n)?await this.press(n,{delay:i}):(i&&await new Promise(s=>setTimeout(s,i)),await this.sendCharacter(n))}async press(e,r={}){let{delay:i=null}=r;await this.down(e,r),i&&await new Promise(n=>setTimeout(n,r.delay)),await this.up(e)}};lt.Keyboard=Ql;var Jl=class{constructor(e,r){this._x=0,this._y=0,this._button="none",this._client=e,this._keyboard=r}async move(e,r,i={}){let{steps:n=1}=i,s=this._x,o=this._y;this._x=e,this._y=r;for(let a=1;a<=n;a++)await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:s+(this._x-s)*(a/n),y:o+(this._y-o)*(a/n),modifiers:this._keyboard._modifiers})}async click(e,r,i={}){let{delay:n=null}=i;n!==null?(await this.move(e,r),await this.down(i),await new Promise(s=>setTimeout(s,n)),await this.up(i)):(await this.move(e,r),await this.down(i),await this.up(i))}async down(e={}){let{button:r="left",clickCount:i=1}=e;this._button=r,await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:r,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:i})}async up(e={}){let{button:r="left",clickCount:i=1}=e;this._button="none",await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:r,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:i})}async wheel(e={}){let{deltaX:r=0,deltaY:i=0}=e;await this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:this._x,y:this._y,deltaX:r,deltaY:i,modifiers:this._keyboard._modifiers,pointerType:"mouse"})}async drag(e,r){let i=new Promise(n=>{this._client.once("Input.dragIntercepted",s=>n(s.data))});return await this.move(e.x,e.y),await this.down(),await this.move(r.x,r.y),i}async dragEnter(e,r){await this._client.send("Input.dispatchDragEvent",{type:"dragEnter",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:r})}async dragOver(e,r){await this._client.send("Input.dispatchDragEvent",{type:"dragOver",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:r})}async drop(e,r){await this._client.send("Input.dispatchDragEvent",{type:"drop",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:r})}async dragAndDrop(e,r,i={}){let{delay:n=null}=i,s=await this.drag(e,r);await this.dragEnter(r,s),await this.dragOver(r,s),n&&await new Promise(o=>setTimeout(o,n)),await this.drop(r,s),await this.up()}};lt.Mouse=Jl;var Yl=class{constructor(e,r){this._client=e,this._keyboard=r}async tap(e,r){let i=[{x:Math.round(e),y:Math.round(r)}];await this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:i,modifiers:this._keyboard._modifiers}),await this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}};lt.Touchscreen=Yl});var ru=_(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.Tracing=void 0;var og=D(),eu=Q(),tu=class{constructor(e){this._recording=!1,this._path="",this._client=e}async start(e={}){og.assert(!this._recording,"Cannot start recording trace while already recording trace.");let r=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler"],{path:i=null,screenshots:n=!1,categories:s=r}=e;n&&s.push("disabled-by-default-devtools.screenshot");let o=s.filter(c=>c.startsWith("-")).map(c=>c.slice(1)),a=s.filter(c=>!c.startsWith("-"));this._path=i,this._recording=!0,await this._client.send("Tracing.start",{transferMode:"ReturnAsStream",traceConfig:{excludedCategories:o,includedCategories:a}})}async stop(){let e,r,i=new Promise((n,s)=>{e=n,r=s});return this._client.once("Tracing.tracingComplete",async n=>{try{let s=await eu.helper.getReadableFromProtocolStream(this._client,n.stream),o=await eu.helper.getReadableAsBuffer(s,this._path);e(o)}catch(s){r(s)}}),await this._client.send("Tracing.end"),this._recording=!1,i}};yn.Tracing=tu});var su=_(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.CSSCoverage=dt.JSCoverage=dt.Coverage=void 0;var _n=D(),ut=Q(),ag=an(),iu=class{constructor(e){this._jsCoverage=new mo(e),this._cssCoverage=new yo(e)}async startJSCoverage(e={}){return await this._jsCoverage.start(e)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e={}){return await this._cssCoverage.start(e)}async stopCSSCoverage(){return await this._cssCoverage.stop()}};dt.Coverage=iu;var mo=class{constructor(e){this._enabled=!1,this._scriptURLs=new Map,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._includeRawScriptCoverage=!1,this._client=e}async start(e={}){_n.assert(!this._enabled,"JSCoverage is already enabled");let{resetOnNavigation:r=!0,reportAnonymousScripts:i=!1,includeRawScriptCoverage:n=!1}=e;this._resetOnNavigation=r,this._reportAnonymousScripts=i,this._includeRawScriptCoverage=n,this._enabled=!0,this._scriptURLs.clear(),this._scriptSources.clear(),this._eventListeners=[ut.helper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),ut.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:this._includeRawScriptCoverage,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}_onExecutionContextsCleared(){!this._resetOnNavigation||(this._scriptURLs.clear(),this._scriptSources.clear())}async _onScriptParsed(e){if(e.url!==ag.EVALUATION_SCRIPT_URL&&!(!e.url&&!this._reportAnonymousScripts))try{let r=await this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url),this._scriptSources.set(e.scriptId,r.scriptSource)}catch(r){ut.debugError(r)}}async stop(){_n.assert(this._enabled,"JSCoverage is not enabled"),this._enabled=!1;let e=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);ut.helper.removeEventListeners(this._eventListeners);let r=[],i=e[0];for(let n of i.result){let s=this._scriptURLs.get(n.scriptId);!s&&this._reportAnonymousScripts&&(s="debugger://VM"+n.scriptId);let o=this._scriptSources.get(n.scriptId);if(o===void 0||s===void 0)continue;let a=[];for(let d of n.functions)a.push(...d.ranges);let c=nu(a);this._includeRawScriptCoverage?r.push({url:s,ranges:c,text:o,rawScriptCoverage:n}):r.push({url:s,ranges:c,text:o})}return r}};dt.JSCoverage=mo;var yo=class{constructor(e){this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){_n.assert(!this._enabled,"CSSCoverage is already enabled");let{resetOnNavigation:r=!0}=e;this._resetOnNavigation=r,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[ut.helper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),ut.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){!this._resetOnNavigation||(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}async _onStyleSheet(e){let r=e.header;if(!!r.sourceURL)try{let i=await this._client.send("CSS.getStyleSheetText",{styleSheetId:r.styleSheetId});this._stylesheetURLs.set(r.styleSheetId,r.sourceURL),this._stylesheetSources.set(r.styleSheetId,i.text)}catch(i){ut.debugError(i)}}async stop(){_n.assert(this._enabled,"CSSCoverage is not enabled"),this._enabled=!1;let e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),ut.helper.removeEventListeners(this._eventListeners);let r=new Map;for(let n of e.ruleUsage){let s=r.get(n.styleSheetId);s||(s=[],r.set(n.styleSheetId,s)),s.push({startOffset:n.startOffset,endOffset:n.endOffset,count:n.used?1:0})}let i=[];for(let n of this._stylesheetURLs.keys()){let s=this._stylesheetURLs.get(n),o=this._stylesheetSources.get(n),a=nu(r.get(n)||[]);i.push({url:s,ranges:a,text:o})}return i}};dt.CSSCoverage=yo;function nu(t){let e=[];for(let s of t)e.push({offset:s.startOffset,type:0,range:s}),e.push({offset:s.endOffset,type:1,range:s});e.sort((s,o)=>{if(s.offset!==o.offset)return s.offset-o.offset;if(s.type!==o.type)return o.type-s.type;let a=s.range.endOffset-s.range.startOffset,c=o.range.endOffset-o.range.startOffset;return s.type===0?c-a:a-c});let r=[],i=[],n=0;for(let s of e){if(r.length&&n<s.offset&&r[r.length-1]>0){let o=i.length?i[i.length-1]:null;o&&o.end===n?o.end=s.offset:i.push({start:n,end:s.offset})}n=s.offset,s.type===0?r.push(s.range.count):r.pop()}return i.filter(s=>s.end-s.start>1)}});var _o=_(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.WebWorker=void 0;var cg=It(),lg=Q(),ug=an(),dg=sn(),ou=class extends cg.EventEmitter{constructor(e,r,i,n){super();this._client=e,this._url=r,this._executionContextPromise=new Promise(o=>this._executionContextCallback=o);let s;this._client.once("Runtime.executionContextCreated",async o=>{s=c=>new dg.JSHandle(a,e,c);let a=new ug.ExecutionContext(e,o.context,null);this._executionContextCallback(a)}),this._client.send("Runtime.enable").catch(lg.debugError),this._client.on("Runtime.consoleAPICalled",o=>i(o.type,o.args.map(s),o.stackTrace)),this._client.on("Runtime.exceptionThrown",o=>n(o.exceptionDetails))}url(){return this._url}async executionContext(){return this._executionContextPromise}async evaluate(e,...r){return(await this._executionContextPromise).evaluate(e,...r)}async evaluateHandle(e,...r){return(await this._executionContextPromise).evaluateHandle(e,...r)}};gn.WebWorker=ou});var cu=_(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.Accessibility=void 0;var au=class{constructor(e){this._client=e}async snapshot(e={}){let{interestingOnly:r=!0,root:i=null}=e,{nodes:n}=await this._client.send("Accessibility.getFullAXTree"),s=null;if(i){let{node:d}=await this._client.send("DOM.describeNode",{objectId:i._remoteObject.objectId});s=d.backendNodeId}let o=bn.createTree(n),a=o;if(s&&(a=o.find(d=>d.payload.backendDOMNodeId===s),!a))return null;if(!r)return this.serializeTree(a)[0];let c=new Set;return this.collectInterestingNodes(c,o,!1),c.has(a)?this.serializeTree(a,c)[0]:null}serializeTree(e,r){let i=[];for(let s of e.children)i.push(...this.serializeTree(s,r));if(r&&!r.has(e))return i;let n=e.serialize();return i.length&&(n.children=i),[n]}collectInterestingNodes(e,r,i){if(r.isInteresting(i)&&e.add(r),!r.isLeafNode()){i=i||r.isControl();for(let n of r.children)this.collectInterestingNodes(e,n,i)}}};wn.Accessibility=au;var bn=class{constructor(e){this.children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._hidden=!1,this.payload=e,this._name=this.payload.name?this.payload.name.value:"",this._role=this.payload.role?this.payload.role.value:"Unknown",this._ignored=this.payload.ignored;for(let r of this.payload.properties||[])r.name==="editable"&&(this._richlyEditable=r.value.value==="richtext",this._editable=!0),r.name==="focusable"&&(this._focusable=r.value.value),r.name==="hidden"&&(this._hidden=r.value.value)}_isPlainTextField(){return this._richlyEditable?!1:this._editable?!0:this._role==="textbox"||this._role==="searchbox"}_isTextOnlyObject(){let e=this._role;return e==="LineBreak"||e==="text"||e==="InlineTextBox"}_hasFocusableChild(){if(this._cachedHasFocusableChild===void 0){this._cachedHasFocusableChild=!1;for(let e of this.children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}find(e){if(e(this))return this;for(let r of this.children){let i=r.find(e);if(i)return i}return null}isLeafNode(){if(!this.children.length||this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0;default:break}return this._hasFocusableChild()?!1:!!(this._focusable&&this._name||this._role==="heading"&&this._name)}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return this._role==="Ignored"||this._hidden||this._ignored?!1:this._focusable||this._richlyEditable||this.isControl()?!0:e?!1:this.isLeafNode()&&!!this._name}serialize(){let e=new Map;for(let l of this.payload.properties||[])e.set(l.name.toLowerCase(),l.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);let r={role:this._role},i=["name","value","description","keyshortcuts","roledescription","valuetext"],n=l=>e.get(l);for(let l of i)!e.has(l)||(r[l]=n(l));let s=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],o=l=>e.get(l);for(let l of s)l==="focused"&&this._role==="RootWebArea"||!o(l)||(r[l]=o(l));let a=["checked","pressed"];for(let l of a){if(!e.has(l))continue;let h=e.get(l);r[l]=h==="mixed"?"mixed":h==="true"}let c=["level","valuemax","valuemin"],d=l=>e.get(l);for(let l of c)!e.has(l)||(r[l]=d(l));let u=["autocomplete","haspopup","invalid","orientation"],f=l=>e.get(l);for(let l of u){let h=f(l);!h||h==="false"||(r[l]=f(l))}return r}static createTree(e){let r=new Map;for(let i of e)r.set(i.nodeId,new bn(i));for(let i of r.values())for(let n of i.payload.childIds||[])i.children.push(r.get(n));return r.values().next().value}}});var du=_(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.TimeoutSettings=void 0;var lu=3e4,uu=class{constructor(){this._defaultTimeout=null,this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){return this._defaultNavigationTimeout!==null?this._defaultNavigationTimeout:this._defaultTimeout!==null?this._defaultTimeout:lu}timeout(){return this._defaultTimeout!==null?this._defaultTimeout:lu}};vn.TimeoutSettings=uu});var pu=_(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.FileChooser=void 0;var fu=D(),hu=class{constructor(e,r){this._handled=!1,this._element=e,this._multiple=r.mode!=="selectSingle"}isMultiple(){return this._multiple}async accept(e){fu.assert(!this._handled,"Cannot accept FileChooser which is already handled!"),this._handled=!0,await this._element.uploadFile(...e)}cancel(){fu.assert(!this._handled,"Cannot cancel FileChooser which is already handled!"),this._handled=!0}};xn.FileChooser=hu});var yu=_(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.ConsoleMessage=void 0;var mu=class{constructor(e,r,i,n){this._type=e,this._text=r,this._args=i,this._stackTraceLocations=n}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._stackTraceLocations.length?this._stackTraceLocations[0]:{}}stackTrace(){return this._stackTraceLocations}};En.ConsoleMessage=mu});var _u=_(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.paperFormats=void 0;Sn.paperFormats={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}}});var xu=_(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Page=void 0;var fg=It(),gu=ur(),hg=Cl(),pg=Pl(),Cn=ho(),go=Zl(),mg=ru(),N=D(),j=Q(),yg=su(),_g=_o(),gg=sn(),Ke=fn(),bg=cu(),wg=du(),vg=pu(),bu=yu(),xg=_u(),Eg=We(),wu=class{constructor(){this._chain=Promise.resolve(void 0)}postTask(e){let r=this._chain.then(e);return this._chain=r.catch(()=>{}),r}},kn=class extends fg.EventEmitter{constructor(e,r,i){super();this._closed=!1,this._timeoutSettings=new wg.TimeoutSettings,this._pageBindings=new Map,this._javascriptEnabled=!0,this._workers=new Map,this._fileChooserInterceptors=new Set,this._userDragInterceptionEnabled=!1,this._client=e,this._target=r,this._keyboard=new go.Keyboard(e),this._mouse=new go.Mouse(e,this._keyboard),this._touchscreen=new go.Touchscreen(e,this._keyboard),this._accessibility=new bg.Accessibility(e),this._frameManager=new Cn.FrameManager(e,this,i,this._timeoutSettings),this._emulationManager=new pg.EmulationManager(e),this._tracing=new mg.Tracing(e),this._coverage=new yg.Coverage(e),this._screenshotTaskQueue=new wu,this._viewport=null,e.on("Target.attachedToTarget",s=>{if(s.targetInfo.type!=="worker"&&s.targetInfo.type!=="iframe"){e.send("Target.detachFromTarget",{sessionId:s.sessionId}).catch(j.debugError);return}let o=gu.Connection.fromSession(e).session(s.sessionId),a=new _g.WebWorker(o,s.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(s.sessionId,a),this.emit("workercreated",a)}),e.on("Target.detachedFromTarget",s=>{let o=this._workers.get(s.sessionId);!o||(this._workers.delete(s.sessionId),this.emit("workerdestroyed",o))}),this._frameManager.on(Cn.FrameManagerEmittedEvents.FrameAttached,s=>this.emit("frameattached",s)),this._frameManager.on(Cn.FrameManagerEmittedEvents.FrameDetached,s=>this.emit("framedetached",s)),this._frameManager.on(Cn.FrameManagerEmittedEvents.FrameNavigated,s=>this.emit("framenavigated",s));let n=this._frameManager.networkManager();n.on(Ke.NetworkManagerEmittedEvents.Request,s=>this.emit("request",s)),n.on(Ke.NetworkManagerEmittedEvents.RequestServedFromCache,s=>this.emit("requestservedfromcache",s)),n.on(Ke.NetworkManagerEmittedEvents.Response,s=>this.emit("response",s)),n.on(Ke.NetworkManagerEmittedEvents.RequestFailed,s=>this.emit("requestfailed",s)),n.on(Ke.NetworkManagerEmittedEvents.RequestFinished,s=>this.emit("requestfinished",s)),this._fileChooserInterceptors=new Set,e.on("Page.domContentEventFired",()=>this.emit("domcontentloaded")),e.on("Page.loadEventFired",()=>this.emit("load")),e.on("Runtime.consoleAPICalled",s=>this._onConsoleAPI(s)),e.on("Runtime.bindingCalled",s=>this._onBindingCalled(s)),e.on("Page.javascriptDialogOpening",s=>this._onDialog(s)),e.on("Runtime.exceptionThrown",s=>this._handleException(s.exceptionDetails)),e.on("Inspector.targetCrashed",()=>this._onTargetCrashed()),e.on("Performance.metrics",s=>this._emitMetrics(s)),e.on("Log.entryAdded",s=>this._onLogEntryAdded(s)),e.on("Page.fileChooserOpened",s=>this._onFileChooser(s)),this._target._isClosedPromise.then(()=>{this.emit("close"),this._closed=!0})}static async create(e,r,i,n){let s=new kn(e,r,i);return await s._initialize(),n&&await s.setViewport(n),s}async _initialize(){await Promise.all([this._frameManager.initialize(),this._client.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),this._client.send("Performance.enable"),this._client.send("Log.enable")])}async _onFileChooser(e){if(!this._fileChooserInterceptors.size)return;let n=await(await this._frameManager.frame(e.frameId).executionContext())._adoptBackendNodeId(e.backendNodeId),s=Array.from(this._fileChooserInterceptors);this._fileChooserInterceptors.clear();let o=new vg.FileChooser(n,e);for(let a of s)a.call(null,o)}isDragInterceptionEnabled(){return this._userDragInterceptionEnabled}isJavaScriptEnabled(){return this._javascriptEnabled}on(e,r){return e==="request"?super.on(e,i=>{i.enqueueInterceptAction(()=>r(i))}):super.on(e,r)}once(e,r){return super.once(e,r)}async waitForFileChooser(e={}){this._fileChooserInterceptors.size||await this._client.send("Page.setInterceptFileChooserDialog",{enabled:!0});let{timeout:r=this._timeoutSettings.timeout()}=e,i,n=new Promise(s=>i=s);return this._fileChooserInterceptors.add(i),j.helper.waitWithTimeout(n,"waiting for file chooser",r).catch(s=>{throw this._fileChooserInterceptors.delete(i),s})}async setGeolocation(e){let{longitude:r,latitude:i,accuracy:n=0}=e;if(r<-180||r>180)throw new Error(`Invalid longitude "${r}": precondition -180 <= LONGITUDE <= 180 failed.`);if(i<-90||i>90)throw new Error(`Invalid latitude "${i}": precondition -90 <= LATITUDE <= 90 failed.`);if(n<0)throw new Error(`Invalid accuracy "${n}": precondition 0 <= ACCURACY failed.`);await this._client.send("Emulation.setGeolocationOverride",{longitude:r,latitude:i,accuracy:n})}target(){return this._target}client(){return this._client}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){let{level:r,text:i,args:n,source:s,url:o,lineNumber:a}=e.entry;n&&n.map(c=>j.helper.releaseObject(this._client,c)),s!=="worker"&&this.emit("console",new bu.ConsoleMessage(r,i,[],[{url:o,lineNumber:a}]))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}async setRequestInterception(e){return this._frameManager.networkManager().setRequestInterception(e)}async setDragInterception(e){return this._userDragInterceptionEnabled=e,this._client.send("Input.setInterceptDrags",{enabled:e})}setOfflineMode(e){return this._frameManager.networkManager().setOfflineMode(e)}emulateNetworkConditions(e){return this._frameManager.networkManager().emulateNetworkConditions(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}async $(e){return this.mainFrame().$(e)}async evaluateHandle(e,...r){return(await this.mainFrame().executionContext()).evaluateHandle(e,...r)}async queryObjects(e){return(await this.mainFrame().executionContext()).queryObjects(e)}async $eval(e,r,...i){return this.mainFrame().$eval(e,r,...i)}async $$eval(e,r,...i){return this.mainFrame().$$eval(e,r,...i)}async $$(e){return this.mainFrame().$$(e)}async $x(e){return this.mainFrame().$x(e)}async cookies(...e){let r=(await this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies,i=["priority"],n=s=>{for(let o of i)delete s[o];return s};return r.map(n)}async deleteCookie(...e){let r=this.url();for(let i of e){let n=Object.assign({},i);!i.url&&r.startsWith("http")&&(n.url=r),await this._client.send("Network.deleteCookies",n)}}async setCookie(...e){let r=this.url(),i=r.startsWith("http"),n=e.map(s=>{let o=Object.assign({},s);return!o.url&&i&&(o.url=r),N.assert(o.url!=="about:blank",`Blank page can not have cookie "${o.name}"`),N.assert(!String.prototype.startsWith.call(o.url||"","data:"),`Data URL page can not have cookie "${o.name}"`),o});await this.deleteCookie(...n),n.length&&await this._client.send("Network.setCookies",{cookies:n})}async addScriptTag(e){return this.mainFrame().addScriptTag(e)}async addStyleTag(e){return this.mainFrame().addStyleTag(e)}async exposeFunction(e,r){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);this._pageBindings.set(e,r);let i=j.helper.pageBindingInitString("exposedFun",e);await this._client.send("Runtime.addBinding",{name:e}),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i}),await Promise.all(this.frames().map(n=>n.evaluate(i).catch(j.debugError)))}async authenticate(e){return this._frameManager.networkManager().authenticate(e)}async setExtraHTTPHeaders(e){return this._frameManager.networkManager().setExtraHTTPHeaders(e)}async setUserAgent(e,r){return this._frameManager.networkManager().setUserAgent(e,r)}async metrics(){let e=await this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}_emitMetrics(e){this.emit("metrics",{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){let r={};for(let i of e||[])Sg.has(i.name)&&(r[i.name]=i.value);return r}_handleException(e){let r=j.helper.getExceptionMessage(e),i=new Error(r);i.stack="",this.emit("pageerror",i)}async _onConsoleAPI(e){if(e.executionContextId===0)return;let r=this._frameManager.executionContextById(e.executionContextId),i=e.args.map(n=>gg.createJSHandle(r,n));this._addConsoleMessage(e.type,i,e.stackTrace)}async _onBindingCalled(e){let r;try{r=JSON.parse(e.payload)}catch{return}let{type:i,name:n,seq:s,args:o}=r;if(i!=="exposedFun"||!this._pageBindings.has(n))return;let a=null;try{let c=await this._pageBindings.get(n)(...o);a=j.helper.pageBindingDeliverResultString(n,s,c)}catch(c){c instanceof Error?a=j.helper.pageBindingDeliverErrorString(n,s,c.message,c.stack):a=j.helper.pageBindingDeliverErrorValueString(n,s,c)}this._client.send("Runtime.evaluate",{expression:a,contextId:e.executionContextId}).catch(j.debugError)}_addConsoleMessage(e,r,i){if(!this.listenerCount("console")){r.forEach(a=>a.dispose());return}let n=[];for(let a of r){let c=a._remoteObject;c.objectId?n.push(a.toString()):n.push(j.helper.valueFromRemoteObject(c))}let s=[];if(i)for(let a of i.callFrames)s.push({url:a.url,lineNumber:a.lineNumber,columnNumber:a.columnNumber});let o=new bu.ConsoleMessage(e,n.join(" "),r,s);this.emit("console",o)}_onDialog(e){let r=null;new Set(["alert","confirm","prompt","beforeunload"]).has(e.type)&&(r=e.type),N.assert(r,"Unknown javascript dialog type: "+e.type);let n=new hg.Dialog(this._client,r,e.message,e.defaultPrompt);this.emit("dialog",n)}async _resetDefaultBackgroundColor(){await this._client.send("Emulation.setDefaultBackgroundColorOverride")}async _setTransparentBackgroundColor(){await this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}})}url(){return this.mainFrame().url()}async content(){return await this._frameManager.mainFrame().content()}async setContent(e,r={}){await this._frameManager.mainFrame().setContent(e,r)}async goto(e,r={}){return await this._frameManager.mainFrame().goto(e,r)}async reload(e){return(await Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]))[0]}async waitForNavigation(e={}){return await this._frameManager.mainFrame().waitForNavigation(e)}_sessionClosePromise(){return this._disconnectPromise||(this._disconnectPromise=new Promise(e=>this._client.once(gu.CDPSessionEmittedEvents.Disconnected,()=>e(new Error("Target closed"))))),this._disconnectPromise}async waitForRequest(e,r={}){let{timeout:i=this._timeoutSettings.timeout()}=r;return j.helper.waitForEvent(this._frameManager.networkManager(),Ke.NetworkManagerEmittedEvents.Request,n=>j.helper.isString(e)?e===n.url():typeof e=="function"?!!e(n):!1,i,this._sessionClosePromise())}async waitForResponse(e,r={}){let{timeout:i=this._timeoutSettings.timeout()}=r;return j.helper.waitForEvent(this._frameManager.networkManager(),Ke.NetworkManagerEmittedEvents.Response,async n=>j.helper.isString(e)?e===n.url():typeof e=="function"?!!await e(n):!1,i,this._sessionClosePromise())}async waitForNetworkIdle(e={}){let{idleTime:r=500,timeout:i=this._timeoutSettings.timeout()}=e,n=this._frameManager.networkManager(),s,o=new Promise(m=>{s=m}),a,c=new Promise((m,g)=>{a=g}),d,u=()=>s(),f=()=>{d&&clearTimeout(d),a(new Error("abort"))},l=()=>{d&&clearTimeout(d),n.numRequestsInProgress()===0&&(d=setTimeout(u,r))};l();let h=()=>(l(),!1),p=m=>j.helper.waitForEvent(n,m,h,i,c),y=[p(Ke.NetworkManagerEmittedEvents.Request),p(Ke.NetworkManagerEmittedEvents.Response)];await Promise.race([o,...y,this._sessionClosePromise()]).then(m=>(f(),m),m=>{throw f(),m})}async goBack(e={}){return this._go(-1,e)}async goForward(e={}){return this._go(1,e)}async _go(e,r){let i=await this._client.send("Page.getNavigationHistory"),n=i.entries[i.currentIndex+e];return n?(await Promise.all([this.waitForNavigation(r),this._client.send("Page.navigateToHistoryEntry",{entryId:n.id})]))[0]:null}async bringToFront(){await this._client.send("Page.bringToFront")}async emulate(e){await Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}async setJavaScriptEnabled(e){this._javascriptEnabled!==e&&(this._javascriptEnabled=e,await this._client.send("Emulation.setScriptExecutionDisabled",{value:!e}))}async setBypassCSP(e){await this._client.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){N.assert(e==="screen"||e==="print"||e===null,"Unsupported media type: "+e),await this._client.send("Emulation.setEmulatedMedia",{media:e||""})}async emulateCPUThrottling(e){N.assert(e===null||e>=1,"Throttling rate should be greater or equal to 1"),await this._client.send("Emulation.setCPUThrottlingRate",{rate:e!==null?e:1})}async emulateMediaFeatures(e){e===null&&await this._client.send("Emulation.setEmulatedMedia",{features:null}),Array.isArray(e)&&(e.every(r=>{let i=r.name;return N.assert(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(i),"Unsupported media feature: "+i),!0}),await this._client.send("Emulation.setEmulatedMedia",{features:e}))}async emulateTimezone(e){try{await this._client.send("Emulation.setTimezoneOverride",{timezoneId:e||""})}catch(r){throw r.message.includes("Invalid timezone")?new Error(`Invalid timezone ID: ${e}`):r}}async emulateIdleState(e){e?await this._client.send("Emulation.setIdleOverride",{isUserActive:e.isUserActive,isScreenUnlocked:e.isScreenUnlocked}):await this._client.send("Emulation.clearIdleOverride")}async emulateVisionDeficiency(e){let r=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]);try{N.assert(!e||r.has(e),`Unsupported vision deficiency: ${e}`),await this._client.send("Emulation.setEmulatedVisionDeficiency",{type:e||"none"})}catch(i){throw i}}async setViewport(e){let r=await this._emulationManager.emulateViewport(e);this._viewport=e,r&&await this.reload()}viewport(){return this._viewport}async evaluate(e,...r){return this._frameManager.mainFrame().evaluate(e,...r)}async evaluateOnNewDocument(e,...r){let i=j.helper.evaluationString(e,...r);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i})}async setCacheEnabled(e=!0){await this._frameManager.networkManager().setCacheEnabled(e)}async screenshot(e={}){let r=null;if(e.type){let i=e.type;i!=="png"&&i!=="jpeg"&&i!=="webp"&&N.assertNever(i,"Unknown options.type value: "+i),r=e.type}else if(e.path){let i=e.path,n=i.slice(i.lastIndexOf(".")+1).toLowerCase();n==="png"?r="png":n==="jpg"||n==="jpeg"?r="jpeg":n==="webp"&&(r="webp"),N.assert(r,`Unsupported screenshot type for extension \`.${n}\``)}return r||(r="png"),e.quality&&(N.assert(r==="jpeg","options.quality is unsupported for the "+r+" screenshots"),N.assert(typeof e.quality=="number","Expected options.quality to be a number but found "+typeof e.quality),N.assert(Number.isInteger(e.quality),"Expected options.quality to be an integer"),N.assert(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)),N.assert(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive"),e.clip&&(N.assert(typeof e.clip.x=="number","Expected options.clip.x to be a number but found "+typeof e.clip.x),N.assert(typeof e.clip.y=="number","Expected options.clip.y to be a number but found "+typeof e.clip.y),N.assert(typeof e.clip.width=="number","Expected options.clip.width to be a number but found "+typeof e.clip.width),N.assert(typeof e.clip.height=="number","Expected options.clip.height to be a number but found "+typeof e.clip.height),N.assert(e.clip.width!==0,"Expected options.clip.width not to be 0."),N.assert(e.clip.height!==0,"Expected options.clip.height not to be 0.")),this._screenshotTaskQueue.postTask(()=>this._screenshotTask(r,e))}async _screenshotTask(e,r){await this._client.send("Target.activateTarget",{targetId:this._target._targetId});let i=r.clip?c(r.clip):void 0,{captureBeyondViewport:n=!0}=r;if(n=typeof n=="boolean"?n:!0,r.fullPage){let d=await this._client.send("Page.getLayoutMetrics"),{width:u,height:f}=d.cssContentSize||d.contentSize;if(i={x:0,y:0,width:u,height:f,scale:1},!n){let{isMobile:l=!1,deviceScaleFactor:h=1,isLandscape:p=!1}=this._viewport||{},y=p?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"};await this._client.send("Emulation.setDeviceMetricsOverride",{mobile:l,width:u,height:f,deviceScaleFactor:h,screenOrientation:y})}}let s=r.omitBackground&&(e==="png"||e==="webp");s&&await this._setTransparentBackgroundColor();let o=await this._client.send("Page.captureScreenshot",{format:e,quality:r.quality,clip:i,captureBeyondViewport:n});s&&await this._resetDefaultBackgroundColor(),r.fullPage&&this._viewport&&await this.setViewport(this._viewport);let a=r.encoding==="base64"?o.data:Buffer.from(o.data,"base64");if(r.path){if(!Eg.isNode)throw new Error("Screenshots can only be written to a file path in a Node environment.");await(await j.helper.importFSModule()).promises.writeFile(r.path,a)}return a;function c(d){let u=Math.round(d.x),f=Math.round(d.y),l=Math.round(d.width+d.x-u),h=Math.round(d.height+d.y-f);return{x:u,y:f,width:l,height:h,scale:1}}}async createPDFStream(e={}){let{scale:r=1,displayHeaderFooter:i=!1,headerTemplate:n="",footerTemplate:s="",printBackground:o=!1,landscape:a=!1,pageRanges:c="",preferCSSPageSize:d=!1,margin:u={},omitBackground:f=!1,timeout:l=3e4}=e,h=8.5,p=11;if(e.format){let x=xg.paperFormats[e.format.toLowerCase()];N.assert(x,"Unknown paper format: "+e.format),h=x.width,p=x.height}else h=pr(e.width)||h,p=pr(e.height)||p;let y=pr(u.top)||0,m=pr(u.left)||0,g=pr(u.bottom)||0,b=pr(u.right)||0;f&&await this._setTransparentBackgroundColor();let w=this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:a,displayHeaderFooter:i,headerTemplate:n,footerTemplate:s,printBackground:o,scale:r,paperWidth:h,paperHeight:p,marginTop:y,marginBottom:g,marginLeft:m,marginRight:b,pageRanges:c,preferCSSPageSize:d}),v=await j.helper.waitWithTimeout(w,"Page.printToPDF",l);return f&&await this._resetDefaultBackgroundColor(),j.helper.getReadableFromProtocolStream(this._client,v.stream)}async pdf(e={}){let{path:r=void 0}=e,i=await this.createPDFStream(e);return await j.helper.getReadableAsBuffer(i,r)}async title(){return this.mainFrame().title()}async close(e={runBeforeUnload:void 0}){N.assert(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed."),!!e.runBeforeUnload?await this._client.send("Page.close"):(await this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId}),await this._target._isClosedPromise)}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,r={}){return this.mainFrame().click(e,r)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...r){return this.mainFrame().select(e,...r)}tap(e){return this.mainFrame().tap(e)}type(e,r,i){return this.mainFrame().type(e,r,i)}waitFor(e,r={},...i){return this.mainFrame().waitFor(e,r,...i)}waitForTimeout(e){return this.mainFrame().waitForTimeout(e)}waitForSelector(e,r={}){return this.mainFrame().waitForSelector(e,r)}waitForXPath(e,r={}){return this.mainFrame().waitForXPath(e,r)}waitForFunction(e,r={},...i){return this.mainFrame().waitForFunction(e,r,...i)}};Pn.Page=kn;var Sg=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]),vu={px:1,in:96,cm:37.8,mm:3.78};function pr(t){if(typeof t=="undefined")return;let e;if(j.helper.isNumber(t))e=t;else if(j.helper.isString(t)){let r=t,i=r.substring(r.length-2).toLowerCase(),n="";vu.hasOwnProperty(i)?n=r.substring(0,r.length-2):(i="px",n=r);let s=Number(n);N.assert(!isNaN(s),"Failed to parse parameter value: "+r),e=s*vu[i]}else throw new Error("page.pdf() Cannot handle parameter type: "+typeof t);return e/96}});var Su=_(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.Target=void 0;var Cg=xu(),kg=_o(),Eu=class{constructor(e,r,i,n,s){this._targetInfo=e,this._browserContext=r,this._targetId=e.targetId,this._sessionFactory=i,this._ignoreHTTPSErrors=n,this._defaultViewport=s,this._pagePromise=null,this._workerPromise=null,this._initializedPromise=new Promise(o=>this._initializedCallback=o).then(async o=>{if(!o)return!1;let a=this.opener();if(!a||!a._pagePromise||this.type()!=="page")return!0;let c=await a._pagePromise;if(!c.listenerCount("popup"))return!0;let d=await this.page();return c.emit("popup",d),!0}),this._isClosedPromise=new Promise(o=>this._closedCallback=o),this._isInitialized=this._targetInfo.type!=="page"||this._targetInfo.url!=="",this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this._sessionFactory()}async page(){return(this._targetInfo.type==="page"||this._targetInfo.type==="background_page"||this._targetInfo.type==="webview")&&!this._pagePromise&&(this._pagePromise=this._sessionFactory().then(e=>Cg.Page.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport))),this._pagePromise}async worker(){return this._targetInfo.type!=="service_worker"&&this._targetInfo.type!=="shared_worker"?null:(this._workerPromise||(this._workerPromise=this._sessionFactory().then(e=>new kg.WebWorker(e,this._targetInfo.url,()=>{},()=>{}))),this._workerPromise)}url(){return this._targetInfo.url}type(){let e=this._targetInfo.type;return e==="page"||e==="background_page"||e==="service_worker"||e==="shared_worker"||e==="browser"||e==="webview"?e:"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){let{openerId:e}=this._targetInfo;return e?this.browser()._targets.get(e):null}_targetInfoChanged(e){if(this._targetInfo=e,!this._isInitialized&&(this._targetInfo.type!=="page"||this._targetInfo.url!=="")){this._isInitialized=!0,this._initializedCallback(!0);return}}};Tn.Target=Eu});var bo=_(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.BrowserContext=mr.Browser=void 0;var Mn=D(),Pg=Q(),Tg=Su(),Cu=It(),Mg=ur(),Og=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["payment-handler","paymentHandler"],["persistent-storage","durableStorage"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]),On=class extends Cu.EventEmitter{constructor(e,r,i,n,s,o,a){super();this._ignoreHTTPSErrors=i,this._defaultViewport=n,this._process=s,this._connection=e,this._closeCallback=o||function(){},this._targetFilterCallback=a||(()=>!0),this._defaultContext=new Qr(this._connection,this,null),this._contexts=new Map;for(let c of r)this._contexts.set(c,new Qr(this._connection,this,c));this._targets=new Map,this._connection.on(Mg.ConnectionEmittedEvents.Disconnected,()=>this.emit("disconnected")),this._connection.on("Target.targetCreated",this._targetCreated.bind(this)),this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this)),this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}static async create(e,r,i,n,s,o,a){let c=new On(e,r,i,n,s,o,a);return await e.send("Target.setDiscoverTargets",{discover:!0}),c}process(){return this._process}async createIncognitoBrowserContext(e={}){let{proxyServer:r="",proxyBypassList:i=[]}=e,{browserContextId:n}=await this._connection.send("Target.createBrowserContext",{proxyServer:r,proxyBypassList:i&&i.join(",")}),s=new Qr(this._connection,this,n);return this._contexts.set(n,s),s}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}async _disposeContext(e){await this._connection.send("Target.disposeBrowserContext",{browserContextId:e||void 0}),this._contexts.delete(e)}async _targetCreated(e){let r=e.targetInfo,{browserContextId:i}=r,n=i&&this._contexts.has(i)?this._contexts.get(i):this._defaultContext;if(!this._targetFilterCallback(r))return;let o=new Tg.Target(r,n,()=>this._connection.createSession(r),this._ignoreHTTPSErrors,this._defaultViewport);Mn.assert(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this._targets.set(e.targetInfo.targetId,o),await o._initializedPromise&&(this.emit("targetcreated",o),n.emit("targetcreated",o))}async _targetDestroyed(e){let r=this._targets.get(e.targetId);r._initializedCallback(!1),this._targets.delete(e.targetId),r._closedCallback(),await r._initializedPromise&&(this.emit("targetdestroyed",r),r.browserContext().emit("targetdestroyed",r))}_targetInfoChanged(e){let r=this._targets.get(e.targetInfo.targetId);Mn.assert(r,"target should exist before targetInfoChanged");let i=r.url(),n=r._isInitialized;r._targetInfoChanged(e.targetInfo),n&&i!==r.url()&&(this.emit("targetchanged",r),r.browserContext().emit("targetchanged",r))}wsEndpoint(){return this._connection.url()}async newPage(){return this._defaultContext.newPage()}async _createPageInContext(e){let{targetId:r}=await this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),i=this._targets.get(r);return Mn.assert(await i._initializedPromise,"Failed to create target for page"),await i.page()}targets(){return Array.from(this._targets.values()).filter(e=>e._isInitialized)}target(){return this.targets().find(e=>e.type()==="browser")}async waitForTarget(e,r={}){let{timeout:i=3e4}=r,n=this.targets().find(e);if(n)return n;let s,o=new Promise(c=>s=c);this.on("targetcreated",a),this.on("targetchanged",a);try{return i?await Pg.helper.waitWithTimeout(o,"target",i):await o}finally{this.removeListener("targetcreated",a),this.removeListener("targetchanged",a)}function a(c){e(c)&&s(c)}}async pages(){return(await Promise.all(this.browserContexts().map(r=>r.pages()))).reduce((r,i)=>r.concat(i),[])}async version(){return(await this._getVersion()).product}async userAgent(){return(await this._getVersion()).userAgent}async close(){await this._closeCallback.call(null),this.disconnect()}disconnect(){this._connection.dispose()}isConnected(){return!this._connection._closed}_getVersion(){return this._connection.send("Browser.getVersion")}};mr.Browser=On;var Qr=class extends Cu.EventEmitter{constructor(e,r,i){super();this._connection=e,this._browser=r,this._id=i}targets(){return this._browser.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,r={}){return this._browser.waitForTarget(i=>i.browserContext()===this&&e(i),r)}async pages(){return(await Promise.all(this.targets().filter(r=>r.type()==="page").map(r=>r.page()))).filter(r=>!!r)}isIncognito(){return!!this._id}async overridePermissions(e,r){let i=r.map(n=>{let s=Og.get(n);if(!s)throw new Error("Unknown permission: "+n);return s});await this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||void 0,permissions:i})}async clearPermissionOverrides(){await this._connection.send("Browser.resetPermissions",{browserContextId:this._id||void 0})}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}async close(){Mn.assert(this._id,"Non-incognito profiles cannot be closed!"),await this._browser._disposeContext(this._id)}};mr.BrowserContext=Qr});var Nu=_((Le,Au)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});function Jr(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Se=Jr(require("stream")),ku=Jr(require("http")),wo=Jr(require("url")),Rg=Jr(require("https")),Dt=Jr(require("zlib")),Fg=Se.Readable,ze=Symbol("buffer"),vo=Symbol("type"),Bt=class{constructor(){this[vo]="";let e=arguments[0],r=arguments[1],i=[],n=0;if(e){let o=e,a=Number(o.length);for(let c=0;c<a;c++){let d=o[c],u;d instanceof Buffer?u=d:ArrayBuffer.isView(d)?u=Buffer.from(d.buffer,d.byteOffset,d.byteLength):d instanceof ArrayBuffer?u=Buffer.from(d):d instanceof Bt?u=d[ze]:u=Buffer.from(typeof d=="string"?d:String(d)),n+=u.length,i.push(u)}}this[ze]=Buffer.concat(i);let s=r&&r.type!==void 0&&String(r.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[vo]=s)}get size(){return this[ze].length}get type(){return this[vo]}text(){return Promise.resolve(this[ze].toString())}arrayBuffer(){let e=this[ze],r=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(r)}stream(){let e=new Fg;return e._read=function(){},e.push(this[ze]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e=this.size,r=arguments[0],i=arguments[1],n,s;r===void 0?n=0:r<0?n=Math.max(e+r,0):n=Math.min(r,e),i===void 0?s=e:i<0?s=Math.max(e+i,0):s=Math.min(i,e);let o=Math.max(s-n,0),c=this[ze].slice(n,n+o),d=new Bt([],{type:arguments[2]});return d[ze]=c,d}};Object.defineProperties(Bt.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(Bt.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});function J(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}J.prototype=Object.create(Error.prototype);J.prototype.constructor=J;J.prototype.name="FetchError";var xo;try{xo=require("encoding").convert}catch(t){}var $e=Symbol("Body internals"),Pu=Se.PassThrough;function z(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.size;let n=i===void 0?0:i;var s=r.timeout;let o=s===void 0?0:s;t==null?t=null:Tu(t)?t=Buffer.from(t.toString()):Yr(t)||Buffer.isBuffer(t)||(Object.prototype.toString.call(t)==="[object ArrayBuffer]"?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof Se||(t=Buffer.from(String(t)))),this[$e]={body:t,disturbed:!1,error:null},this.size=n,this.timeout=o,t instanceof Se&&t.on("error",function(a){let c=a.name==="AbortError"?a:new J(`Invalid response body while trying to fetch ${e.url}: ${a.message}`,"system",a);e[$e].error=c})}z.prototype={get body(){return this[$e].body},get bodyUsed(){return this[$e].disturbed},arrayBuffer(){return yr.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return yr.call(this).then(function(e){return Object.assign(new Bt([],{type:t.toLowerCase()}),{[ze]:e})})},json(){var t=this;return yr.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(r){return z.Promise.reject(new J(`invalid json response body at ${t.url} reason: ${r.message}`,"invalid-json"))}})},text(){return yr.call(this).then(function(t){return t.toString()})},buffer(){return yr.call(this)},textConverted(){var t=this;return yr.call(this).then(function(e){return Lg(e,t.headers)})}};Object.defineProperties(z.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});z.mixIn=function(t){for(let e of Object.getOwnPropertyNames(z.prototype))if(!(e in t)){let r=Object.getOwnPropertyDescriptor(z.prototype,e);Object.defineProperty(t,e,r)}};function yr(){var t=this;if(this[$e].disturbed)return z.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[$e].disturbed=!0,this[$e].error)return z.Promise.reject(this[$e].error);let e=this.body;if(e===null)return z.Promise.resolve(Buffer.alloc(0));if(Yr(e)&&(e=e.stream()),Buffer.isBuffer(e))return z.Promise.resolve(e);if(!(e instanceof Se))return z.Promise.resolve(Buffer.alloc(0));let r=[],i=0,n=!1;return new z.Promise(function(s,o){let a;t.timeout&&(a=setTimeout(function(){n=!0,o(new J(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),e.on("error",function(c){c.name==="AbortError"?(n=!0,o(c)):o(new J(`Invalid response body while trying to fetch ${t.url}: ${c.message}`,"system",c))}),e.on("data",function(c){if(!(n||c===null)){if(t.size&&i+c.length>t.size){n=!0,o(new J(`content size at ${t.url} over limit: ${t.size}`,"max-size"));return}i+=c.length,r.push(c)}}),e.on("end",function(){if(!n){clearTimeout(a);try{s(Buffer.concat(r,i))}catch(c){o(new J(`Could not create Buffer from response body for ${t.url}: ${c.message}`,"system",c))}}})})}function Lg(t,e){if(typeof xo!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");let r=e.get("content-type"),i="utf-8",n,s;return r&&(n=/charset=([^;]*)/i.exec(r)),s=t.slice(0,1024).toString(),!n&&s&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)),!n&&s&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),n||(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(s),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop()))),!n&&s&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)),n&&(i=n.pop(),(i==="gb2312"||i==="gbk")&&(i="gb18030")),xo(t,"UTF-8",i).toString()}function Tu(t){return typeof t!="object"||typeof t.append!="function"||typeof t.delete!="function"||typeof t.get!="function"||typeof t.getAll!="function"||typeof t.has!="function"||typeof t.set!="function"?!1:t.constructor.name==="URLSearchParams"||Object.prototype.toString.call(t)==="[object URLSearchParams]"||typeof t.sort=="function"}function Yr(t){return typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function Mu(t){let e,r,i=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof Se&&typeof i.getBoundary!="function"&&(e=new Pu,r=new Pu,i.pipe(e),i.pipe(r),t[$e].body=e,i=r),i}function Ou(t){return t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":Tu(t)?"application/x-www-form-urlencoded;charset=UTF-8":Yr(t)?t.type||null:Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object ArrayBuffer]"||ArrayBuffer.isView(t)?null:typeof t.getBoundary=="function"?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof Se?null:"text/plain;charset=UTF-8"}function Ru(t){let e=t.body;return e===null?0:Yr(e)?e.size:Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&(e._lengthRetrievers&&e._lengthRetrievers.length==0||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}function Ig(t,e){let r=e.body;r===null?t.end():Yr(r)?r.stream().pipe(t):Buffer.isBuffer(r)?(t.write(r),t.end()):r.pipe(t)}z.Promise=global.Promise;var Fu=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Eo=/[^\t\x20-\x7e\x80-\xff]/;function Zr(t){if(t=`${t}`,Fu.test(t)||t==="")throw new TypeError(`${t} is not a legal HTTP header name`)}function Lu(t){if(t=`${t}`,Eo.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function _r(t,e){e=e.toLowerCase();for(let r in t)if(r.toLowerCase()===e)return r}var B=Symbol("map"),ae=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[B]=Object.create(null),e instanceof ae){let r=e.raw(),i=Object.keys(r);for(let n of i)for(let s of r[n])this.append(n,s);return}if(e!=null)if(typeof e=="object"){let r=e[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");let i=[];for(let n of e){if(typeof n!="object"||typeof n[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");i.push(Array.from(n))}for(let n of i){if(n.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(n[0],n[1])}}else for(let i of Object.keys(e)){let n=e[i];this.append(i,n)}}else throw new TypeError("Provided initializer must be an object")}get(e){e=`${e}`,Zr(e);let r=_r(this[B],e);return r===void 0?null:this[B][r].join(", ")}forEach(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=So(this),n=0;for(;n<i.length;){var s=i[n];let o=s[0],a=s[1];e.call(r,a,o,this),i=So(this),n++}}set(e,r){e=`${e}`,r=`${r}`,Zr(e),Lu(r);let i=_r(this[B],e);this[B][i!==void 0?i:e]=[r]}append(e,r){e=`${e}`,r=`${r}`,Zr(e),Lu(r);let i=_r(this[B],e);i!==void 0?this[B][i].push(r):this[B][e]=[r]}has(e){return e=`${e}`,Zr(e),_r(this[B],e)!==void 0}delete(e){e=`${e}`,Zr(e);let r=_r(this[B],e);r!==void 0&&delete this[B][r]}raw(){return this[B]}keys(){return ko(this,"key")}values(){return ko(this,"value")}[Symbol.iterator](){return ko(this,"key+value")}};ae.prototype.entries=ae.prototype[Symbol.iterator];Object.defineProperty(ae.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(ae.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});function So(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(t[B]).sort().map(e==="key"?function(i){return i.toLowerCase()}:e==="value"?function(i){return t[B][i].join(", ")}:function(i){return[i.toLowerCase(),t[B][i].join(", ")]})}var Co=Symbol("internal");function ko(t,e){let r=Object.create(Po);return r[Co]={target:t,kind:e,index:0},r}var Po=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Po)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[Co];let e=t.target,r=t.kind,i=t.index,n=So(e,r),s=n.length;return i>=s?{value:void 0,done:!0}:(this[Co].index=i+1,{value:n[i],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(Po,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});function Ag(t){let e=Object.assign({__proto__:null},t[B]),r=_r(t[B],"Host");return r!==void 0&&(e[r]=e[r][0]),e}function Ng(t){let e=new ae;for(let r of Object.keys(t))if(!Fu.test(r))if(Array.isArray(t[r]))for(let i of t[r])Eo.test(i)||(e[B][r]===void 0?e[B][r]=[i]:e[B][r].push(i));else Eo.test(t[r])||(e[B][r]=[t[r]]);return e}var ft=Symbol("Response internals"),jg=ku.STATUS_CODES,he=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z.call(this,e,r);let i=r.status||200,n=new ae(r.headers);if(e!=null&&!n.has("Content-Type")){let s=Ou(e);s&&n.append("Content-Type",s)}this[ft]={url:r.url,status:i,statusText:r.statusText||jg[i],headers:n,counter:r.counter}}get url(){return this[ft].url||""}get status(){return this[ft].status}get ok(){return this[ft].status>=200&&this[ft].status<300}get redirected(){return this[ft].counter>0}get statusText(){return this[ft].statusText}get headers(){return this[ft].headers}clone(){return new he(Mu(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};z.mixIn(he.prototype);Object.defineProperties(he.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(he.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var Ge=Symbol("Request internals"),To=wo.parse,qg=wo.format,Dg="destroy"in Se.Readable.prototype;function Rn(t){return typeof t=="object"&&typeof t[Ge]=="object"}function Bg(t){let e=t&&typeof t=="object"&&Object.getPrototypeOf(t);return!!(e&&e.constructor.name==="AbortSignal")}var Ve=class{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i;Rn(e)?i=To(e.url):(e&&e.href?i=To(e.href):i=To(`${e}`),e={});let n=r.method||e.method||"GET";if(n=n.toUpperCase(),(r.body!=null||Rn(e)&&e.body!==null)&&(n==="GET"||n==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let s=r.body!=null?r.body:Rn(e)&&e.body!==null?Mu(e):null;z.call(this,s,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});let o=new ae(r.headers||e.headers||{});if(s!=null&&!o.has("Content-Type")){let c=Ou(s);c&&o.append("Content-Type",c)}let a=Rn(e)?e.signal:null;if("signal"in r&&(a=r.signal),a!=null&&!Bg(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[Ge]={method:n,redirect:r.redirect||e.redirect||"follow",headers:o,parsedURL:i,signal:a},this.follow=r.follow!==void 0?r.follow:e.follow!==void 0?e.follow:20,this.compress=r.compress!==void 0?r.compress:e.compress!==void 0?e.compress:!0,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[Ge].method}get url(){return qg(this[Ge].parsedURL)}get headers(){return this[Ge].headers}get redirect(){return this[Ge].redirect}get signal(){return this[Ge].signal}clone(){return new Ve(this)}};z.mixIn(Ve.prototype);Object.defineProperty(Ve.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(Ve.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});function Ug(t){let e=t[Ge].parsedURL,r=new ae(t[Ge].headers);if(r.has("Accept")||r.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof Se.Readable&&!Dg)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(t.body==null&&/^(POST|PUT)$/i.test(t.method)&&(i="0"),t.body!=null){let s=Ru(t);typeof s=="number"&&(i=String(s))}i&&r.set("Content-Length",i),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let n=t.agent;return typeof n=="function"&&(n=n(e)),!r.has("Connection")&&!n&&r.set("Connection","close"),Object.assign({},e,{method:t.method,headers:Ag(r),agent:n})}function ei(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}ei.prototype=Object.create(Error.prototype);ei.prototype.constructor=ei;ei.prototype.name="AbortError";var Iu=Se.PassThrough,Hg=wo.resolve;function ht(t,e){if(!ht.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return z.Promise=ht.Promise,new ht.Promise(function(r,i){let n=new Ve(t,e),s=Ug(n),o=(s.protocol==="https:"?Rg:ku).request,a=n.signal,c=null,d=function(){let y=new ei("The user aborted a request.");i(y),n.body&&n.body instanceof Se.Readable&&n.body.destroy(y),!(!c||!c.body)&&c.body.emit("error",y)};if(a&&a.aborted){d();return}let u=function(){d(),h()},f=o(s),l;a&&a.addEventListener("abort",u);function h(){f.abort(),a&&a.removeEventListener("abort",u),clearTimeout(l)}n.timeout&&f.once("socket",function(p){l=setTimeout(function(){i(new J(`network timeout at: ${n.url}`,"request-timeout")),h()},n.timeout)}),f.on("error",function(p){i(new J(`request to ${n.url} failed, reason: ${p.message}`,"system",p)),h()}),f.on("response",function(p){clearTimeout(l);let y=Ng(p.headers);if(ht.isRedirect(p.statusCode)){let v=y.get("Location"),x=v===null?null:Hg(n.url,v);switch(n.redirect){case"error":i(new J(`uri requested responds with a redirect, redirect mode is set to error: ${n.url}`,"no-redirect")),h();return;case"manual":if(x!==null)try{y.set("Location",x)}catch(S){i(S)}break;case"follow":if(x===null)break;if(n.counter>=n.follow){i(new J(`maximum redirect reached at: ${n.url}`,"max-redirect")),h();return}let E={headers:new ae(n.headers),follow:n.follow,counter:n.counter+1,agent:n.agent,compress:n.compress,method:n.method,body:n.body,signal:n.signal,timeout:n.timeout,size:n.size};if(p.statusCode!==303&&n.body&&Ru(n)===null){i(new J("Cannot follow redirect with body being a readable stream","unsupported-redirect")),h();return}(p.statusCode===303||(p.statusCode===301||p.statusCode===302)&&n.method==="POST")&&(E.method="GET",E.body=void 0,E.headers.delete("content-length")),r(ht(new Ve(x,E))),h();return}}p.once("end",function(){a&&a.removeEventListener("abort",u)});let m=p.pipe(new Iu),g={url:n.url,status:p.statusCode,statusText:p.statusMessage,headers:y,size:n.size,timeout:n.timeout,counter:n.counter},b=y.get("Content-Encoding");if(!n.compress||n.method==="HEAD"||b===null||p.statusCode===204||p.statusCode===304){c=new he(m,g),r(c);return}let w={flush:Dt.Z_SYNC_FLUSH,finishFlush:Dt.Z_SYNC_FLUSH};if(b=="gzip"||b=="x-gzip"){m=m.pipe(Dt.createGunzip(w)),c=new he(m,g),r(c);return}if(b=="deflate"||b=="x-deflate"){p.pipe(new Iu).once("data",function(x){(x[0]&15)==8?m=m.pipe(Dt.createInflate()):m=m.pipe(Dt.createInflateRaw()),c=new he(m,g),r(c)});return}if(b=="br"&&typeof Dt.createBrotliDecompress=="function"){m=m.pipe(Dt.createBrotliDecompress()),c=new he(m,g),r(c);return}c=new he(m,g),r(c)}),Ig(f,n)})}ht.isRedirect=function(t){return t===301||t===302||t===303||t===307||t===308};ht.Promise=global.Promise;Au.exports=Le=ht;Object.defineProperty(Le,"__esModule",{value:!0});Le.default=Le;Le.Headers=ae;Le.Request=Ve;Le.Response=he;Le.FetchError=J});var ju=_(Ie=>{"use strict";var Wg=Ie&&Ie.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Kg=Ie&&Ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zg=Ie&&Ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wg(e,t,r);return Kg(e,t),e};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.getFetch=void 0;var $g=We(),Gg=async()=>$g.isNode?await Promise.resolve().then(()=>zg(Nu())):globalThis.fetch;Ie.getFetch=Gg});var Ut=_((eC,qu)=>{"use strict";qu.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}});var ti=_((tC,Mo)=>{"use strict";var{EMPTY_BUFFER:Vg}=Ut();function Du(t,e){if(t.length===0)return Vg;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),i=0;for(let n=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return i<e?r.slice(0,i):r}function Bu(t,e,r,i,n){for(let s=0;s<n;s++)r[i+s]=t[s]^e[s&3]}function Uu(t,e){let r=t.length;for(let i=0;i<r;i++)t[i]^=e[i&3]}function Hu(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function Fn(t){if(Fn.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=Buffer.from(t):ArrayBuffer.isView(t)?e=Buffer.from(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Fn.readOnly=!1),e}try{let t=require("bufferutil"),e=t.BufferUtil||t;Mo.exports={concat:Du,mask(r,i,n,s,o){o<48?Bu(r,i,n,s,o):e.mask(r,i,n,s,o)},toArrayBuffer:Hu,toBuffer:Fn,unmask(r,i){r.length<32?Uu(r,i):e.unmask(r,i)}}}catch(t){Mo.exports={concat:Du,mask:Bu,toArrayBuffer:Hu,toBuffer:Fn,unmask:Uu}}});var $u=_((rC,zu)=>{"use strict";var Wu=Symbol("kDone"),Oo=Symbol("kRun"),Ku=class{constructor(e){this[Wu]=()=>{this.pending--,this[Oo]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Oo]()}[Oo](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Wu])}}};zu.exports=Ku});var ni=_((iC,Ju)=>{"use strict";var ri=require("zlib"),Gu=ti(),Xg=$u(),{kStatusCode:Vu,NOOP:Qg}=Ut(),Jg=Buffer.from([0,0,255,255]),Ln=Symbol("permessage-deflate"),Xe=Symbol("total-length"),ii=Symbol("callback"),pt=Symbol("buffers"),Ro=Symbol("error"),In,Xu=class{constructor(e,r,i){if(this._maxPayload=i|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!In){let n=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;In=new Xg(n)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[ii];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,i=e.find(n=>!(r.serverNoContextTakeover===!1&&n.server_no_context_takeover||n.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>n.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!n.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(i.server_no_context_takeover=!0),r.clientNoContextTakeover&&(i.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(i.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?i.client_max_window_bits=r.clientMaxWindowBits:(i.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete i.client_max_window_bits,i}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(i=>{let n=r[i];if(n.length>1)throw new Error(`Parameter "${i}" must have only a single value`);if(n=n[0],i==="client_max_window_bits"){if(n!==!0){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else if(i==="server_max_window_bits"){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(i==="client_no_context_takeover"||i==="server_no_context_takeover"){if(n!==!0)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else throw new Error(`Unknown parameter "${i}"`);r[i]=n})}),e}decompress(e,r,i){In.add(n=>{this._decompress(e,r,(s,o)=>{n(),i(s,o)})})}compress(e,r,i){In.add(n=>{this._compress(e,r,(s,o)=>{n(),i(s,o)})})}_decompress(e,r,i){let n=this._isServer?"client":"server";if(!this._inflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?ri.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=ri.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[Ln]=this,this._inflate[Xe]=0,this._inflate[pt]=[],this._inflate.on("error",Zg),this._inflate.on("data",Qu)}this._inflate[ii]=i,this._inflate.write(e),r&&this._inflate.write(Jg),this._inflate.flush(()=>{let s=this._inflate[Ro];if(s){this._inflate.close(),this._inflate=null,i(s);return}let o=Gu.concat(this._inflate[pt],this._inflate[Xe]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Xe]=0,this._inflate[pt]=[],r&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,o)})}_compress(e,r,i){let n=this._isServer?"server":"client";if(!this._deflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?ri.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=ri.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[Xe]=0,this._deflate[pt]=[],this._deflate.on("error",Qg),this._deflate.on("data",Yg)}this._deflate[ii]=i,this._deflate.write(e),this._deflate.flush(ri.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=Gu.concat(this._deflate[pt],this._deflate[Xe]);r&&(s=s.slice(0,s.length-4)),this._deflate[ii]=null,this._deflate[Xe]=0,this._deflate[pt]=[],r&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,s)})}};Ju.exports=Xu;function Yg(t){this[pt].push(t),this[Xe]+=t.length}function Qu(t){if(this[Xe]+=t.length,this[Ln]._maxPayload<1||this[Xe]<=this[Ln]._maxPayload){this[pt].push(t);return}this[Ro]=new RangeError("Max payload size exceeded"),this[Ro][Vu]=1009,this.removeListener("data",Qu),this.reset()}function Zg(t){this[Ln]._inflate=null,t[Vu]=1007,this[ii](t)}});var Lo=_((nC,Fo)=>{"use strict";function Yu(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Zu(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)==0)r++;else if((t[r]&224)==192){if(r+1===e||(t[r+1]&192)!=128||(t[r]&254)==192)return!1;r+=2}else if((t[r]&240)==224){if(r+2>=e||(t[r+1]&192)!=128||(t[r+2]&192)!=128||t[r]===224&&(t[r+1]&224)==128||t[r]===237&&(t[r+1]&224)==160)return!1;r+=3}else if((t[r]&248)==240){if(r+3>=e||(t[r+1]&192)!=128||(t[r+2]&192)!=128||(t[r+3]&192)!=128||t[r]===240&&(t[r+1]&240)==128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}try{let t=require("utf-8-validate");typeof t=="object"&&(t=t.Validation.isValidUTF8),Fo.exports={isValidStatusCode:Yu,isValidUTF8(e){return e.length<150?Zu(e):t(e)}}}catch(t){Fo.exports={isValidStatusCode:Yu,isValidUTF8:Zu}}});var No=_((sC,od)=>{"use strict";var{Writable:e0}=require("stream"),ed=ni(),{BINARY_TYPES:t0,EMPTY_BUFFER:r0,kStatusCode:i0,kWebSocket:n0}=Ut(),{concat:Io,toArrayBuffer:s0,unmask:o0}=ti(),{isValidStatusCode:a0,isValidUTF8:td}=Lo(),si=0,rd=1,id=2,nd=3,Ao=4,c0=5,sd=class extends e0{constructor(e,r,i,n){super();this._binaryType=e||t0[0],this[n0]=void 0,this._extensions=r||{},this._isServer=!!i,this._maxPayload=n|0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=si,this._loop=!1}_write(e,r,i){if(this._opcode===8&&this._state==si)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let i=this._buffers[0];return this._buffers[0]=i.slice(e),i.slice(0,e)}let r=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=r.length-e;e>=i.length?r.set(this._buffers.shift(),n):(r.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=i.slice(e)),e-=i.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case si:r=this.getInfo();break;case rd:r=this.getPayloadLength16();break;case id:r=this.getPayloadLength64();break;case nd:this.getMask();break;case Ao:r=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if((e[0]&48)!=0)return this._loop=!1,H(RangeError,"RSV2 and RSV3 must be clear",!0,1002);let r=(e[0]&64)==64;if(r&&!this._extensions[ed.extensionName])return this._loop=!1,H(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=(e[0]&128)==128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,H(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,H(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,H(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,H(RangeError,"FIN must be set",!0,1002);if(r)return this._loop=!1,H(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,H(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}else return this._loop=!1,H(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)==128,this._isServer){if(!this._masked)return this._loop=!1,H(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,H(RangeError,"MASK must be clear",!0,1002);if(this._payloadLength===126)this._state=rd;else if(this._payloadLength===127)this._state=id;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,H(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,H(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=nd:this._state=Ao}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Ao}getData(e){let r=r0;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&o0(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=c0,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[ed.extensionName].decompress(e,this._fin,(n,s)=>{if(n)return r(n);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(H(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(s)}let o=this.dataMessage();if(o)return r(o);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=Io(r,e):this._binaryType==="arraybuffer"?i=s0(Io(r,e)):i=r,this.emit("message",i)}else{let i=Io(r,e);if(!td(i))return this._loop=!1,H(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",i.toString())}}this._state=si}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,""),this.end();else{if(e.length===1)return H(RangeError,"invalid payload length 1",!0,1002);{let r=e.readUInt16BE(0);if(!a0(r))return H(RangeError,`invalid status code ${r}`,!0,1002);let i=e.slice(2);if(!td(i))return H(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",r,i.toString()),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=si}};od.exports=sd;function H(t,e,r,i){let n=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(n,H),n[i0]=i,n}});var jo=_((oC,ld)=>{"use strict";var{randomFillSync:l0}=require("crypto"),ad=ni(),{EMPTY_BUFFER:u0}=Ut(),{isValidStatusCode:d0}=Lo(),{mask:cd,toBuffer:Qe}=ti(),Ht=Buffer.alloc(4),Je=class{constructor(e,r){this._extensions=r||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let i=r.mask&&r.readOnly,n=r.mask?6:2,s=e.length;e.length>=65536?(n+=8,s=127):e.length>125&&(n+=2,s=126);let o=Buffer.allocUnsafe(i?e.length+n:n);return o[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(o[0]|=64),o[1]=s,s===126?o.writeUInt16BE(e.length,2):s===127&&(o.writeUInt32BE(0,2),o.writeUInt32BE(e.length,6)),r.mask?(l0(Ht,0,4),o[1]|=128,o[n-4]=Ht[0],o[n-3]=Ht[1],o[n-2]=Ht[2],o[n-1]=Ht[3],i?(cd(e,Ht,o,n,e.length),[o]):(cd(e,Ht,e,0,e.length),[o,e])):[o,e]}close(e,r,i,n){let s;if(e===void 0)s=u0;else{if(typeof e!="number"||!d0(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||r==="")s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+o),s.writeUInt16BE(e,0),s.write(r,2)}}this._deflating?this.enqueue([this.doClose,s,i,n]):this.doClose(s,i,n)}doClose(e,r,i){this.sendFrame(Je.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:r,readOnly:!1}),i)}ping(e,r,i){let n=Qe(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,r,Qe.readOnly,i]):this.doPing(n,r,Qe.readOnly,i)}doPing(e,r,i,n){this.sendFrame(Je.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:r,readOnly:i}),n)}pong(e,r,i){let n=Qe(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,r,Qe.readOnly,i]):this.doPong(n,r,Qe.readOnly,i)}doPong(e,r,i,n){this.sendFrame(Je.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:r,readOnly:i}),n)}send(e,r,i){let n=Qe(e),s=this._extensions[ad.extensionName],o=r.binary?2:1,a=r.compress;if(this._firstFragment?(this._firstFragment=!1,a&&s&&(a=n.length>=s._threshold),this._compress=a):(a=!1,o=0),r.fin&&(this._firstFragment=!0),s){let c={fin:r.fin,rsv1:a,opcode:o,mask:r.mask,readOnly:Qe.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,c,i]):this.dispatch(n,this._compress,c,i)}else this.sendFrame(Je.frame(n,{fin:r.fin,rsv1:!1,opcode:o,mask:r.mask,readOnly:Qe.readOnly}),i)}dispatch(e,r,i,n){if(!r){this.sendFrame(Je.frame(e,i),n);return}let s=this._extensions[ad.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,s.compress(e,i.fin,(o,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof n=="function"&&n(c);for(let d=0;d<this._queue.length;d++){let u=this._queue[d][4];typeof u=="function"&&u(c)}return}this._bufferedBytes-=e.length,this._deflating=!1,i.readOnly=!1,this.sendFrame(Je.frame(a,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};ld.exports=Je});var md=_((aC,pd)=>{"use strict";var oi=class{constructor(e,r){this.target=r,this.type=e}},ud=class extends oi{constructor(e,r){super("message",r);this.data=e}},dd=class extends oi{constructor(e,r,i){super("close",i);this.wasClean=i._closeFrameReceived&&i._closeFrameSent,this.reason=r,this.code=e}},fd=class extends oi{constructor(e){super("open",e)}},hd=class extends oi{constructor(e,r){super("error",r);this.message=e.message,this.error=e}},f0={addEventListener(t,e,r){if(typeof e!="function")return;function i(c){e.call(this,new ud(c,this))}function n(c,d){e.call(this,new dd(c,d,this))}function s(c){e.call(this,new hd(c,this))}function o(){e.call(this,new fd(this))}let a=r&&r.once?"once":"on";t==="message"?(i._listener=e,this[a](t,i)):t==="close"?(n._listener=e,this[a](t,n)):t==="error"?(s._listener=e,this[a](t,s)):t==="open"?(o._listener=e,this[a](t,o)):this[a](t,e)},removeEventListener(t,e){let r=this.listeners(t);for(let i=0;i<r.length;i++)(r[i]===e||r[i]._listener===e)&&this.removeListener(t,r[i])}};pd.exports=f0});var qo=_((cC,yd)=>{"use strict";var ai=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Ae(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function h0(t){let e=Object.create(null);if(t===void 0||t==="")return e;let r=Object.create(null),i=!1,n=!1,s=!1,o,a,c=-1,d=-1,u=0;for(;u<t.length;u++){let l=t.charCodeAt(u);if(o===void 0)if(d===-1&&ai[l]===1)c===-1&&(c=u);else if(l===32||l===9)d===-1&&c!==-1&&(d=u);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u);let h=t.slice(c,d);l===44?(Ae(e,h,r),r=Object.create(null)):o=h,c=d=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);else if(a===void 0)if(d===-1&&ai[l]===1)c===-1&&(c=u);else if(l===32||l===9)d===-1&&c!==-1&&(d=u);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u),Ae(r,t.slice(c,d),!0),l===44&&(Ae(e,o,r),r=Object.create(null),o=void 0),c=d=-1}else if(l===61&&c!==-1&&d===-1)a=t.slice(c,u),c=d=-1;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(n){if(ai[l]!==1)throw new SyntaxError(`Unexpected character at index ${u}`);c===-1?c=u:i||(i=!0),n=!1}else if(s)if(ai[l]===1)c===-1&&(c=u);else if(l===34&&c!==-1)s=!1,d=u;else if(l===92)n=!0;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(l===34&&t.charCodeAt(u-1)===61)s=!0;else if(d===-1&&ai[l]===1)c===-1&&(c=u);else if(c!==-1&&(l===32||l===9))d===-1&&(d=u);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u);let h=t.slice(c,d);i&&(h=h.replace(/\\/g,""),i=!1),Ae(r,a,h),l===44&&(Ae(e,o,r),r=Object.create(null),o=void 0),a=void 0,c=d=-1}else throw new SyntaxError(`Unexpected character at index ${u}`)}if(c===-1||s)throw new SyntaxError("Unexpected end of input");d===-1&&(d=u);let f=t.slice(c,d);return o===void 0?Ae(e,f,r):(a===void 0?Ae(r,f,!0):i?Ae(r,a,f.replace(/\\/g,"")):Ae(r,a,f),Ae(e,o,r)),e}function p0(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(i=>[e].concat(Object.keys(i).map(n=>{let s=i[n];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?n:`${n}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}yd.exports={format:p0,parse:h0}});var Wo=_((lC,kd)=>{"use strict";var m0=require("events"),y0=require("https"),_0=require("http"),_d=require("net"),g0=require("tls"),{randomBytes:b0,createHash:w0}=require("crypto"),{URL:Do}=require("url"),mt=ni(),v0=No(),x0=jo(),{BINARY_TYPES:gd,EMPTY_BUFFER:Bo,GUID:E0,kStatusCode:S0,kWebSocket:re,NOOP:bd}=Ut(),{addEventListener:C0,removeEventListener:k0}=md(),{format:P0,parse:T0}=qo(),{toBuffer:M0}=ti(),wd=["CONNECTING","OPEN","CLOSING","CLOSED"],Uo=[8,13],O0=30*1e3,T=class extends m0{constructor(e,r,i){super();this._binaryType=gd[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=T.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(r)?r=r.join(", "):typeof r=="object"&&r!==null&&(i=r,r=void 0),vd(this,e,r,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){!gd.includes(e)||(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,i){let n=new v0(this.binaryType,this._extensions,this._isServer,i);this._sender=new x0(e,this._extensions),this._receiver=n,this._socket=e,n[re]=this,e[re]=this,n.on("conclude",L0),n.on("drain",I0),n.on("error",A0),n.on("message",N0),n.on("ping",j0),n.on("pong",q0),e.setTimeout(0),e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",Ed),e.on("data",An),e.on("end",Sd),e.on("error",Cd),this._readyState=T.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=T.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[mt.extensionName]&&this._extensions[mt.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=T.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==T.CLOSED){if(this.readyState===T.CONNECTING){let i="WebSocket was closed before the connection was established";return Ye(this,this._req,i)}if(this.readyState===T.CLOSING){this._closeFrameSent&&this._closeFrameReceived&&this._socket.end();return}this._readyState=T.CLOSING,this._sender.close(e,r,!this._isServer,i=>{i||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),O0)}}ping(e,r,i){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==T.OPEN){Ho(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Bo,r,i)}pong(e,r,i){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==T.OPEN){Ho(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Bo,r,i)}send(e,r,i){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(i=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==T.OPEN){Ho(this,e,i);return}let n={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[mt.extensionName]||(n.compress=!1),this._sender.send(e||Bo,n,i)}terminate(){if(this.readyState!==T.CLOSED){if(this.readyState===T.CONNECTING){let e="WebSocket was closed before the connection was established";return Ye(this,this._req,e)}this._socket&&(this._readyState=T.CLOSING,this._socket.destroy())}}};wd.forEach((t,e)=>{let r={enumerable:!0,value:e};Object.defineProperty(T.prototype,t,r),Object.defineProperty(T,t,r)});["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(t=>{Object.defineProperty(T.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(T.prototype,`on${t}`,{configurable:!0,enumerable:!0,get(){let e=this.listeners(t);for(let r=0;r<e.length;r++)if(e[r]._listener)return e[r]._listener},set(e){let r=this.listeners(t);for(let i=0;i<r.length;i++)r[i]._listener&&this.removeListener(t,r[i]);this.addEventListener(t,e)}})});T.prototype.addEventListener=C0;T.prototype.removeEventListener=k0;kd.exports=T;function vd(t,e,r,i){let n={protocolVersion:Uo[1],maxPayload:100*1024*1024,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!Uo.includes(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${Uo.join(", ")})`);let s;e instanceof Do?(s=e,t._url=e.href):(s=new Do(e),t._url=e);let o=s.protocol==="ws+unix:";if(!s.host&&(!o||!s.pathname))throw new Error(`Invalid URL: ${t.url}`);let a=s.protocol==="wss:"||s.protocol==="https:",c=a?443:80,d=b0(16).toString("base64"),u=a?y0.get:_0.get,f;if(n.createConnection=a?F0:R0,n.defaultPort=n.defaultPort||c,n.port=s.port||c,n.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,n.headers={"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":d,Connection:"Upgrade",Upgrade:"websocket",...n.headers},n.path=s.pathname+s.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(f=new mt(n.perMessageDeflate!==!0?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=P0({[mt.extensionName]:f.offer()})),r&&(n.headers["Sec-WebSocket-Protocol"]=r),n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(s.username||s.password)&&(n.auth=`${s.username}:${s.password}`),o){let h=n.path.split(":");n.socketPath=h[0],n.path=h[1]}let l=t._req=u(n);n.timeout&&l.on("timeout",()=>{Ye(t,l,"Opening handshake has timed out")}),l.on("error",h=>{l===null||l.aborted||(l=t._req=null,t._readyState=T.CLOSING,t.emit("error",h),t.emitClose())}),l.on("response",h=>{let p=h.headers.location,y=h.statusCode;if(p&&n.followRedirects&&y>=300&&y<400){if(++t._redirects>n.maxRedirects){Ye(t,l,"Maximum redirects exceeded");return}l.abort();let m=new Do(p,e);vd(t,m,r,i)}else t.emit("unexpected-response",l,h)||Ye(t,l,`Unexpected server response: ${h.statusCode}`)}),l.on("upgrade",(h,p,y)=>{if(t.emit("upgrade",h),t.readyState!==T.CONNECTING)return;l=t._req=null;let m=w0("sha1").update(d+E0).digest("base64");if(h.headers["sec-websocket-accept"]!==m){Ye(t,p,"Invalid Sec-WebSocket-Accept header");return}let g=h.headers["sec-websocket-protocol"],b=(r||"").split(/, */),w;if(!r&&g?w="Server sent a subprotocol but none was requested":r&&!g?w="Server sent no subprotocol":g&&!b.includes(g)&&(w="Server sent an invalid subprotocol"),w){Ye(t,p,w);return}if(g&&(t._protocol=g),f)try{let v=T0(h.headers["sec-websocket-extensions"]);v[mt.extensionName]&&(f.accept(v[mt.extensionName]),t._extensions[mt.extensionName]=f)}catch(v){Ye(t,p,"Invalid Sec-WebSocket-Extensions header");return}t.setSocket(p,y,n.maxPayload)})}function R0(t){return t.path=t.socketPath,_d.connect(t)}function F0(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=_d.isIP(t.host)?"":t.host),g0.connect(t)}function Ye(t,e,r){t._readyState=T.CLOSING;let i=new Error(r);Error.captureStackTrace(i,Ye),e.setHeader?(e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),e.once("abort",t.emitClose.bind(t)),t.emit("error",i)):(e.destroy(i),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function Ho(t,e,r){if(e){let i=M0(e).length;t._socket?t._sender._bufferedBytes+=i:t._bufferedAmount+=i}if(r){let i=new Error(`WebSocket is not open: readyState ${t.readyState} (${wd[t.readyState]})`);r(i)}}function L0(t,e){let r=this[re];r._socket.removeListener("data",An),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,t===1005?r.close():r.close(t,e)}function I0(){this[re]._socket.resume()}function A0(t){let e=this[re];e._socket.removeListener("data",An),e._readyState=T.CLOSING,e._closeCode=t[S0],e.emit("error",t),e._socket.destroy()}function xd(){this[re].emitClose()}function N0(t){this[re].emit("message",t)}function j0(t){let e=this[re];e.pong(t,!e._isServer,bd),e.emit("ping",t)}function q0(t){this[re].emit("pong",t)}function Ed(){let t=this[re];this.removeListener("close",Ed),this.removeListener("end",Sd),t._readyState=T.CLOSING,t._socket.read(),t._receiver.end(),this.removeListener("data",An),this[re]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",xd),t._receiver.on("finish",xd))}function An(t){this[re]._receiver.write(t)||this.pause()}function Sd(){let t=this[re];t._readyState=T.CLOSING,t._receiver.end(),this.end()}function Cd(){let t=this[re];this.removeListener("error",Cd),this.on("error",bd),t&&(t._readyState=T.CLOSING,this.destroy())}});var Od=_((uC,Md)=>{"use strict";var{Duplex:D0}=require("stream");function Pd(t){t.emit("close")}function B0(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Td(t){this.removeListener("error",Td),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function U0(t,e){let r=!0;function i(){r&&t._socket.resume()}t.readyState===t.CONNECTING?t.once("open",function(){t._receiver.removeAllListeners("drain"),t._receiver.on("drain",i)}):(t._receiver.removeAllListeners("drain"),t._receiver.on("drain",i));let n=new D0({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o){n.push(o)||(r=!1,t._socket.pause())}),t.once("error",function(o){n.destroyed||n.destroy(o)}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(s,o){if(t.readyState===t.CLOSED){o(s),process.nextTick(Pd,n);return}let a=!1;t.once("error",function(d){a=!0,o(d)}),t.once("close",function(){a||o(s),process.nextTick(Pd,n)}),t.terminate()},n._final=function(s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(s)});return}t._socket!==null&&(t._socket._writableState.finished?(s(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){s()}),t.close()))},n._read=function(){t.readyState===t.OPEN&&!r&&(r=!0,t._receiver._writableState.needDrain||t._socket.resume())},n._write=function(s,o,a){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(s,o,a)});return}t.send(s,a)},n.on("end",B0),n.on("error",Td),n}Md.exports=U0});var Ld=_((dC,Fd)=>{"use strict";var H0=require("events"),{createHash:W0}=require("crypto"),{createServer:K0,STATUS_CODES:Ko}=require("http"),Wt=ni(),z0=Wo(),{format:$0,parse:G0}=qo(),{GUID:V0,kWebSocket:X0}=Ut(),Q0=/^[+/0-9A-Za-z]{22}==$/,Rd=class extends H0{constructor(e,r){super();if(e={maxPayload:100*1024*1024,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e},e.port==null&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=K0((i,n)=>{let s=Ko[426];n.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),n.end(s)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let i=this.emit.bind(this,"connection");this._removeListeners=J0(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(n,s,o)=>{this.handleUpgrade(n,s,o,i)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(let i of this.clients)i.terminate();let r=this._server;if(r&&(this._removeListeners(),this._removeListeners=this._server=null,this.options.port!=null)){r.close(()=>this.emit("close"));return}process.nextTick(Y0,this)}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,i,n){r.on("error",zo);let s=e.headers["sec-websocket-key"]!==void 0?e.headers["sec-websocket-key"].trim():!1,o=+e.headers["sec-websocket-version"],a={};if(e.method!=="GET"||e.headers.upgrade.toLowerCase()!=="websocket"||!s||!Q0.test(s)||o!==8&&o!==13||!this.shouldHandle(e))return Nn(r,400);if(this.options.perMessageDeflate){let c=new Wt(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=G0(e.headers["sec-websocket-extensions"]);d[Wt.extensionName]&&(c.accept(d[Wt.extensionName]),a[Wt.extensionName]=c)}catch(d){return Nn(r,400)}}if(this.options.verifyClient){let c={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(c,(d,u,f,l)=>{if(!d)return Nn(r,u||401,f,l);this.completeUpgrade(s,a,e,r,i,n)});return}if(!this.options.verifyClient(c))return Nn(r,401)}this.completeUpgrade(s,a,e,r,i,n)}completeUpgrade(e,r,i,n,s,o){if(!n.readable||!n.writable)return n.destroy();if(n[X0])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");let a=W0("sha1").update(e+V0).digest("base64"),c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${a}`],d=new z0(null),u=i.headers["sec-websocket-protocol"];if(u&&(u=u.split(",").map(Z0),this.options.handleProtocols?u=this.options.handleProtocols(u,i):u=u[0],u&&(c.push(`Sec-WebSocket-Protocol: ${u}`),d._protocol=u)),r[Wt.extensionName]){let f=r[Wt.extensionName].params,l=$0({[Wt.extensionName]:[f]});c.push(`Sec-WebSocket-Extensions: ${l}`),d._extensions=r}this.emit("headers",c,i),n.write(c.concat(`\r
`).join(`\r
`)),n.removeListener("error",zo),d.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(d),d.on("close",()=>this.clients.delete(d))),o(d,i)}};Fd.exports=Rd;function J0(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let i of Object.keys(e))t.removeListener(i,e[i])}}function Y0(t){t.emit("close")}function zo(){this.destroy()}function Nn(t,e,r,i){t.writable&&(r=r||Ko[e],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},t.write(`HTTP/1.1 ${e} ${Ko[e]}\r
`+Object.keys(i).map(n=>`${n}: ${i[n]}`).join(`\r
`)+`\r
\r
`+r)),t.removeListener("error",zo),t.destroy()}function Z0(t){return t.trim()}});var Ad=_((fC,Id)=>{"use strict";var ci=Wo();ci.createWebSocketStream=Od();ci.Server=Ld();ci.Receiver=No();ci.Sender=jo();Id.exports=ci});var Nd=_((hC,eb)=>{eb.exports={name:"puppeteer-core",version:"10.4.0",description:"A high-level API to control headless Chrome over the DevTools Protocol",main:"./cjs-entry-core.js",types:"lib/types.d.ts",repository:"github:puppeteer/puppeteer",engines:{node:">=10.18.1"},scripts:{"test-browser":"wtr","test-browser-watch":"wtr --watch",unit:"npm run tsc-cjs && mocha --config mocha-config/puppeteer-unit-tests.js","unit-debug":"npm run tsc-cjs && mocha --inspect-brk --config mocha-config/puppeteer-unit-tests.js","unit-with-coverage":"cross-env COVERAGE=1 npm run unit","assert-unit-coverage":"cross-env COVERAGE=1 mocha --config mocha-config/coverage-tests.js",funit:"cross-env PUPPETEER_PRODUCT=firefox npm run unit",test:"npm run tsc && npm run lint --silent && npm run unit-with-coverage && npm run test-browser",prepare:"node typescript-if-required.js",prepublishOnly:"npm run build","dev-install":"npm run tsc && node install.js",eslint:'([ "$CI" = true ] && eslint --ext js --ext ts --quiet -f codeframe . || eslint --ext js --ext ts .)',"eslint-fix":"eslint --ext js --ext ts --fix .",commitlint:"commitlint --from=HEAD~1",markdownlint:"prettier --check **/README.md docs/troubleshooting.md","markdownlint-fix":"prettier --write **/README.md docs/troubleshooting.md",lint:"npm run eslint && npm run build && npm run doc && npm run commitlint && npm run markdownlint",doc:"node utils/doclint/cli.js","clean-lib":"rimraf lib",build:"npm run tsc && npm run generate-d-ts",tsc:"npm run clean-lib && tsc --version && npm run tsc-cjs && npm run tsc-esm","tsc-cjs":"tsc -b src/tsconfig.cjs.json","tsc-esm":"tsc -b src/tsconfig.esm.json","apply-next-version":"node utils/apply_next_version.js","test-install":"scripts/test-install.sh","clean-docs":"rimraf website/docs && rimraf docs-api-json","generate-d-ts":"npm run clean-docs && api-extractor run --local --verbose && node inject-global-type-stubs.js","generate-docs":"npm run generate-d-ts && api-documenter markdown -i docs-api-json -o website/docs && node utils/remove-tag.js","ensure-correct-devtools-protocol-revision":"ts-node -s scripts/ensure-correct-devtools-protocol-package","ensure-pinned-deps":"ts-node -s scripts/ensure-pinned-deps","test-types-file":"ts-node -s scripts/test-ts-definition-files.ts",release:"node utils/remove_version_suffix.js && standard-version --commit-all","build-docs-production":"cd website && npm install && npm run build"},files:["lib/types.d.ts","lib/**/*.d.ts","lib/**/*.d.ts.map","lib/**/*.js","lib/**/*.js.map","install.js","typescript-if-required.js","cjs-entry.js","cjs-entry-core.js"],author:"The Chromium Authors",license:"Apache-2.0",dependencies:{debug:"4.3.1","devtools-protocol":"0.0.901419","extract-zip":"2.0.1","https-proxy-agent":"5.0.0","node-fetch":"2.6.1","pkg-dir":"4.2.0",progress:"2.0.1","proxy-from-env":"1.1.0",rimraf:"3.0.2","tar-fs":"2.0.0","unbzip2-stream":"1.3.3",ws:"7.4.6"},devDependencies:{"@commitlint/cli":"11.0.0","@commitlint/config-conventional":"11.0.0","@microsoft/api-documenter":"7.13.8","@microsoft/api-extractor":"7.15.1","@types/debug":"0.0.31","@types/mime":"2.0.3","@types/mocha":"7.0.2","@types/node":"14.14.45","@types/proxy-from-env":"1.0.1","@types/rimraf":"2.0.2","@types/sinon":"9.0.11","@types/tar-fs":"1.16.2","@types/ws":"7.4.4","@typescript-eslint/eslint-plugin":"4.23.0","@typescript-eslint/parser":"4.23.0","@web/test-runner":"0.12.20",commonmark:"0.29.3","cross-env":"7.0.3",eslint:"7.26.0","eslint-config-prettier":"8.3.0","eslint-plugin-import":"2.22.1","eslint-plugin-mocha":"8.1.0","eslint-plugin-prettier":"3.4.0","eslint-plugin-unicorn":"22.0.0",esprima:"4.0.0",expect:"25.2.7",husky:"4.3.8","jpeg-js":"0.3.7",mime:"2.5.2",minimist:"1.2.0",mocha:"8.4.0",ncp:"2.0.0",pixelmatch:"4.0.2",pngjs:"5.0.0",prettier:"2.3.0",sinon:"9.2.4","source-map-support":"0.5.19","standard-version":"9.3.0","text-diff":"1.0.1","ts-node":"9.1.1",typescript:"4.2.4"},husky:{hooks:{"pre-commit":"npm run eslint","commit-msg":"commitlint --env HUSKY_GIT_PARAMS","pre-push":"npm run tsc && npm run eslint && npm run doc && npm run ensure-pinned-deps"}}}});var $o=_(gr=>{"use strict";var tb=gr&&gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});gr.NodeWebSocketTransport=void 0;var rb=tb(Ad()),jn=class{constructor(e){this._ws=e,this._ws.addEventListener("message",r=>{this.onmessage&&this.onmessage.call(null,r.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){let r=Nd();return new Promise((i,n)=>{let s=new rb.default(e,[],{followRedirects:!0,perMessageDeflate:!1,maxPayload:256*1024*1024,headers:{"User-Agent":`Puppeteer ${r.version}`}});s.addEventListener("open",()=>i(new jn(s))),s.addEventListener("error",n)})}send(e){this._ws.send(e)}close(){this._ws.close()}};gr.NodeWebSocketTransport=jn});var jd=_(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.BrowserWebSocketTransport=void 0;var qn=class{constructor(e){this._ws=e,this._ws.addEventListener("message",r=>{this.onmessage&&this.onmessage.call(null,r.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){return new Promise((r,i)=>{let n=new WebSocket(e);n.addEventListener("open",()=>r(new qn(n))),n.addEventListener("error",i)})}send(e){this._ws.send(e)}close(){this._ws.close()}};Dn.BrowserWebSocketTransport=qn});var Bd=_(Ne=>{"use strict";var ib=Ne&&Ne.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),nb=Ne&&Ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qd=Ne&&Ne.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ib(e,t,r);return nb(e,t),e};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.connectToBrowser=void 0;var sb=bo(),ob=D(),ab=Q(),Go=ur(),cb=ju(),lb=We(),Dd=async()=>lb.isNode?(await Promise.resolve().then(()=>qd($o()))).NodeWebSocketTransport:(await Promise.resolve().then(()=>qd(jd()))).BrowserWebSocketTransport,ub=async t=>{let{browserWSEndpoint:e,browserURL:r,ignoreHTTPSErrors:i=!1,defaultViewport:n={width:800,height:600},transport:s,slowMo:o=0,targetFilter:a}=t;ob.assert(Number(!!e)+Number(!!r)+Number(!!s)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let c=null;if(s)c=new Go.Connection("",s,o);else if(e){let f=await(await Dd()).create(e);c=new Go.Connection(e,f,o)}else if(r){let u=await db(r),l=await(await Dd()).create(u);c=new Go.Connection(u,l,o)}let{browserContextIds:d}=await c.send("Target.getBrowserContexts");return sb.Browser.create(c,d,i,n,null,()=>c.send("Browser.close").catch(ab.debugError),a)};Ne.connectToBrowser=ub;async function db(t){let e=new URL("/json/version",t),r=await cb.getFetch();try{let i=await r(e.toString(),{method:"GET"});if(!i.ok)throw new Error(`HTTP ${i.statusText}`);return(await i.json()).webSocketDebuggerUrl}catch(i){throw i.message=`Failed to fetch browser webSocket URL from ${e}: `+i.message,i}}});var Ud=_(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.networkConditions=void 0;Bn.networkConditions={"Slow 3G":{download:500*1e3/8*.8,upload:500*1e3/8*.8,latency:400*5},"Fast 3G":{download:1.6*1e3*1e3/8*.9,upload:750*1e3/8*.9,latency:150*3.75}}});var Wd=_(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.Puppeteer=void 0;var fb=rr(),hb=zc(),Un=Gi(),pb=Bd(),mb=Ud(),Hd=class{constructor(e){this._changedProduct=!1,this._isPuppeteerCore=e.isPuppeteerCore}connect(e){return pb.connectToBrowser(e)}get devices(){return hb.devicesMap}get errors(){return fb.puppeteerErrors}get networkConditions(){return mb.networkConditions}registerCustomQueryHandler(e,r){Un.registerCustomQueryHandler(e,r)}unregisterCustomQueryHandler(e){Un.unregisterCustomQueryHandler(e)}customQueryHandlerNames(){return Un.customQueryHandlerNames()}clearCustomQueryHandlers(){Un.clearCustomQueryHandlers()}};Hn.Puppeteer=Hd});var Vo=_((bC,Kd)=>{function yb(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=n,r.enabled=o,r.humanize=Zs(),r.destroy=d,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let f=0;for(let l=0;l<u.length;l++)f=(f<<5)-f+u.charCodeAt(l),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){let f,l=null,h,p;function y(...m){if(!y.enabled)return;let g=y,b=Number(new Date),w=b-(f||b);g.diff=w,g.prev=f,g.curr=b,f=b,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let v=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(E,S)=>{if(E==="%%")return"%";v++;let k=r.formatters[S];if(typeof k=="function"){let A=m[v];E=k.call(g,A),m.splice(v,1),v--}return E}),r.formatArgs.call(g,m),(g.log||r.log).apply(g,m)}return y.namespace=u,y.useColors=r.useColors(),y.color=r.selectColor(u),y.extend=i,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(h!==r.namespaces&&(h=r.namespaces,p=r.enabled(u)),p),set:m=>{l=m}}),typeof r.init=="function"&&r.init(y),y}function i(u,f){let l=r(this.namespace+(typeof f=="undefined"?":":f)+u);return l.log=this.log,l}function n(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let f,l=(typeof u=="string"?u:"").split(/[\s,]+/),h=l.length;for(f=0;f<h;f++)!l[f]||(u=l[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){let u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,l;for(f=0,l=r.skips.length;f<l;f++)if(r.skips[f].test(u))return!1;for(f=0,l=r.names.length;f<l;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Kd.exports=yb});var zd=_((ce,Wn)=>{ce.formatArgs=gb;ce.save=bb;ce.load=wb;ce.useColors=_b;ce.storage=vb();ce.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ce.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function _b(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function gb(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Wn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}ce.log=console.debug||console.log||(()=>{});function bb(t){try{t?ce.storage.setItem("debug",t):ce.storage.removeItem("debug")}catch(e){}}function wb(){let t;try{t=ce.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function vb(){try{return localStorage}catch(t){}}Wn.exports=Vo()(ce);var{formatters:xb}=Wn.exports;xb.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Gd=_((V,zn)=>{var Eb=require("tty"),Kn=require("util");V.init=Ob;V.log=Pb;V.formatArgs=Cb;V.save=Tb;V.load=Mb;V.useColors=Sb;V.destroy=Kn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");V.colors=[6,2,3,4,5,1];try{let t=io();t&&(t.stderr||t).level>=2&&(V.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}V.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,s)=>s.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[r]=i,t},{});function Sb(){return"colors"in V.inspectOpts?Boolean(V.inspectOpts.colors):Eb.isatty(process.stderr.fd)}function Cb(t){let{namespace:e,useColors:r}=this;if(r){let i=this.color,n="[3"+(i<8?i:"8;5;"+i),s=`  ${n};1m${e} [0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(n+"m+"+zn.exports.humanize(this.diff)+"[0m")}else t[0]=kb()+e+" "+t[0]}function kb(){return V.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Pb(...t){return process.stderr.write(Kn.format(...t)+`
`)}function Tb(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Mb(){return process.env.DEBUG}function Ob(t){t.inspectOpts={};let e=Object.keys(V.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=V.inspectOpts[e[r]]}zn.exports=Vo()(V);var{formatters:$d}=zn.exports;$d.o=function(t){return this.inspectOpts.colors=this.useColors,Kn.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};$d.O=function(t){return this.inspectOpts.colors=this.useColors,Kn.inspect(t,this.inspectOpts)}});var li=_((wC,Xo)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Xo.exports=zd():Xo.exports=Gd()});var Qo=_((vC,Xd)=>{Xd.exports=Vd;function Vd(t,e){if(t&&e)return Vd(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var s=t.apply(this,i),o=i[i.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var ui=_((xC,Jo)=>{var Qd=Qo();Jo.exports=Qd($n);Jo.exports.strict=Qd(Jd);$n.proto=$n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return $n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Jd(this)},configurable:!0})});function $n(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Jd(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Yo=_((EC,Zd)=>{var Rb=ui(),Fb=function(){},Lb=function(t){return t.setHeader&&typeof t.abort=="function"},Ib=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},Yd=function(t,e,r){if(typeof e=="function")return Yd(t,null,e);e||(e={}),r=Rb(r||Fb);var i=t._writableState,n=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,c=function(){t.writable||d()},d=function(){o=!1,s||r.call(t)},u=function(){s=!1,o||r.call(t)},f=function(m){r.call(t,m?new Error("exited with error code: "+m):null)},l=function(m){r.call(t,m)},h=function(){process.nextTick(p)},p=function(){if(!a){if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"))}},y=function(){t.req.on("finish",d)};return Lb(t)?(t.on("complete",d),t.on("abort",h),t.req?y():t.on("request",y)):o&&!i&&(t.on("end",c),t.on("close",c)),Ib(t)&&t.on("exit",f),t.on("end",u),t.on("finish",d),e.error!==!1&&t.on("error",l),t.on("close",h),function(){a=!0,t.removeListener("complete",d),t.removeListener("abort",h),t.removeListener("request",y),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("exit",f),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",h)}};Zd.exports=Yd});var ea=_((SC,tf)=>{var Ab=ui(),Nb=Yo(),Zo=require("fs"),di=function(){},jb=/^v?\.0/.test(process.version),Gn=function(t){return typeof t=="function"},qb=function(t){return!jb||!Zo?!1:(t instanceof(Zo.ReadStream||di)||t instanceof(Zo.WriteStream||di))&&Gn(t.close)},Db=function(t){return t.setHeader&&Gn(t.abort)},Bb=function(t,e,r,i){i=Ab(i);var n=!1;t.on("close",function(){n=!0}),Nb(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,qb(t))return t.close(di);if(Db(t))return t.abort();if(Gn(t.destroy))return t.destroy();i(o||new Error("stream was destroyed"))}}},ef=function(t){t()},Ub=function(t,e){return t.pipe(e)},Hb=function(){var t=Array.prototype.slice.call(arguments),e=Gn(t[t.length-1]||di)&&t.pop()||di;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,i=t.map(function(n,s){var o=s<t.length-1,a=s>0;return Bb(n,o,a,function(c){r||(r=c),c&&i.forEach(ef),!o&&(i.forEach(ef),e(r))})});return t.reduce(Ub)};tf.exports=Hb});var nf=_((CC,rf)=>{"use strict";var{PassThrough:Wb}=require("stream");rf.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,i=r==="buffer",n=!1;e?n=!(r||i):r=r||"utf8",i&&(r=null);let s=new Wb({objectMode:n});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",c=>{a.push(c),n?o=a.length:o+=c.length}),s.getBufferedValue=()=>e?a:i?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var sf=_((kC,br)=>{"use strict";var{constants:Kb}=require("buffer"),zb=ea(),$b=nf(),ta=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function Vn(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,i;return await new Promise((n,s)=>{let o=a=>{a&&i.getBufferedLength()<=Kb.MAX_LENGTH&&(a.bufferedData=i.getBufferedValue()),s(a)};i=zb(t,$b(e),a=>{if(a){o(a);return}n()}),i.on("data",()=>{i.getBufferedLength()>r&&o(new ta)})}),i.getBufferedValue()}br.exports=Vn;br.exports.default=Vn;br.exports.buffer=(t,e)=>Vn(t,{...e,encoding:"buffer"});br.exports.array=(t,e)=>Vn(t,{...e,array:!0});br.exports.MaxBufferError=ta});var lf=_((PC,cf)=>{cf.exports=Xn;function Xn(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}Xn.prototype.go=function(t){this.pending<this.max?af(this,t):this.waiting.push(t)};Xn.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};Xn.prototype.hold=function(){return of(this)};function of(t){t.pending+=1;var e=!1;return r;function r(n){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||n,t.pending-=1,t.waiting.length>0&&t.pending<t.max)af(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(i)}}function i(n){n(t.error)}}function af(t,e){e(of(t))}});var df=_(hi=>{var fi=require("fs"),Qn=require("util"),ra=require("stream"),uf=ra.Readable,ia=ra.Writable,Gb=ra.PassThrough,Vb=lf(),Jn=require("events").EventEmitter;hi.createFromBuffer=Xb;hi.createFromFd=Qb;hi.BufferSlicer=et;hi.FdSlicer=Ze;Qn.inherits(Ze,Jn);function Ze(t,e){e=e||{},Jn.call(this),this.fd=t,this.pend=new Vb,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}Ze.prototype.read=function(t,e,r,i,n){var s=this;s.pend.go(function(o){fi.read(s.fd,t,e,r,i,function(a,c,d){o(),n(a,c,d)})})};Ze.prototype.write=function(t,e,r,i,n){var s=this;s.pend.go(function(o){fi.write(s.fd,t,e,r,i,function(a,c,d){o(),n(a,c,d)})})};Ze.prototype.createReadStream=function(t){return new Yn(this,t)};Ze.prototype.createWriteStream=function(t){return new Zn(this,t)};Ze.prototype.ref=function(){this.refCount+=1};Ze.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&fi.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};Qn.inherits(Yn,uf);function Yn(t,e){e=e||{},uf.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}Yn.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(i){if(e.destroyed)return i();var n=new Buffer(r);fi.read(e.context.fd,n,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(n.slice(0,o))),i()})})}};Yn.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};Qn.inherits(Zn,ia);function Zn(t,e){e=e||{},ia.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Zn.prototype._write=function(t,e,r){var i=this;if(!i.destroyed){if(i.pos+t.length>i.endOffset){var n=new Error("maximum file length exceeded");n.code="ETOOBIG",i.destroy(),r(n);return}i.context.pend.go(function(s){if(i.destroyed)return s();fi.write(i.context.fd,t,0,t.length,i.pos,function(o,a){o?(i.destroy(),s(),r(o)):(i.bytesWritten+=a,i.pos+=a,i.emit("progress"),s(),r())})})}};Zn.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};Qn.inherits(et,Jn);function et(t,e){Jn.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}et.prototype.read=function(t,e,r,i,n){var s=i+r,o=s-this.buffer.length,a=o>0?o:r;this.buffer.copy(t,e,i,s),setImmediate(function(){n(null,a)})};et.prototype.write=function(t,e,r,i,n){t.copy(this.buffer,i,e,e+r),setImmediate(function(){n(null,r,t)})};et.prototype.createReadStream=function(t){t=t||{};var e=new Gb(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),i=0;;){var n=i+this.maxChunkSize;if(n>=r.length){i<r.length&&e.write(r.slice(i,r.length));break}e.write(r.slice(i,n)),i=n}return e.end(),e.destroy=function(){e.destroyed=!0},e};et.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new ia(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(i,n,s){if(!r.destroyed){var o=r.pos+i.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}i.copy(e.buffer,r.pos,0,i.length),r.bytesWritten+=i.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};et.prototype.ref=function(){this.refCount+=1};et.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Xb(t,e){return new et(t,e)}function Qb(t,e){return new Ze(t,e)}});var pf=_((MC,hf)=>{var yt=require("buffer").Buffer,na=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(na=new Int32Array(na));function ff(t){if(yt.isBuffer(t))return t;var e=typeof yt.alloc=="function"&&typeof yt.from=="function";if(typeof t=="number")return e?yt.alloc(t):new yt(t);if(typeof t=="string")return e?yt.from(t):new yt(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Jb(t){var e=ff(4);return e.writeInt32BE(t,0),e}function sa(t,e){t=ff(t),yt.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,i=0;i<t.length;i++)r=na[(r^t[i])&255]^r>>>8;return r^-1}function oa(){return Jb(sa.apply(null,arguments))}oa.signed=function(){return sa.apply(null,arguments)};oa.unsigned=function(){return sa.apply(null,arguments)>>>0};hf.exports=oa});var vf=_(qe=>{var aa=require("fs"),Yb=require("zlib"),mf=df(),Zb=pf(),es=require("util"),ts=require("events").EventEmitter,yf=require("stream").Transform,ca=require("stream").PassThrough,ew=require("stream").Writable;qe.open=tw;qe.fromFd=_f;qe.fromBuffer=rw;qe.fromRandomAccessReader=la;qe.dosDateTimeToDate=bf;qe.validateFileName=wf;qe.ZipFile=_t;qe.Entry=pi;qe.RandomAccessReader=gt;function tw(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=ns),aa.open(t,"r",function(i,n){if(i)return r(i);_f(n,e,function(s,o){s&&aa.close(n,ns),r(s,o)})})}function _f(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=ns),aa.fstat(t,function(i,n){if(i)return r(i);var s=mf.createFromFd(t,{autoClose:!0});la(s,n.size,e,r)})}function rw(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var i=mf.createFromBuffer(t,{maxChunkSize:65536});la(i,t.length,e,r)}function la(t,e,r,i){typeof r=="function"&&(i=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var n=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),i==null&&(i=ns),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=65535,a=Math.min(s+o,e),c=je(a),d=e-c.length;wr(t,c,0,a,d,function(u){if(u)return i(u);for(var f=a-s;f>=0;f-=1)if(c.readUInt32LE(f)===101010256){var l=c.slice(f),h=l.readUInt16LE(4);if(h!==0)return i(new Error("multi-disk zip files are not supported: found disk number: "+h));var p=l.readUInt16LE(10),y=l.readUInt32LE(16),m=l.readUInt16LE(20),g=l.length-s;if(m!==g)return i(new Error("invalid comment length. expected: "+g+". found: "+m));var b=n?is(l,22,l.length,!1):l.slice(22);if(!(p===65535||y===4294967295))return i(null,new _t(t,y,e,p,b,r.autoClose,r.lazyEntries,n,r.validateEntrySizes,r.strictFileNames));var w=je(20),v=d+f-w.length;wr(t,w,0,w.length,v,function(x){if(x)return i(x);if(w.readUInt32LE(0)!==117853008)return i(new Error("invalid zip64 end of central directory locator signature"));var E=vr(w,8),S=je(56);wr(t,S,0,S.length,E,function(k){return k?i(k):S.readUInt32LE(0)!==101075792?i(new Error("invalid zip64 end of central directory record signature")):(p=vr(S,32),y=vr(S,48),i(null,new _t(t,y,e,p,b,r.autoClose,r.lazyEntries,n,r.validateEntrySizes,r.strictFileNames)))})});return}i(new Error("end of central directory record signature not found"))})}es.inherits(_t,ts);function _t(t,e,r,i,n,s,o,a,c,d){var u=this;ts.call(u),u.reader=t,u.reader.on("error",function(f){gf(u,f)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=i,u.comment=n,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!c,u.strictFileNames=!!d,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}_t.prototype.close=function(){!this.isOpen||(this.isOpen=!1,this.reader.unref())};function Ce(t,e){t.autoClose&&t.close(),gf(t,e)}function gf(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}_t.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};_t.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=je(46);wr(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return Ce(t,r);if(!t.emittedError){var i=new pi,n=e.readUInt32LE(0);if(n!==33639248)return Ce(t,new Error("invalid central directory file header signature: 0x"+n.toString(16)));if(i.versionMadeBy=e.readUInt16LE(4),i.versionNeededToExtract=e.readUInt16LE(6),i.generalPurposeBitFlag=e.readUInt16LE(8),i.compressionMethod=e.readUInt16LE(10),i.lastModFileTime=e.readUInt16LE(12),i.lastModFileDate=e.readUInt16LE(14),i.crc32=e.readUInt32LE(16),i.compressedSize=e.readUInt32LE(20),i.uncompressedSize=e.readUInt32LE(24),i.fileNameLength=e.readUInt16LE(28),i.extraFieldLength=e.readUInt16LE(30),i.fileCommentLength=e.readUInt16LE(32),i.internalFileAttributes=e.readUInt16LE(36),i.externalFileAttributes=e.readUInt32LE(38),i.relativeOffsetOfLocalHeader=e.readUInt32LE(42),i.generalPurposeBitFlag&64)return Ce(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=je(i.fileNameLength+i.extraFieldLength+i.fileCommentLength),wr(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return Ce(t,s);if(!t.emittedError){var o=(i.generalPurposeBitFlag&2048)!=0;i.fileName=t.decodeStrings?is(e,0,i.fileNameLength,o):e.slice(0,i.fileNameLength);var a=i.fileNameLength+i.extraFieldLength,c=e.slice(i.fileNameLength,a);i.extraFields=[];for(var d=0;d<c.length-3;){var u=c.readUInt16LE(d+0),f=c.readUInt16LE(d+2),l=d+4,h=l+f;if(h>c.length)return Ce(t,new Error("extra field length exceeds extra field buffer size"));var p=je(f);c.copy(p,0,l,h),i.extraFields.push({id:u,data:p}),d=h}if(i.fileComment=t.decodeStrings?is(e,a,a+i.fileCommentLength,o):e.slice(a,a+i.fileCommentLength),i.comment=i.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1,i.uncompressedSize===4294967295||i.compressedSize===4294967295||i.relativeOffsetOfLocalHeader===4294967295){for(var y=null,d=0;d<i.extraFields.length;d++){var m=i.extraFields[d];if(m.id===1){y=m.data;break}}if(y==null)return Ce(t,new Error("expected zip64 extended information extra field"));var g=0;if(i.uncompressedSize===4294967295){if(g+8>y.length)return Ce(t,new Error("zip64 extended information extra field does not include uncompressed size"));i.uncompressedSize=vr(y,g),g+=8}if(i.compressedSize===4294967295){if(g+8>y.length)return Ce(t,new Error("zip64 extended information extra field does not include compressed size"));i.compressedSize=vr(y,g),g+=8}if(i.relativeOffsetOfLocalHeader===4294967295){if(g+8>y.length)return Ce(t,new Error("zip64 extended information extra field does not include relative header offset"));i.relativeOffsetOfLocalHeader=vr(y,g),g+=8}}if(t.decodeStrings)for(var d=0;d<i.extraFields.length;d++){var m=i.extraFields[d];if(m.id===28789){if(m.data.length<6||m.data.readUInt8(0)!==1)continue;var b=m.data.readUInt32LE(1);if(Zb.unsigned(e.slice(0,i.fileNameLength))!==b)continue;i.fileName=is(m.data,5,m.data.length,!0);break}}if(t.validateEntrySizes&&i.compressionMethod===0){var w=i.uncompressedSize;if(i.isEncrypted()&&(w+=12),i.compressedSize!==w){var v="compressed/uncompressed size mismatch for stored file: "+i.compressedSize+" != "+i.uncompressedSize;return Ce(t,new Error(v))}}if(t.decodeStrings){t.strictFileNames||(i.fileName=i.fileName.replace(/\\/g,"/"));var x=wf(i.fileName,t.validateFileNameOptions);if(x!=null)return Ce(t,new Error(x))}t.emit("entry",i),t.lazyEntries||t._readEntry()}})}})}};_t.prototype.openReadStream=function(t,e,r){var i=this,n=0,s=t.compressedSize;if(r==null)r=e,e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(n=e.start,n<0)throw new Error("options.start < 0");if(n>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<n)throw new Error("options.end < options.start")}}if(!i.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));i.reader.ref();var o=je(30);wr(i.reader,o,0,o.length,t.relativeOffsetOfLocalHeader,function(a){try{if(a)return r(a);var c=o.readUInt32LE(0);if(c!==67324752)return r(new Error("invalid local file header signature: 0x"+c.toString(16)));var d=o.readUInt16LE(26),u=o.readUInt16LE(28),f=t.relativeOffsetOfLocalHeader+o.length+d+u,l;if(t.compressionMethod===0)l=!1;else if(t.compressionMethod===8)l=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));var h=f,p=h+t.compressedSize;if(t.compressedSize!==0&&p>i.fileSize)return r(new Error("file data overflows file bounds: "+h+" + "+t.compressedSize+" > "+i.fileSize));var y=i.reader.createReadStream({start:h+n,end:h+s}),m=y;if(l){var g=!1,b=Yb.createInflateRaw();y.on("error",function(w){setImmediate(function(){g||b.emit("error",w)})}),y.pipe(b),i.validateEntrySizes?(m=new mi(t.uncompressedSize),b.on("error",function(w){setImmediate(function(){g||m.emit("error",w)})}),b.pipe(m)):m=b,m.destroy=function(){g=!0,b!==m&&b.unpipe(m),y.unpipe(b),y.destroy()}}r(null,m)}finally{i.reader.unref()}})};function pi(){}pi.prototype.getLastModDate=function(){return bf(this.lastModFileDate,this.lastModFileTime)};pi.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!=0};pi.prototype.isCompressed=function(){return this.compressionMethod===8};function bf(t,e){var r=t&31,i=(t>>5&15)-1,n=(t>>9&127)+1980,s=0,o=(e&31)*2,a=e>>5&63,c=e>>11&31;return new Date(n,i,r,c,a,o,s)}function wf(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function wr(t,e,r,i,n,s){if(i===0)return setImmediate(function(){s(null,je(0))});t.read(e,r,i,n,function(o,a){if(o)return s(o);if(a<i)return s(new Error("unexpected EOF"));s()})}es.inherits(mi,yf);function mi(t){yf.call(this),this.actualByteCount=0,this.expectedByteCount=t}mi.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var i="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(i))}r(null,t)};mi.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};es.inherits(gt,ts);function gt(){ts.call(this),this.refCount=0}gt.prototype.ref=function(){this.refCount+=1};gt.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};gt.prototype.createReadStream=function(t){var e=t.start,r=t.end;if(e===r){var i=new ca;return setImmediate(function(){i.end()}),i}var n=this._readStreamForRange(e,r),s=!1,o=new rs(this);n.on("error",function(c){setImmediate(function(){s||o.emit("error",c)})}),o.destroy=function(){n.unpipe(o),o.unref(),n.destroy()};var a=new mi(r-e);return o.on("error",function(c){setImmediate(function(){s||a.emit("error",c)})}),a.destroy=function(){s=!0,o.unpipe(a),o.destroy()},n.pipe(o).pipe(a)};gt.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};gt.prototype.read=function(t,e,r,i,n){var s=this.createReadStream({start:i,end:i+r}),o=new ew,a=0;o._write=function(c,d,u){c.copy(t,e+a,0,c.length),a+=c.length,u()},o.on("finish",n),s.on("error",function(c){n(c)}),s.pipe(o)};gt.prototype.close=function(t){setImmediate(t)};es.inherits(rs,ca);function rs(t){ca.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}rs.prototype._flush=function(t){this.unref(),t()};rs.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var iw="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function is(t,e,r,i){if(i)return t.toString("utf8",e,r);for(var n="",s=e;s<r;s++)n+=iw[t[s]];return n}function vr(t,e){var r=t.readUInt32LE(e),i=t.readUInt32LE(e+4);return i*4294967296+r}var je;typeof Buffer.allocUnsafe=="function"?je=function(t){return Buffer.allocUnsafe(t)}:je=function(t){return new Buffer(t)};function ns(t){if(t)throw t}});var Sf=_((RC,Ef)=>{var ke=li()("extract-zip"),{createWriteStream:nw,promises:xr}=require("fs"),sw=sf(),Kt=require("path"),{promisify:ua}=require("util"),ow=require("stream"),aw=vf(),cw=ua(aw.open),lw=ua(ow.pipeline),xf=class{constructor(e,r){this.zipPath=e,this.opts=r}async extract(){return ke("opening",this.zipPath,"with opts",this.opts),this.zipfile=await cw(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,r)=>{this.zipfile.on("error",i=>{this.canceled=!0,r(i)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(ke("zip extraction complete"),e())}),this.zipfile.on("entry",async i=>{if(this.canceled){ke("skipping entry",i.fileName,{cancelled:this.canceled});return}if(ke("zipfile entry",i.fileName),i.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let n=Kt.dirname(Kt.join(this.opts.dir,i.fileName));try{await xr.mkdir(n,{recursive:!0});let s=await xr.realpath(n);if(Kt.relative(this.opts.dir,s).split(Kt.sep).includes(".."))throw new Error(`Out of bound path "${s}" found while processing file ${i.fileName}`);await this.extractEntry(i),ke("finished processing",i.fileName),this.zipfile.readEntry()}catch(s){this.canceled=!0,this.zipfile.close(),r(s)}})})}async extractEntry(e){if(this.canceled){ke("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);let r=Kt.join(this.opts.dir,e.fileName),i=e.externalFileAttributes>>16&65535,n=61440,s=16384,o=40960,a=(i&n)===o,c=(i&n)===s;!c&&e.fileName.endsWith("/")&&(c=!0);let d=e.versionMadeBy>>8;c||(c=d===0&&e.externalFileAttributes===16),ke("extracting entry",{filename:e.fileName,isDir:c,isSymlink:a});let u=this.getExtractedMode(i,c)&511,f=c?r:Kt.dirname(r),l={recursive:!0};if(c&&(l.mode=u),ke("mkdir",{dir:f,...l}),await xr.mkdir(f,l),c)return;ke("opening read stream",r);let h=await ua(this.zipfile.openReadStream.bind(this.zipfile))(e);if(a){let p=await sw(h);ke("creating symlink",p,r),await xr.symlink(p,r)}else await lw(h,nw(r,{mode:u}))}getExtractedMode(e,r){let i=e;return i===0&&(r?(this.opts.defaultDirMode&&(i=parseInt(this.opts.defaultDirMode,10)),i||(i=493)):(this.opts.defaultFileMode&&(i=parseInt(this.opts.defaultFileMode,10)),i||(i=420))),i}};Ef.exports=async function(t,e){if(ke("creating target directory",e.dir),!Kt.isAbsolute(e.dir))throw new Error("Target directory is expected to be absolute");return await xr.mkdir(e.dir,{recursive:!0}),e.dir=await xr.realpath(e.dir),new xf(t,e).extract()}});var Cf=_(da=>{var zt=require("path"),bt=process.platform==="win32",wt=require("fs"),uw=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function dw(){var t;if(uw){var e=new Error;t=r}else t=i;return t;function r(n){n&&(e.message=n.message,n=e,i(n))}function i(n){if(n){if(process.throwDeprecation)throw n;if(!process.noDeprecation){var s="fs: missing callback "+(n.stack||n.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function fw(t){return typeof t=="function"?t:dw()}var FC=zt.normalize;bt?tt=/(.*?)(?:[\/\\]+|$)/g:tt=/(.*?)(?:[\/]+|$)/g;var tt;bt?yi=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:yi=/^[\/]*/;var yi;da.realpathSync=function(e,r){if(e=zt.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var i=e,n={},s={},o,a,c,d;u();function u(){var m=yi.exec(e);o=m[0].length,a=m[0],c=m[0],d="",bt&&!s[c]&&(wt.lstatSync(c),s[c]=!0)}for(;o<e.length;){tt.lastIndex=o;var f=tt.exec(e);if(d=a,a+=f[0],c=d+f[1],o=tt.lastIndex,!(s[c]||r&&r[c]===c)){var l;if(r&&Object.prototype.hasOwnProperty.call(r,c))l=r[c];else{var h=wt.lstatSync(c);if(!h.isSymbolicLink()){s[c]=!0,r&&(r[c]=c);continue}var p=null;if(!bt){var y=h.dev.toString(32)+":"+h.ino.toString(32);n.hasOwnProperty(y)&&(p=n[y])}p===null&&(wt.statSync(c),p=wt.readlinkSync(c)),l=zt.resolve(d,p),r&&(r[c]=l),bt||(n[y]=p)}e=zt.resolve(l,e.slice(o)),u()}}return r&&(r[i]=e),e};da.realpath=function(e,r,i){if(typeof i!="function"&&(i=fw(r),r=null),e=zt.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(i.bind(null,null,r[e]));var n=e,s={},o={},a,c,d,u;f();function f(){var m=yi.exec(e);a=m[0].length,c=m[0],d=m[0],u="",bt&&!o[d]?wt.lstat(d,function(g){if(g)return i(g);o[d]=!0,l()}):process.nextTick(l)}function l(){if(a>=e.length)return r&&(r[n]=e),i(null,e);tt.lastIndex=a;var m=tt.exec(e);return u=c,c+=m[0],d=u+m[1],a=tt.lastIndex,o[d]||r&&r[d]===d?process.nextTick(l):r&&Object.prototype.hasOwnProperty.call(r,d)?y(r[d]):wt.lstat(d,h)}function h(m,g){if(m)return i(m);if(!g.isSymbolicLink())return o[d]=!0,r&&(r[d]=d),process.nextTick(l);if(!bt){var b=g.dev.toString(32)+":"+g.ino.toString(32);if(s.hasOwnProperty(b))return p(null,s[b],d)}wt.stat(d,function(w){if(w)return i(w);wt.readlink(d,function(v,x){bt||(s[b]=x),p(v,x)})})}function p(m,g,b){if(m)return i(m);var w=zt.resolve(u,g);r&&(r[b]=w),y(w)}function y(m){e=zt.resolve(m,e.slice(a)),f()}}});var ma=_((IC,Mf)=>{Mf.exports=vt;vt.realpath=vt;vt.sync=pa;vt.realpathSync=pa;vt.monkeypatch=pw;vt.unmonkeypatch=mw;var Er=require("fs"),fa=Er.realpath,ha=Er.realpathSync,hw=process.version,kf=/^v[0-5]\./.test(hw),Pf=Cf();function Tf(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function vt(t,e,r){if(kf)return fa(t,e,r);typeof e=="function"&&(r=e,e=null),fa(t,e,function(i,n){Tf(i)?Pf.realpath(t,e,r):r(i,n)})}function pa(t,e){if(kf)return ha(t,e);try{return ha(t,e)}catch(r){if(Tf(r))return Pf.realpathSync(t,e);throw r}}function pw(){Er.realpath=vt,Er.realpathSync=pa}function mw(){Er.realpath=fa,Er.realpathSync=ha}});var Rf=_((AC,Of)=>{Of.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var n=e(t[i],i);yw(n)?r.push.apply(r,n):r.push(n)}return r};var yw=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Nf=_((NC,Af)=>{"use strict";Af.exports=Ff;function Ff(t,e,r){t instanceof RegExp&&(t=Lf(t,r)),e instanceof RegExp&&(e=Lf(e,r));var i=If(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function Lf(t,e){var r=e.match(t);return r?r[0]:null}Ff.range=If;function If(t,e,r){var i,n,s,o,a,c=r.indexOf(t),d=r.indexOf(e,c+1),u=c;if(c>=0&&d>0){if(t===e)return[c,d];for(i=[],s=r.length;u>=0&&!a;)u==c?(i.push(u),c=r.indexOf(t,u+1)):i.length==1?a=[i.pop(),d]:(n=i.pop(),n<s&&(s=n,o=d),d=r.indexOf(e,u+1)),u=c<d&&c>=0?c:d;i.length&&(a=[s,o])}return a}});var Kf=_((jC,Wf)=>{var _w=Rf(),jf=Nf();Wf.exports=ww;var qf="\0SLASH"+Math.random()+"\0",Df="\0OPEN"+Math.random()+"\0",ya="\0CLOSE"+Math.random()+"\0",Bf="\0COMMA"+Math.random()+"\0",Uf="\0PERIOD"+Math.random()+"\0";function _a(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function gw(t){return t.split("\\\\").join(qf).split("\\{").join(Df).split("\\}").join(ya).split("\\,").join(Bf).split("\\.").join(Uf)}function bw(t){return t.split(qf).join("\\").split(Df).join("{").split(ya).join("}").split(Bf).join(",").split(Uf).join(".")}function Hf(t){if(!t)return[""];var e=[],r=jf("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=Hf(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function ww(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Sr(gw(t),!0).map(bw)):[]}function vw(t){return"{"+t+"}"}function xw(t){return/^-?0\d/.test(t)}function Ew(t,e){return t<=e}function Sw(t,e){return t>=e}function Sr(t,e){var r=[],i=jf("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),o=n||s,a=i.body.indexOf(",")>=0;if(!o&&!a)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+ya+i.post,Sr(t)):[t];var c;if(o)c=i.body.split(/\.\./);else if(c=Hf(i.body),c.length===1&&(c=Sr(c[0],!1).map(vw),c.length===1)){var u=i.post.length?Sr(i.post,!1):[""];return u.map(function(I){return i.pre+c[0]+I})}var d=i.pre,u=i.post.length?Sr(i.post,!1):[""],f;if(o){var l=_a(c[0]),h=_a(c[1]),p=Math.max(c[0].length,c[1].length),y=c.length==3?Math.abs(_a(c[2])):1,m=Ew,g=h<l;g&&(y*=-1,m=Sw);var b=c.some(xw);f=[];for(var w=l;m(w,h);w+=y){var v;if(s)v=String.fromCharCode(w),v==="\\"&&(v="");else if(v=String(w),b){var x=p-v.length;if(x>0){var E=new Array(x+1).join("0");w<0?v="-"+E+v.slice(1):v=E+v}}f.push(v)}}else f=_w(c,function(P){return Sr(P,!1)});for(var S=0;S<f.length;S++)for(var k=0;k<u.length;k++){var A=d+f[S]+u[k];(!e||o||A)&&r.push(A)}return r}});var os=_((qC,Qf)=>{Qf.exports=pe;pe.Minimatch=$;var _i={sep:"/"};try{_i=require("path")}catch(t){}var ga=pe.GLOBSTAR=$.GLOBSTAR={},Cw=Kf(),zf={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ba="[^/]",wa=ba+"*?",kw="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Pw="(?:(?!(?:\\/|^)\\.).)*?",$f=Tw("().*{}+?[]^$\\!");function Tw(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var Gf=/\/+/;pe.filter=Mw;function Mw(t,e){return e=e||{},function(r,i,n){return pe(r,t,e)}}function Vf(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(i){r[i]=e[i]}),Object.keys(t).forEach(function(i){r[i]=t[i]}),r}pe.defaults=function(t){if(!t||!Object.keys(t).length)return pe;var e=pe,r=function(n,s,o){return e.minimatch(n,s,Vf(t,o))};return r.Minimatch=function(n,s){return new e.Minimatch(n,Vf(t,s))},r};$.defaults=function(t){return!t||!Object.keys(t).length?$:pe.defaults(t).Minimatch};function pe(t,e,r){if(typeof e!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?t==="":new $(e,r).match(t)}function $(t,e){if(!(this instanceof $))return new $(t,e);if(typeof t!="string")throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),_i.sep!=="/"&&(t=t.split(_i.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}$.prototype.debug=function(){};$.prototype.make=Ow;function Ow(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(i){return i.split(Gf)}),this.debug(this.pattern,r),r=r.map(function(i,n,s){return i.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}$.prototype.parseNegate=Rw;function Rw(){var t=this.pattern,e=!1,r=this.options,i=0;if(!r.nonegate){for(var n=0,s=t.length;n<s&&t.charAt(n)==="!";n++)e=!e,i++;i&&(this.pattern=t.substr(i)),this.negate=e}}pe.braceExpand=function(t,e){return Xf(t,e)};$.prototype.braceExpand=Xf;function Xf(t,e){if(e||(this instanceof $?e=this.options:e={}),t=typeof t=="undefined"?this.pattern:t,typeof t=="undefined")throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Cw(t)}$.prototype.parse=Fw;var ss={};function Fw(t,e){if(t.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&t==="**")return ga;if(t==="")return"";var i="",n=!!r.nocase,s=!1,o=[],a=[],c,d=!1,u=-1,f=-1,l=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function p(){if(c){switch(c){case"*":i+=wa,n=!0;break;case"?":i+=ba,n=!0;break;default:i+="\\"+c;break}h.debug("clearStateChar %j %j",c,i),c=!1}}for(var y=0,m=t.length,g;y<m&&(g=t.charAt(y));y++){if(this.debug("%s	%s %s %j",t,y,i,g),s&&$f[g]){i+="\\"+g,s=!1;continue}switch(g){case"/":return!1;case"\\":p(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,y,i,g),d){this.debug("  in class"),g==="!"&&y===f+1&&(g="^"),i+=g;continue}h.debug("call clearStateChar %j",c),p(),c=g,r.noext&&p();continue;case"(":if(d){i+="(";continue}if(!c){i+="\\(";continue}o.push({type:c,start:y-1,reStart:i.length,open:zf[c].open,close:zf[c].close}),i+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,i),c=!1;continue;case")":if(d||!o.length){i+="\\)";continue}p(),n=!0;var b=o.pop();i+=b.close,b.type==="!"&&a.push(b),b.reEnd=i.length;continue;case"|":if(d||!o.length||s){i+="\\|",s=!1;continue}p(),i+="|";continue;case"[":if(p(),d){i+="\\"+g;continue}d=!0,f=y,u=i.length,i+=g;continue;case"]":if(y===f+1||!d){i+="\\"+g,s=!1;continue}if(d){var w=t.substring(f+1,y);try{RegExp("["+w+"]")}catch(R){var v=this.parse(w,ss);i=i.substr(0,u)+"\\["+v[0]+"\\]",n=n||v[1],d=!1;continue}}n=!0,d=!1,i+=g;continue;default:p(),s?s=!1:$f[g]&&!(g==="^"&&d)&&(i+="\\"),i+=g}}for(d&&(w=t.substr(f+1),v=this.parse(w,ss),i=i.substr(0,u)+"\\["+v[0],n=n||v[1]),b=o.pop();b;b=o.pop()){var x=i.slice(b.reStart+b.open.length);this.debug("setting tail",i,b),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(R,Oe,Ee){return Ee||(Ee="\\"),Oe+Oe+Ee+"|"}),this.debug(`tail=%j
   %s`,x,x,b,i);var E=b.type==="*"?wa:b.type==="?"?ba:"\\"+b.type;n=!0,i=i.slice(0,b.reStart)+E+"\\("+x}p(),s&&(i+="\\\\");var S=!1;switch(i.charAt(0)){case".":case"[":case"(":S=!0}for(var k=a.length-1;k>-1;k--){var A=a[k],P=i.slice(0,A.reStart),I=i.slice(A.reStart,A.reEnd-8),U=i.slice(A.reEnd-8,A.reEnd),Me=i.slice(A.reEnd);U+=Me;var Ft=P.split("(").length-1,ve=Me;for(y=0;y<Ft;y++)ve=ve.replace(/\)[+*?]?/,"");Me=ve;var xe="";Me===""&&e!==ss&&(xe="$");var ee=P+I+Me+xe+U;i=ee}if(i!==""&&n&&(i="(?=.)"+i),S&&(i=l+i),e===ss)return[i,n];if(!n)return Aw(t);var Wr=r.nocase?"i":"";try{var He=new RegExp("^"+i+"$",Wr)}catch(R){return new RegExp("$.")}return He._glob=t,He._src=i,He}pe.makeRe=function(t,e){return new $(t,e||{}).makeRe()};$.prototype.makeRe=Lw;function Lw(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?wa:e.dot?kw:Pw,i=e.nocase?"i":"",n=t.map(function(s){return s.map(function(o){return o===ga?r:typeof o=="string"?Nw(o):o._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch(s){this.regexp=!1}return this.regexp}pe.match=function(t,e,r){r=r||{};var i=new $(e,r);return t=t.filter(function(n){return i.match(n)}),i.options.nonull&&!t.length&&t.push(e),t};$.prototype.match=Iw;function Iw(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var r=this.options;_i.sep!=="/"&&(t=t.split(_i.sep).join("/")),t=t.split(Gf),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var n,s;for(s=t.length-1;s>=0&&(n=t[s],!n);s--);for(s=0;s<i.length;s++){var o=i[s],a=t;r.matchBase&&o.length===1&&(a=[n]);var c=this.matchOne(a,o,e);if(c)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}$.prototype.matchOne=function(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,s=0,o=t.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var c=e[s],d=t[n];if(this.debug(e,c,d),c===!1)return!1;if(c===ga){this.debug("GLOBSTAR",[e,c,d]);var u=n,f=s+1;if(f===a){for(this.debug("** at the end");n<o;n++)if(t[n]==="."||t[n]===".."||!i.dot&&t[n].charAt(0)===".")return!1;return!0}for(;u<o;){var l=t[u];if(this.debug(`
globstar while`,t,u,e,f,l),this.matchOne(t.slice(u),e.slice(f),r))return this.debug("globstar found match!",u,o,l),!0;if(l==="."||l===".."||!i.dot&&l.charAt(0)==="."){this.debug("dot detected!",t,u,e,f);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,u,e,f),u===o))}var h;if(typeof c=="string"?(i.nocase?h=d.toLowerCase()===c.toLowerCase():h=d===c,this.debug("string match",c,d,h)):(h=d.match(c),this.debug("pattern match",c,d,h)),!h)return!1}if(n===o&&s===a)return!0;if(n===o)return r;if(s===a){var p=n===o-1&&t[n]==="";return p}throw new Error("wtf?")};function Aw(t){return t.replace(/\\(.)/g,"$1")}function Nw(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Jf=_((DC,va)=>{typeof Object.create=="function"?va.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:va.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var rt=_((BC,Ea)=>{try{if(xa=require("util"),typeof xa.inherits!="function")throw"";Ea.exports=xa.inherits}catch(t){Ea.exports=Jf()}var xa});var cs=_((UC,as)=>{"use strict";function Yf(t){return t.charAt(0)==="/"}function Zf(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),i=r[1]||"",n=Boolean(i&&i.charAt(1)!==":");return Boolean(r[2]||n)}as.exports=process.platform==="win32"?Zf:Yf;as.exports.posix=Yf;as.exports.win32=Zf});var Ca=_(xt=>{xt.setopts=Hw;xt.ownProp=eh;xt.makeAbs=gi;xt.finish=Ww;xt.mark=Kw;xt.isIgnored=rh;xt.childrenIgnored=zw;function eh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var jw=require("fs"),Cr=require("path"),qw=os(),th=cs(),Sa=qw.Minimatch;function Dw(t,e){return t.localeCompare(e,"en")}function Bw(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Uw))}function Uw(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new Sa(r,{dot:!0})}return{matcher:new Sa(t,{dot:!0}),gmatcher:e}}function Hw(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||jw,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),Bw(t,r),t.changedCwd=!1;var i=process.cwd();eh(r,"cwd")?(t.cwd=Cr.resolve(r.cwd),t.changedCwd=t.cwd!==i):t.cwd=i,t.root=r.root||Cr.resolve(t.cwd,"/"),t.root=Cr.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=th(t.cwd)?t.cwd:gi(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new Sa(e,r),t.options=t.minimatch.options}function Ww(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,n=t.matches.length;i<n;i++){var s=t.matches[i];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[i];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(c){r[c]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(Dw)),t.mark){for(var i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter(function(c){var d=!/\/$/.test(c),u=t.cache[c]||t.cache[gi(t,c)];return d&&u&&(d=u!=="DIR"&&!Array.isArray(u)),d}))}t.ignore.length&&(r=r.filter(function(c){return!rh(t,c)})),t.found=r}function Kw(t,e){var r=gi(t,e),i=t.cache[r],n=e;if(i){var s=i==="DIR"||Array.isArray(i),o=e.slice(-1)==="/";if(s&&!o?n+="/":!s&&o&&(n=n.slice(0,-1)),n!==e){var a=gi(t,n);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return n}function gi(t,e){var r=e;return e.charAt(0)==="/"?r=Cr.join(t.root,e):th(e)||e===""?r=e:t.changedCwd?r=Cr.resolve(t.cwd,e):r=Cr.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function rh(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function zw(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var ah=_(($C,oh)=>{oh.exports=sh;sh.GlobSync=W;var $w=ma(),ih=os(),WC=ih.Minimatch,KC=Ta().Glob,zC=require("util"),ka=require("path"),nh=require("assert"),ls=cs(),$t=Ca(),Gw=$t.setopts,Pa=$t.ownProp,Vw=$t.childrenIgnored,Xw=$t.isIgnored;function sh(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new W(t,e).found}function W(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof W))return new W(t,e);if(Gw(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}W.prototype._finish=function(){if(nh(this instanceof W),this.realpath){var t=this;this.matches.forEach(function(e,r){var i=t.matches[r]=Object.create(null);for(var n in e)try{n=t._makeAbs(n);var s=$w.realpathSync(n,t.realpathCache);i[s]=!0}catch(o){if(o.syscall==="stat")i[t._makeAbs(n)]=!0;else throw o}})}$t.finish(this)};W.prototype._process=function(t,e,r){nh(this instanceof W);for(var i=0;typeof t[i]=="string";)i++;var n;switch(i){case t.length:this._processSimple(t.join("/"),e);return;case 0:n=null;break;default:n=t.slice(0,i).join("/");break}var s=t.slice(i),o;n===null?o=".":((ls(n)||ls(t.join("/")))&&(!n||!ls(n))&&(n="/"+n),o=n);var a=this._makeAbs(o);if(!Vw(this,o)){var c=s[0]===ih.GLOBSTAR;c?this._processGlobStar(n,o,a,s,e,r):this._processReaddir(n,o,a,s,e,r)}};W.prototype._processReaddir=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(!!o){for(var a=i[0],c=!!this.minimatch.negate,d=a._glob,u=this.dot||d.charAt(0)===".",f=[],l=0;l<o.length;l++){var h=o[l];if(h.charAt(0)!=="."||u){var p;c&&!t?p=!h.match(a):p=h.match(a),p&&f.push(h)}}var y=f.length;if(y!==0){if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var l=0;l<y;l++){var h=f[l];t&&(t.slice(-1)!=="/"?h=t+"/"+h:h=t+h),h.charAt(0)==="/"&&!this.nomount&&(h=ka.join(this.root,h)),this._emitMatch(n,h)}return}i.shift();for(var l=0;l<y;l++){var h=f[l],m;t?m=[t,h]:m=[h],this._process(m.concat(i),n,s)}}}};W.prototype._emitMatch=function(t,e){if(!Xw(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};W.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,i;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,!n&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};W.prototype._readdir=function(t,e){var r;if(e&&!Pa(this.symlinks,t))return this._readdirInGlobStar(t);if(Pa(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(n){return this._readdirError(t,n),null}};W.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e};W.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};W.prototype._processGlobStar=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(!!o){var a=i.slice(1),c=t?[t]:[],d=c.concat(a);this._process(d,n,!1);var u=o.length,f=this.symlinks[r];if(!(f&&s))for(var l=0;l<u;l++){var h=o[l];if(!(h.charAt(0)==="."&&!this.dot)){var p=c.concat(o[l],a);this._process(p,n,!0);var y=c.concat(o[l],i);this._process(y,n,!0)}}}};W.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&ls(t)&&!this.nomount){var i=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=ka.join(this.root,t):(t=ka.resolve(this.root,t),i&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};W.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&Pa(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var i,n=this.statCache[e];if(!n){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{n=this.fs.statSync(e)}catch(a){n=s}else n=s}this.statCache[e]=n;var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};W.prototype._mark=function(t){return $t.mark(this,t)};W.prototype._makeAbs=function(t){return $t.makeAbs(this,t)}});var lh=_((GC,ch)=>{var Qw=Qo(),bi=Object.create(null),Jw=ui();ch.exports=Qw(Yw);function Yw(t,e){return bi[t]?(bi[t].push(e),null):(bi[t]=[e],Zw(t))}function Zw(t){return Jw(function e(){var r=bi[t],i=r.length,n=ev(arguments);try{for(var s=0;s<i;s++)r[s].apply(null,n)}finally{r.length>i?(r.splice(0,i),process.nextTick(function(){e.apply(null,n)})):delete bi[t]}})}function ev(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i]=t[i];return r}});var Ta=_((QC,dh)=>{dh.exports=Vt;var tv=ma(),uh=os(),VC=uh.Minimatch,rv=rt(),iv=require("events").EventEmitter,Ma=require("path"),Oa=require("assert"),wi=cs(),Ra=ah(),Gt=Ca(),nv=Gt.setopts,Fa=Gt.ownProp,La=lh(),XC=require("util"),sv=Gt.childrenIgnored,ov=Gt.isIgnored,av=ui();function Vt(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return Ra(t,e)}return new O(t,e,r)}Vt.sync=Ra;var cv=Vt.GlobSync=Ra.GlobSync;Vt.glob=Vt;function lv(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}Vt.hasMagic=function(t,e){var r=lv({},e);r.noprocess=!0;var i=new O(t,r),n=i.minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var s=0;s<n[0].length;s++)if(typeof n[0][s]!="string")return!0;return!1};Vt.Glob=O;rv(O,iv);function O(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new cv(t,e)}if(!(this instanceof O))return new O(t,e,r);nv(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof r=="function"&&(r=av(r),this.on("error",r),this.on("end",function(c){r(null,c)}));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return a();for(var s=!0,o=0;o<i;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--n._processing,n._processing<=0&&(s?process.nextTick(function(){n._finish()}):n._finish())}}O.prototype._finish=function(){if(Oa(this instanceof O),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Gt.finish(this),this.emit("end",this.found)}};O.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i);function i(){--t==0&&e._finish()}};O.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),n=this,s=i.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);i.forEach(function(a,c){a=n._makeAbs(a),tv.realpath(a,n.realpathCache,function(d,u){d?d.syscall==="stat"?o[a]=!0:n.emit("error",d):o[u]=!0,--s==0&&(n.matches[t]=o,e())})})};O.prototype._mark=function(t){return Gt.mark(this,t)};O.prototype._makeAbs=function(t){return Gt.makeAbs(this,t)};O.prototype.abort=function(){this.aborted=!0,this.emit("abort")};O.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};O.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<i.length;e++){var n=i[e];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}};O.prototype._process=function(t,e,r,i){if(Oa(this instanceof O),Oa(typeof i=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,i]);return}for(var n=0;typeof t[n]=="string";)n++;var s;switch(n){case t.length:this._processSimple(t.join("/"),e,i);return;case 0:s=null;break;default:s=t.slice(0,n).join("/");break}var o=t.slice(n),a;s===null?a=".":((wi(s)||wi(t.join("/")))&&(!s||!wi(s))&&(s="/"+s),a=s);var c=this._makeAbs(a);if(sv(this,a))return i();var d=o[0]===uh.GLOBSTAR;d?this._processGlobStar(s,a,c,o,e,r,i):this._processReaddir(s,a,c,o,e,r,i)}};O.prototype._processReaddir=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(c,d){return a._processReaddir2(t,e,r,i,n,s,d,o)})};O.prototype._processReaddir2=function(t,e,r,i,n,s,o,a){if(!o)return a();for(var c=i[0],d=!!this.minimatch.negate,u=c._glob,f=this.dot||u.charAt(0)===".",l=[],h=0;h<o.length;h++){var p=o[h];if(p.charAt(0)!=="."||f){var y;d&&!t?y=!p.match(c):y=p.match(c),y&&l.push(p)}}var m=l.length;if(m===0)return a();if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var h=0;h<m;h++){var p=l[h];t&&(t!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=Ma.join(this.root,p)),this._emitMatch(n,p)}return a()}i.shift();for(var h=0;h<m;h++){var p=l[h],g;t&&(t!=="/"?p=t+"/"+p:p=t+p),this._process([p].concat(i),n,s,a)}a()};O.prototype._emitMatch=function(t,e){if(!this.aborted&&!ov(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=wi(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0;var n=this.statCache[r];n&&this.emit("stat",e,n),this.emit("match",e)}}};O.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,i=this,n=La(r,s);n&&i.fs.lstat(t,n);function s(o,a){if(o&&o.code==="ENOENT")return e();var c=a&&a.isSymbolicLink();i.symlinks[t]=c,!c&&a&&!a.isDirectory()?(i.cache[t]="FILE",e()):i._readdir(t,!1,e)}};O.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=La("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!Fa(this.symlinks,t))return this._readdirInGlobStar(t,r);if(Fa(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var n=this;n.fs.readdir(t,uv(this,t,r))}};function uv(t,e,r){return function(i,n){i?t._readdirError(e,i,r):t._readdirEntries(e,n,r)}}O.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var n=e[i];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,r(null,e)}};O.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=e.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};O.prototype._processGlobStar=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(c,d){a._processGlobStar2(t,e,r,i,n,s,d,o)})};O.prototype._processGlobStar2=function(t,e,r,i,n,s,o,a){if(!o)return a();var c=i.slice(1),d=t?[t]:[],u=d.concat(c);this._process(u,n,!1,a);var f=this.symlinks[r],l=o.length;if(f&&s)return a();for(var h=0;h<l;h++){var p=o[h];if(!(p.charAt(0)==="."&&!this.dot)){var y=d.concat(o[h],c);this._process(y,n,!0,a);var m=d.concat(o[h],i);this._process(m,n,!0,a)}}a()};O.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,function(n,s){i._processSimple2(t,e,n,s,r)})};O.prototype._processSimple2=function(t,e,r,i,n){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return n();if(t&&wi(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Ma.join(this.root,t):(t=Ma.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),n()};O.prototype._stat=function(t,e){var r=this._makeAbs(t),i=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&Fa(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||n==="DIR")return e(null,n);if(i&&n==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return i&&a==="FILE"?e():e(null,a,o)}var c=this,d=La("stat\0"+r,u);d&&c.fs.lstat(r,d);function u(f,l){if(l&&l.isSymbolicLink())return c.fs.stat(r,function(h,p){h?c._stat2(t,r,null,l,e):c._stat2(t,r,h,p,e)});c._stat2(t,r,f,l,e)}};O.prototype._stat2=function(t,e,r,i,n){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,n();var s=t.slice(-1)==="/";if(this.statCache[e]=i,e.slice(-1)==="/"&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?n():n(null,o,i)}});var ja=_((JC,gh)=>{var F=require("assert"),fh=require("path"),hh=require("fs"),kr;try{kr=Ta()}catch(t){}var dv={nosort:!0,silent:!0},Ia=0,vi=process.platform==="win32",ph=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||hh[r],r=r+"Sync",t[r]=t[r]||hh[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&kr===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||dv},Aa=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),F(t,"rimraf: missing path"),F.equal(typeof t,"string","rimraf: path should be a string"),F.equal(typeof r,"function","rimraf: callback function required"),F(e,"rimraf: invalid options argument provided"),F.equal(typeof e,"object","rimraf: options should be object"),ph(e);let i=0,n=null,s=0,o=c=>{n=n||c,--s==0&&r(n)},a=(c,d)=>{if(c)return r(c);if(s=d.length,s===0)return r();d.forEach(u=>{let f=l=>{if(l){if((l.code==="EBUSY"||l.code==="ENOTEMPTY"||l.code==="EPERM")&&i<e.maxBusyTries)return i++,setTimeout(()=>Na(u,e,f),i*100);if(l.code==="EMFILE"&&Ia<e.emfileWait)return setTimeout(()=>Na(u,e,f),Ia++);l.code==="ENOENT"&&(l=null)}Ia=0,o(l)};Na(u,e,f)})};if(e.disableGlob||!kr.hasMagic(t))return a(null,[t]);e.lstat(t,(c,d)=>{if(!c)return a(null,[t]);kr(t,e.glob,a)})},Na=(t,e,r)=>{F(t),F(e),F(typeof r=="function"),e.lstat(t,(i,n)=>{if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&vi&&mh(t,e,i,r),n&&n.isDirectory())return us(t,e,i,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return vi?mh(t,e,s,r):us(t,e,s,r);if(s.code==="EISDIR")return us(t,e,s,r)}return r(s)})})},mh=(t,e,r,i)=>{F(t),F(e),F(typeof i=="function"),e.chmod(t,438,n=>{n?i(n.code==="ENOENT"?null:r):e.stat(t,(s,o)=>{s?i(s.code==="ENOENT"?null:r):o.isDirectory()?us(t,e,r,i):e.unlink(t,i)})})},yh=(t,e,r)=>{F(t),F(e);try{e.chmodSync(t,438)}catch(n){if(n.code==="ENOENT")return;throw r}let i;try{i=e.statSync(t)}catch(n){if(n.code==="ENOENT")return;throw r}i.isDirectory()?ds(t,e,r):e.unlinkSync(t)},us=(t,e,r,i)=>{F(t),F(e),F(typeof i=="function"),e.rmdir(t,n=>{n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")?fv(t,e,i):n&&n.code==="ENOTDIR"?i(r):i(n)})},fv=(t,e,r)=>{F(t),F(e),F(typeof r=="function"),e.readdir(t,(i,n)=>{if(i)return r(i);let s=n.length;if(s===0)return e.rmdir(t,r);let o;n.forEach(a=>{Aa(fh.join(t,a),e,c=>{if(!o){if(c)return r(o=c);--s==0&&e.rmdir(t,r)}})})})},_h=(t,e)=>{e=e||{},ph(e),F(t,"rimraf: missing path"),F.equal(typeof t,"string","rimraf: path should be a string"),F(e,"rimraf: missing options"),F.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!kr.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(i){r=kr.sync(t,e.glob)}if(!!r.length)for(let i=0;i<r.length;i++){let n=r[i],s;try{s=e.lstatSync(n)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&vi&&yh(n,e,o)}try{s&&s.isDirectory()?ds(n,e,null):e.unlinkSync(n)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return vi?yh(n,e,o):ds(n,e,o);if(o.code!=="EISDIR")throw o;ds(n,e,o)}}},ds=(t,e,r)=>{F(t),F(e);try{e.rmdirSync(t)}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR")throw r;(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")&&hv(t,e)}},hv=(t,e)=>{F(t),F(e),e.readdirSync(t).forEach(n=>_h(fh.join(t,n),e));let r=vi?100:1,i=0;do{let n=!0;try{let s=e.rmdirSync(t,e);return n=!1,s}finally{if(++i<r&&n)continue}}while(!0)};gh.exports=Aa;Aa.sync=_h});var bh=_(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});function pv(t){return function(e,r){return new Promise((i,n)=>{t.call(this,e,r,(s,o)=>{s?n(s):i(o)})})}}qa.default=pv});var xh=_((Ba,vh)=>{"use strict";var wh=Ba&&Ba.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},mv=require("events"),yv=wh(li()),_v=wh(bh()),xi=yv.default("agent-base");function gv(t){return Boolean(t)&&typeof t.addRequest=="function"}function Da(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function fs(t,e){return new fs.Agent(t,e)}(function(t){class e extends mv.EventEmitter{constructor(i,n){super();let s=n;typeof i=="function"?this.callback=i:i&&(s=i),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:Da()?443:80}set defaultPort(i){this.explicitDefaultPort=i}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:Da()?"https:":"http:"}set protocol(i){this.explicitProtocol=i}callback(i,n,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(i,n){let s=Object.assign({},n);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=Da()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,i._last=!0,i.shouldKeepAlive=!1;let o=!1,a=null,c=s.timeout||this.timeout,d=h=>{i._hadError||(i.emit("error",h),i._hadError=!0)},u=()=>{a=null,o=!0;let h=new Error(`A "socket" was not created for HTTP request before ${c}ms`);h.code="ETIMEOUT",d(h)},f=h=>{o||(a!==null&&(clearTimeout(a),a=null),d(h))},l=h=>{if(o)return;if(a!=null&&(clearTimeout(a),a=null),gv(h)){xi("Callback returned another Agent instance %o",h.constructor.name),h.addRequest(i,s);return}if(h){h.once("free",()=>{this.freeSocket(h,s)}),i.onSocket(h);return}let p=new Error(`no Duplex stream was returned to agent-base for \`${i.method} ${i.path}\``);d(p)};if(typeof this.callback!="function"){d(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(xi("Converting legacy callback function to promise"),this.promisifiedCallback=_v.default(this.callback)):this.promisifiedCallback=this.callback),typeof c=="number"&&c>0&&(a=setTimeout(u,c)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{xi("Resolving socket for %o request: %o",s.protocol,`${i.method} ${i.path}`),Promise.resolve(this.promisifiedCallback(i,s)).then(l,f)}catch(h){Promise.reject(h).catch(f)}}freeSocket(i,n){xi("Freeing socket %o %o",i.constructor.name,n),i.destroy()}destroy(){xi("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(fs||(fs={}));vh.exports=fs});var Eh=_(Si=>{"use strict";var bv=Si&&Si.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});var wv=bv(li()),Ei=wv.default("https-proxy-agent:parse-proxy-response");function vv(t){return new Promise((e,r)=>{let i=0,n=[];function s(){let f=t.read();f?u(f):t.once("readable",s)}function o(){t.removeListener("end",c),t.removeListener("error",d),t.removeListener("close",a),t.removeListener("readable",s)}function a(f){Ei("onclose had error %o",f)}function c(){Ei("onend")}function d(f){o(),Ei("onerror %o",f),r(f)}function u(f){n.push(f),i+=f.length;let l=Buffer.concat(n,i);if(l.indexOf(`\r
\r
`)===-1){Ei("have not received end of HTTP headers yet..."),s();return}let p=l.toString("ascii",0,l.indexOf(`\r
`)),y=+p.split(" ")[1];Ei("got proxy server response: %o",p),e({statusCode:y,buffered:l})}t.on("error",d),t.on("close",a),t.on("end",c),s()})}Si.default=vv});var Ph=_(Xt=>{"use strict";var xv=Xt&&Xt.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{d(i.next(u))}catch(f){o(f)}}function c(u){try{d(i.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):n(u.value).then(a,c)}d((i=i.apply(t,e||[])).next())})},Pr=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xt,"__esModule",{value:!0});var Sh=Pr(require("net")),Ch=Pr(require("tls")),Ev=Pr(require("url")),Sv=Pr(require("assert")),Cv=Pr(li()),kv=xh(),Pv=Pr(Eh()),Ci=Cv.default("https-proxy-agent:agent"),kh=class extends kv.Agent{constructor(e){let r;if(typeof e=="string"?r=Ev.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Ci("creating new HttpsProxyAgent instance: %o",r);super(r);let i=Object.assign({},r);this.secureProxy=r.secureProxy||Ov(i.protocol),i.host=i.hostname||i.host,typeof i.port=="string"&&(i.port=parseInt(i.port,10)),!i.port&&i.host&&(i.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in i)&&(i.ALPNProtocols=["http 1.1"]),i.host&&i.path&&(delete i.path,delete i.pathname),this.proxy=i}callback(e,r){return xv(this,void 0,void 0,function*(){let{proxy:i,secureProxy:n}=this,s;n?(Ci("Creating `tls.Socket`: %o",i),s=Ch.default.connect(i)):(Ci("Creating `net.Socket`: %o",i),s=Sh.default.connect(i));let o=Object.assign({},i.headers),c=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;i.auth&&(o["Proxy-Authorization"]=`Basic ${Buffer.from(i.auth).toString("base64")}`);let{host:d,port:u,secureEndpoint:f}=r;Mv(u,f)||(d+=`:${u}`),o.Host=d,o.Connection="close";for(let m of Object.keys(o))c+=`${m}: ${o[m]}\r
`;let l=Pv.default(s);s.write(`${c}\r
`);let{statusCode:h,buffered:p}=yield l;if(h===200){if(e.once("socket",Tv),r.secureEndpoint){let m=r.servername||r.host;if(!m)throw new Error('Could not determine "servername"');return Ci("Upgrading socket connection to TLS"),Ch.default.connect(Object.assign(Object.assign({},Rv(r,"host","hostname","path","port")),{socket:s,servername:m}))}return s}s.destroy();let y=new Sh.default.Socket;return y.readable=!0,e.once("socket",m=>{Ci("replaying proxy buffer for failed request"),Sv.default(m.listenerCount("data")>0),m.push(p),m.push(null)}),y})}};Xt.default=kh;function Tv(t){t.resume()}function Mv(t,e){return Boolean(!e&&t===80||e&&t===443)}function Ov(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function Rv(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var Mh=_((Wa,Th)=>{"use strict";var Fv=Wa&&Wa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ua=Fv(Ph());function Ha(t){return new Ua.default(t)}(function(t){t.HttpsProxyAgent=Ua.default,t.prototype=Ua.default.prototype})(Ha||(Ha={}));Th.exports=Ha});var Rh=_(Oh=>{"use strict";var Lv=require("url").parse,Iv={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Av=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function Nv(t){var e=typeof t=="string"?Lv(t):t||{},r=e.protocol,i=e.host,n=e.port;if(typeof i!="string"||!i||typeof r!="string"||(r=r.split(":",1)[0],i=i.replace(/:\d*$/,""),n=parseInt(n)||Iv[r]||0,!jv(i,n)))return"";var s=Tr("npm_config_"+r+"_proxy")||Tr(r+"_proxy")||Tr("npm_config_proxy")||Tr("all_proxy");return s&&s.indexOf("://")===-1&&(s=r+"://"+s),s}function jv(t,e){var r=(Tr("npm_config_no_proxy")||Tr("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(i){if(!i)return!0;var n=i.match(/^(.+):(\d+)$/),s=n?n[1]:i,o=n?parseInt(n[2]):0;return o&&o!==e?!0:/^[.*]/.test(s)?(s.charAt(0)==="*"&&(s=s.slice(1)),!Av.call(t,s)):t!==s}):!0}function Tr(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}Oh.getProxyForUrl=Nv});var qh=_((rk,jh)=>{"use strict";var me=require("fs"),Qt=require("path"),qv=me.lchown?"lchown":"chown",Dv=me.lchownSync?"lchownSync":"chownSync",Fh=me.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),Lh=(t,e,r)=>{try{return me[Dv](t,e,r)}catch(i){if(i.code!=="ENOENT")throw i}},Bv=(t,e,r)=>{try{return me.chownSync(t,e,r)}catch(i){if(i.code!=="ENOENT")throw i}},Uv=Fh?(t,e,r,i)=>n=>{!n||n.code!=="EISDIR"?i(n):me.chown(t,e,r,i)}:(t,e,r,i)=>i,Ka=Fh?(t,e,r)=>{try{return Lh(t,e,r)}catch(i){if(i.code!=="EISDIR")throw i;Bv(t,e,r)}}:(t,e,r)=>Lh(t,e,r),Hv=process.version,Ih=(t,e,r)=>me.readdir(t,e,r),Wv=(t,e)=>me.readdirSync(t,e);/^v4\./.test(Hv)&&(Ih=(t,e,r)=>me.readdir(t,r));var hs=(t,e,r,i)=>{me[qv](t,e,r,Uv(t,e,r,n=>{i(n&&n.code!=="ENOENT"?n:null)}))},Ah=(t,e,r,i,n)=>{if(typeof e=="string")return me.lstat(Qt.resolve(t,e),(s,o)=>{if(s)return n(s.code!=="ENOENT"?s:null);o.name=e,Ah(t,o,r,i,n)});if(e.isDirectory())za(Qt.resolve(t,e.name),r,i,s=>{if(s)return n(s);let o=Qt.resolve(t,e.name);hs(o,r,i,n)});else{let s=Qt.resolve(t,e.name);hs(s,r,i,n)}},za=(t,e,r,i)=>{Ih(t,{withFileTypes:!0},(n,s)=>{if(n){if(n.code==="ENOENT")return i();if(n.code!=="ENOTDIR"&&n.code!=="ENOTSUP")return i(n)}if(n||!s.length)return hs(t,e,r,i);let o=s.length,a=null,c=d=>{if(!a){if(d)return i(a=d);if(--o==0)return hs(t,e,r,i)}};s.forEach(d=>Ah(t,d,e,r,c))})},Kv=(t,e,r,i)=>{if(typeof e=="string")try{let n=me.lstatSync(Qt.resolve(t,e));n.name=e,e=n}catch(n){if(n.code==="ENOENT")return;throw n}e.isDirectory()&&Nh(Qt.resolve(t,e.name),r,i),Ka(Qt.resolve(t,e.name),r,i)},Nh=(t,e,r)=>{let i;try{i=Wv(t,{withFileTypes:!0})}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR"||n.code==="ENOTSUP")return Ka(t,e,r);throw n}return i&&i.length&&i.forEach(n=>Kv(t,n,e,r)),Ka(t,e,r)};jh.exports=za;za.sync=Nh});var $a=_((ik,Dh)=>{Dh.exports=require("stream")});var Wh=_((nk,Hh)=>{"use strict";function Bh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function zv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bh(Object(r),!0).forEach(function(i){$v(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bh(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function $v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uh(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Vv(t,e,r){return e&&Uh(t.prototype,e),r&&Uh(t,r),t}var Xv=require("buffer"),ps=Xv.Buffer,Qv=require("util"),Ga=Qv.inspect,Jv=Ga&&Ga.custom||"inspect";function Yv(t,e,r){ps.prototype.copy.call(t,e,r)}Hh.exports=function(){function t(){Gv(this,t),this.head=null,this.tail=null,this.length=0}return Vv(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return ps.alloc(0);for(var i=ps.allocUnsafe(r>>>0),n=this.head,s=0;n;)Yv(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=ps.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,a),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:Jv,value:function(r,i){return Ga(this,zv({},i,{depth:0,customInspect:!1}))}}]),t}()});var Xa=_((sk,zh)=>{"use strict";function Zv(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Va,this,t)):process.nextTick(Va,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(ms,r):(r._writableState.errorEmitted=!0,process.nextTick(Kh,r,s)):process.nextTick(Kh,r,s):e?(process.nextTick(ms,r),e(s)):process.nextTick(ms,r)}),this)}function Kh(t,e){Va(t,e),ms(t)}function ms(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function ex(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Va(t,e){t.emit("error",e)}function tx(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}zh.exports={destroy:Zv,undestroy:ex,errorOrDestroy:tx}});var Et=_((ok,Vh)=>{"use strict";var $h={};function ye(t,e,r){r||(r=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}class n extends r{constructor(o,a,c){super(i(o,a,c))}}n.prototype.name=r.name,n.prototype.code=t,$h[t]=n}function Gh(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(i=>String(i)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function rx(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function ix(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function nx(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ye("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ye("ERR_INVALID_ARG_TYPE",function(t,e,r){let i;typeof e=="string"&&rx(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";let n;if(ix(t," argument"))n=`The ${t} ${i} ${Gh(e,"type")}`;else{let s=nx(t,".")?"property":"argument";n=`The "${t}" ${s} ${i} ${Gh(e,"type")}`}return n+=`. Received type ${typeof r}`,n},TypeError);ye("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ye("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ye("ERR_STREAM_PREMATURE_CLOSE","Premature close");ye("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ye("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ye("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ye("ERR_STREAM_WRITE_AFTER_END","write after end");ye("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ye("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ye("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Vh.exports.codes=$h});var Qa=_((ak,Xh)=>{"use strict";var sx=Et().codes.ERR_INVALID_OPT_VALUE;function ox(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function ax(t,e,r,i){var n=ox(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new sx(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}Xh.exports={getHighWaterMark:ax}});var Jh=_((ck,Qh)=>{Qh.exports=require("util").deprecate});var Za=_((lk,ip)=>{"use strict";ip.exports=q;function Yh(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Ix(e,t)}}var Mr;q.WritableState=ki;var cx={deprecate:Jh()},Zh=$a(),ys=require("buffer").Buffer,lx=global.Uint8Array||function(){};function ux(t){return ys.from(t)}function dx(t){return ys.isBuffer(t)||t instanceof lx}var Ja=Xa(),fx=Qa(),hx=fx.getHighWaterMark,St=Et().codes,px=St.ERR_INVALID_ARG_TYPE,mx=St.ERR_METHOD_NOT_IMPLEMENTED,yx=St.ERR_MULTIPLE_CALLBACK,_x=St.ERR_STREAM_CANNOT_PIPE,gx=St.ERR_STREAM_DESTROYED,bx=St.ERR_STREAM_NULL_VALUES,wx=St.ERR_STREAM_WRITE_AFTER_END,vx=St.ERR_UNKNOWN_ENCODING,Or=Ja.errorOrDestroy;rt()(q,Zh);function xx(){}function ki(t,e,r){Mr=Mr||Jt(),t=t||{},typeof r!="boolean"&&(r=e instanceof Mr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=hx(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Mx(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Yh(this)}ki.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(ki.prototype,"buffer",{get:cx.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var _s;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_s=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(e){return _s.call(this,e)?!0:this!==q?!1:e&&e._writableState instanceof ki}})):_s=function(e){return e instanceof this};function q(t){Mr=Mr||Jt();var e=this instanceof Mr;if(!e&&!_s.call(q,this))return new q(t);this._writableState=new ki(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Zh.call(this)}q.prototype.pipe=function(){Or(this,new _x)};function Ex(t,e){var r=new wx;Or(t,r),process.nextTick(e,r)}function Sx(t,e,r,i){var n;return r===null?n=new bx:typeof r!="string"&&!e.objectMode&&(n=new px("chunk",["string","Buffer"],r)),n?(Or(t,n),process.nextTick(i,n),!1):!0}q.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&dx(t);return s&&!ys.isBuffer(t)&&(t=ux(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=xx),i.ending?Ex(this,r):(s||Sx(this,i,t,r))&&(i.pendingcb++,n=kx(this,i,s,t,e,r)),n};q.prototype.cork=function(){this._writableState.corked++};q.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&tp(this,t))};q.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new vx(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Cx(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=ys.from(e,r)),e}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function kx(t,e,r,i,n,s){if(!r){var o=Cx(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Ya(t,e,!1,a,i,n,s);return c}function Ya(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new gx("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function Px(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(Pi,t,e),t._writableState.errorEmitted=!0,Or(t,i)):(n(i),t._writableState.errorEmitted=!0,Or(t,i),Pi(t,e))}function Tx(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Mx(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new yx;if(Tx(r),e)Px(t,r,i,e,n);else{var s=rp(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&tp(t,r),i?process.nextTick(ep,t,r,s,n):ep(t,r,s,n)}}function ep(t,e,r,i){r||Ox(t,e),e.pendingcb--,i(),Pi(t,e)}function Ox(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function tp(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,Ya(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Yh(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,d=r.encoding,u=r.callback,f=e.objectMode?1:c.length;if(Ya(t,e,!1,f,c,d,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}q.prototype._write=function(t,e,r){r(new mx("_write()"))};q.prototype._writev=null;q.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Lx(this,i,r),this};Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rp(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Rx(t,e){t._final(function(r){e.pendingcb--,r&&Or(t,r),e.prefinished=!0,t.emit("prefinish"),Pi(t,e)})}function Fx(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Rx,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Pi(t,e){var r=rp(e);if(r&&(Fx(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Lx(t,e,r){e.ending=!0,Pi(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Ix(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});q.prototype.destroy=Ja.destroy;q.prototype._undestroy=Ja.undestroy;q.prototype._destroy=function(t,e){e(t)}});var Jt=_((uk,sp)=>{"use strict";var Ax=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};sp.exports=De;var np=rc(),ec=Za();rt()(De,np);for(tc=Ax(ec.prototype),gs=0;gs<tc.length;gs++)bs=tc[gs],De.prototype[bs]||(De.prototype[bs]=ec.prototype[bs]);var tc,bs,gs;function De(t){if(!(this instanceof De))return new De(t);np.call(this,t),ec.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Nx)))}Object.defineProperty(De.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(De.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(De.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Nx(){this._writableState.ended||process.nextTick(jx,this)}function jx(t){t.end()}Object.defineProperty(De.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var ws=_((dk,cp)=>{"use strict";var op=Et().codes.ERR_STREAM_PREMATURE_CLOSE;function qx(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function Dx(){}function Bx(t){return t.setHeader&&typeof t.abort=="function"}function ap(t,e,r){if(typeof e=="function")return ap(t,null,e);e||(e={}),r=qx(r||Dx);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){n=!1,o=!0,i||r.call(t)},c=t._readableState&&t._readableState.endEmitted,d=function(){i=!1,c=!0,n||r.call(t)},u=function(p){r.call(t,p)},f=function(){var p;if(i&&!c)return(!t._readableState||!t._readableState.ended)&&(p=new op),r.call(t,p);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(p=new op),r.call(t,p)},l=function(){t.req.on("finish",a)};return Bx(t)?(t.on("complete",a),t.on("abort",f),t.req?l():t.on("request",l)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",d),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",f),function(){t.removeListener("complete",a),t.removeListener("abort",f),t.removeListener("request",l),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",d),t.removeListener("error",u),t.removeListener("close",f)}}cp.exports=ap});var up=_((fk,lp)=>{"use strict";var vs;function Ct(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ux=ws(),kt=Symbol("lastResolve"),Yt=Symbol("lastReject"),Ti=Symbol("error"),xs=Symbol("ended"),Zt=Symbol("lastPromise"),ic=Symbol("handlePromise"),er=Symbol("stream");function Pt(t,e){return{value:t,done:e}}function Hx(t){var e=t[kt];if(e!==null){var r=t[er].read();r!==null&&(t[Zt]=null,t[kt]=null,t[Yt]=null,e(Pt(r,!1)))}}function Wx(t){process.nextTick(Hx,t)}function Kx(t,e){return function(r,i){t.then(function(){if(e[xs]){r(Pt(void 0,!0));return}e[ic](r,i)},i)}}var zx=Object.getPrototypeOf(function(){}),$x=Object.setPrototypeOf((vs={get stream(){return this[er]},next:function(){var e=this,r=this[Ti];if(r!==null)return Promise.reject(r);if(this[xs])return Promise.resolve(Pt(void 0,!0));if(this[er].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[Ti]?a(e[Ti]):o(Pt(void 0,!0))})});var i=this[Zt],n;if(i)n=new Promise(Kx(i,this));else{var s=this[er].read();if(s!==null)return Promise.resolve(Pt(s,!1));n=new Promise(this[ic])}return this[Zt]=n,n}},Ct(vs,Symbol.asyncIterator,function(){return this}),Ct(vs,"return",function(){var e=this;return new Promise(function(r,i){e[er].destroy(null,function(n){if(n){i(n);return}r(Pt(void 0,!0))})})}),vs),zx),Gx=function(e){var r,i=Object.create($x,(r={},Ct(r,er,{value:e,writable:!0}),Ct(r,kt,{value:null,writable:!0}),Ct(r,Yt,{value:null,writable:!0}),Ct(r,Ti,{value:null,writable:!0}),Ct(r,xs,{value:e._readableState.endEmitted,writable:!0}),Ct(r,ic,{value:function(s,o){var a=i[er].read();a?(i[Zt]=null,i[kt]=null,i[Yt]=null,s(Pt(a,!1))):(i[kt]=s,i[Yt]=o)},writable:!0}),r));return i[Zt]=null,Ux(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[Yt];s!==null&&(i[Zt]=null,i[kt]=null,i[Yt]=null,s(n)),i[Ti]=n;return}var o=i[kt];o!==null&&(i[Zt]=null,i[kt]=null,i[Yt]=null,o(Pt(void 0,!0))),i[xs]=!0}),e.on("readable",Wx.bind(null,i)),i};lp.exports=Gx});var pp=_((hk,hp)=>{"use strict";function dp(t,e,r,i,n,s,o){try{var a=t[s](o),c=a.value}catch(d){r(d);return}a.done?e(c):Promise.resolve(c).then(i,n)}function Vx(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var s=t.apply(e,r);function o(c){dp(s,i,n,o,a,"next",c)}function a(c){dp(s,i,n,o,a,"throw",c)}o(void 0)})}}function fp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Xx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fp(Object(r),!0).forEach(function(i){Qx(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fp(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Qx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Jx=Et().codes.ERR_INVALID_ARG_TYPE;function Yx(t,e,r){var i;if(e&&typeof e.next=="function")i=e;else if(e&&e[Symbol.asyncIterator])i=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])i=e[Symbol.iterator]();else throw new Jx("iterable",["Iterable"],e);var n=new t(Xx({objectMode:!0},r)),s=!1;n._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=Vx(function*(){try{var c=yield i.next(),d=c.value,u=c.done;u?n.push(null):n.push(yield d)?o():s=!1}catch(f){n.destroy(f)}}),a.apply(this,arguments)}return n}hp.exports=Yx});var rc=_((mk,Sp)=>{"use strict";Sp.exports=M;var Rr;M.ReadableState=yp;var pk=require("events").EventEmitter,mp=function(e,r){return e.listeners(r).length},Mi=$a(),Es=require("buffer").Buffer,Zx=global.Uint8Array||function(){};function e1(t){return Es.from(t)}function t1(t){return Es.isBuffer(t)||t instanceof Zx}var nc=require("util"),C;nc&&nc.debuglog?C=nc.debuglog("stream"):C=function(){};var r1=Wh(),sc=Xa(),i1=Qa(),n1=i1.getHighWaterMark,Ss=Et().codes,s1=Ss.ERR_INVALID_ARG_TYPE,o1=Ss.ERR_STREAM_PUSH_AFTER_EOF,a1=Ss.ERR_METHOD_NOT_IMPLEMENTED,c1=Ss.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Fr,oc,ac;rt()(M,Mi);var Oi=sc.errorOrDestroy,cc=["error","close","destroy","pause","resume"];function l1(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function yp(t,e,r){Rr=Rr||Jt(),t=t||{},typeof r!="boolean"&&(r=e instanceof Rr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=n1(this,t,"readableHighWaterMark",r),this.buffer=new r1,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Fr||(Fr=require("string_decoder/").StringDecoder),this.decoder=new Fr(t.encoding),this.encoding=t.encoding)}function M(t){if(Rr=Rr||Jt(),!(this instanceof M))return new M(t);var e=this instanceof Rr;this._readableState=new yp(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Mi.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});M.prototype.destroy=sc.destroy;M.prototype._undestroy=sc.undestroy;M.prototype._destroy=function(t,e){e(t)};M.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Es.from(t,e),e=""),i=!0),_p(this,t,e,!1,i)};M.prototype.unshift=function(t){return _p(this,t,null,!0,!1)};function _p(t,e,r,i,n){C("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,f1(t,s);else{var o;if(n||(o=u1(s,e)),o)Oi(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Es.prototype&&(e=e1(e)),i)s.endEmitted?Oi(t,new c1):lc(t,s,e,!0);else if(s.ended)Oi(t,new o1);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?lc(t,s,e,!1):uc(t,s)):lc(t,s,e,!1)}else i||(s.reading=!1,uc(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function lc(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Cs(t)),uc(t,e)}function u1(t,e){var r;return!t1(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new s1("chunk",["string","Buffer","Uint8Array"],e)),r}M.prototype.isPaused=function(){return this._readableState.flowing===!1};M.prototype.setEncoding=function(t){Fr||(Fr=require("string_decoder/").StringDecoder);var e=new Fr(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var gp=1073741824;function d1(t){return t>=gp?t=gp:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function bp(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=d1(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}M.prototype.read=function(t){C("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return C("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?fc(this):Cs(this),null;if(t=bp(t,e),t===0&&e.ended)return e.length===0&&fc(this),null;var i=e.needReadable;C("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,C("length less than watermark",i)),e.ended||e.reading?(i=!1,C("reading or ended",i)):i&&(C("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=bp(r,e)));var n;return t>0?n=xp(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&fc(this)),n!==null&&this.emit("data",n),n};function f1(t,e){if(C("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Cs(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,wp(t)))}}function Cs(t){var e=t._readableState;C("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(C("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(wp,t))}function wp(t){var e=t._readableState;C("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,dc(t)}function uc(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(h1,t,e))}function h1(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(C("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}M.prototype._read=function(t){Oi(this,new a1("_read()"))};M.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,C("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:y;i.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(m,g){C("onunpipe"),m===r&&g&&g.hasUnpiped===!1&&(g.hasUnpiped=!0,u())}function a(){C("onend"),t.end()}var c=p1(r);t.on("drain",c);var d=!1;function u(){C("cleanup"),t.removeListener("close",h),t.removeListener("finish",p),t.removeListener("drain",c),t.removeListener("error",l),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",f),d=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",f);function f(m){C("ondata");var g=t.write(m);C("dest.write",g),g===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&Ep(i.pipes,t)!==-1)&&!d&&(C("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function l(m){C("onerror",m),y(),t.removeListener("error",l),mp(t,"error")===0&&Oi(t,m)}l1(t,"error",l);function h(){t.removeListener("finish",p),y()}t.once("close",h);function p(){C("onfinish"),t.removeListener("close",h),y()}t.once("finish",p);function y(){C("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(C("pipe resume"),r.resume()),t};function p1(t){return function(){var r=t._readableState;C("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&mp(t,"data")&&(r.flowing=!0,dc(t))}}M.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Ep(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};M.prototype.on=function(t,e){var r=Mi.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,C("on readable",i.length,i.reading),i.length?Cs(this):i.reading||process.nextTick(m1,this)),r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(t,e){var r=Mi.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(vp,this),r};M.prototype.removeAllListeners=function(t){var e=Mi.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(vp,this),e};function vp(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function m1(t){C("readable nexttick read 0"),t.read(0)}M.prototype.resume=function(){var t=this._readableState;return t.flowing||(C("resume"),t.flowing=!t.readableListening,y1(this,t)),t.paused=!1,this};function y1(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(_1,t,e))}function _1(t,e){C("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),dc(t),e.flowing&&!e.reading&&t.read(0)}M.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function dc(t){var e=t._readableState;for(C("flow",e.flowing);e.flowing&&t.read()!==null;);}M.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(C("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(C("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(a){return function(){return t[a].apply(t,arguments)}}(n));for(var s=0;s<cc.length;s++)t.on(cc[s],this.emit.bind(this,cc[s]));return this._read=function(o){C("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return oc===void 0&&(oc=up()),oc(this)});Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});M._fromList=xp;Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function xp(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function fc(t){var e=t._readableState;C("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(g1,e,t))}function g1(t,e){if(C("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(M.from=function(t,e){return ac===void 0&&(ac=pp()),ac(M,t,e)});function Ep(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var hc=_((yk,kp)=>{"use strict";kp.exports=it;var ks=Et().codes,b1=ks.ERR_METHOD_NOT_IMPLEMENTED,w1=ks.ERR_MULTIPLE_CALLBACK,v1=ks.ERR_TRANSFORM_ALREADY_TRANSFORMING,x1=ks.ERR_TRANSFORM_WITH_LENGTH_0,Ps=Jt();rt()(it,Ps);function E1(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new w1);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function it(t){if(!(this instanceof it))return new it(t);Ps.call(this,t),this._transformState={afterTransform:E1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",S1)}function S1(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Cp(t,e,r)}):Cp(this,null,null)}it.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ps.prototype.push.call(this,t,e)};it.prototype._transform=function(t,e,r){r(new b1("_transform()"))};it.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};it.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};it.prototype._destroy=function(t,e){Ps.prototype._destroy.call(this,t,function(r){e(r)})};function Cp(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new x1;if(t._transformState.transforming)throw new v1;return t.push(null)}});var Mp=_((_k,Tp)=>{"use strict";Tp.exports=Ri;var Pp=hc();rt()(Ri,Pp);function Ri(t){if(!(this instanceof Ri))return new Ri(t);Pp.call(this,t)}Ri.prototype._transform=function(t,e,r){r(null,t)}});var Ip=_((gk,Lp)=>{"use strict";var pc;function C1(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Op=Et().codes,k1=Op.ERR_MISSING_ARGS,P1=Op.ERR_STREAM_DESTROYED;function Rp(t){if(t)throw t}function T1(t){return t.setHeader&&typeof t.abort=="function"}function M1(t,e,r,i){i=C1(i);var n=!1;t.on("close",function(){n=!0}),pc===void 0&&(pc=ws()),pc(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,T1(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new P1("pipe"))}}}function Fp(t){t()}function O1(t,e){return t.pipe(e)}function R1(t){return!t.length||typeof t[t.length-1]!="function"?Rp:t.pop()}function F1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=R1(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new k1("streams");var n,s=e.map(function(o,a){var c=a<e.length-1,d=a>0;return M1(o,c,d,function(u){n||(n=u),u&&s.forEach(Fp),!c&&(s.forEach(Fp),i(n))})});return e.reduce(O1)}Lp.exports=F1});var Lr=_((_e,Li)=>{var Fi=require("stream");process.env.READABLE_STREAM==="disable"&&Fi?(Li.exports=Fi.Readable,Object.assign(Li.exports,Fi),Li.exports.Stream=Fi):(_e=Li.exports=rc(),_e.Stream=Fi||_e,_e.Readable=_e,_e.Writable=Za(),_e.Duplex=Jt(),_e.Transform=hc(),_e.PassThrough=Mp(),_e.finished=ws(),_e.pipeline=Ip())});var jp=_((bk,Np)=>{"use strict";var{Buffer:Pe}=require("buffer"),Ap=Symbol.for("BufferList");function L(t){if(!(this instanceof L))return new L(t);L._init.call(this,t)}L._init=function(e){Object.defineProperty(this,Ap,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};L.prototype._new=function(e){return new L(e)};L.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-r];r=n}};L.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};L.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};L.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};L.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||Pe.alloc(0);let s=!!e,o=this._offset(i),a=n-i,c=a,d=s&&r||0,u=o[1];if(i===0&&n===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Pe.concat(this._bufs,this.length);for(let f=0;f<this._bufs.length;f++)this._bufs[f].copy(e,d),d+=this._bufs[f].length;return e}if(c<=this._bufs[o[0]].length-u)return s?this._bufs[o[0]].copy(e,r,u,u+c):this._bufs[o[0]].slice(u,u+c);s||(e=Pe.allocUnsafe(a));for(let f=o[0];f<this._bufs.length;f++){let l=this._bufs[f].length-u;if(c>l)this._bufs[f].copy(e,d,u),d+=l;else{this._bufs[f].copy(e,d,u,u+c),d+=l;break}c-=l,u&&(u=0)}return e.length>d?e.slice(0,d):e};L.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),s=this._bufs.slice(i[0],n[0]+1);return n[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,n[1]),i[1]!==0&&(s[0]=s[0].slice(i[1])),this._new(s)};L.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};L.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};L.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};L.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Pe.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Pe.from(e));return this};L.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};L.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Pe.from([t]):typeof t=="string"?t=Pe.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Pe.from(t.buffer,t.byteOffset,t.byteLength):Pe.isBuffer(t)||(t=Pe.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],s=i[1];for(;n<this._bufs.length;n++){let o=this._bufs[n];for(;s<o.length;)if(o.length-s>=t.length){let c=o.indexOf(t,s);if(c!==-1)return this._reverseOffset([n,c]);s=o.length-t.length+1}else{let c=this._reverseOffset([n,s]);if(this._match(c,t))return c;s++}s=0}return-1};L.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?L.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:L.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)}})(e)})();L.prototype._isBufferList=function(e){return e instanceof L||L.isBufferList(e)};L.isBufferList=function(e){return e!=null&&e[Ap]};Np.exports=L});var qp=_((wk,Ts)=>{"use strict";var mc=Lr().Duplex,L1=rt(),Ii=jp();function Y(t){if(!(this instanceof Y))return new Y(t);if(typeof t=="function"){this._callback=t;let e=function(i){this._callback&&(this._callback(i),this._callback=null)}.bind(this);this.on("pipe",function(i){i.on("error",e)}),this.on("unpipe",function(i){i.removeListener("error",e)}),t=null}Ii._init.call(this,t),mc.call(this)}L1(Y,mc);Object.assign(Y.prototype,Ii.prototype);Y.prototype._new=function(e){return new Y(e)};Y.prototype._write=function(e,r,i){this._appendBuffer(e),typeof i=="function"&&i()};Y.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};Y.prototype.end=function(e){mc.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Y.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)};Y.prototype._isBufferList=function(e){return e instanceof Y||e instanceof Ii||Y.isBufferList(e)};Y.isBufferList=Ii.isBufferList;Ts.exports=Y;Ts.exports.BufferListStream=Y;Ts.exports.BufferList=Ii});var gc=_(Ar=>{var I1=Buffer.alloc,A1="0000000000000000000",N1="7777777777777777777",Dp="0".charCodeAt(0),Bp=Buffer.from("ustar\0","binary"),j1=Buffer.from("00","binary"),q1=Buffer.from("ustar ","binary"),D1=Buffer.from(" \0","binary"),B1=parseInt("7777",8),Ai=257,yc=263,U1=function(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)},H1=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},W1=function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},Up=function(t,e,r,i){for(;r<i;r++)if(t[r]===e)return r;return i},Hp=function(t){for(var e=8*32,r=0;r<148;r++)e+=t[r];for(var i=156;i<512;i++)e+=t[i];return e},Tt=function(t,e){return t=t.toString(8),t.length>e?N1.slice(0,e)+" ":A1.slice(0,e-t.length)+t+" "};function K1(t){var e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;for(var r=[],i=t.length-1;i>0;i--){var n=t[i];e?r.push(n):r.push(255-n)}var s=0,o=r.length;for(i=0;i<o;i++)s+=r[i]*Math.pow(256,i);return e?s:-1*s}var Mt=function(t,e,r){if(t=t.slice(e,e+r),e=0,t[e]&128)return K1(t);for(;e<t.length&&t[e]===32;)e++;for(var i=U1(Up(t,32,e,t.length),t.length,t.length);e<i&&t[e]===0;)e++;return i===e?0:parseInt(t.slice(e,i).toString(),8)},Ir=function(t,e,r,i){return t.slice(e,Up(t,0,e,e+r)).toString(i)},_c=function(t){var e=Buffer.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t};Ar.decodeLongPath=function(t,e){return Ir(t,0,t.length,e)};Ar.encodePax=function(t){var e="";t.name&&(e+=_c(" path="+t.name+`
`)),t.linkname&&(e+=_c(" linkpath="+t.linkname+`
`));var r=t.pax;if(r)for(var i in r)e+=_c(" "+i+"="+r[i]+`
`);return Buffer.from(e)};Ar.decodePax=function(t){for(var e={};t.length;){for(var r=0;r<t.length&&t[r]!==32;)r++;var i=parseInt(t.slice(0,r).toString(),10);if(!i)return e;var n=t.slice(r+1,i-1).toString(),s=n.indexOf("=");if(s===-1)return e;e[n.slice(0,s)]=n.slice(s+1),t=t.slice(i)}return e};Ar.encode=function(t){var e=I1(512),r=t.name,i="";if(t.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),Buffer.byteLength(r)!==r.length)return null;for(;Buffer.byteLength(r)>100;){var n=r.indexOf("/");if(n===-1)return null;i+=i?"/"+r.slice(0,n):r.slice(0,n),r=r.slice(n+1)}return Buffer.byteLength(r)>100||Buffer.byteLength(i)>155||t.linkname&&Buffer.byteLength(t.linkname)>100?null:(e.write(r),e.write(Tt(t.mode&B1,6),100),e.write(Tt(t.uid,6),108),e.write(Tt(t.gid,6),116),e.write(Tt(t.size,11),124),e.write(Tt(t.mtime.getTime()/1e3|0,11),136),e[156]=Dp+W1(t.type),t.linkname&&e.write(t.linkname,157),Bp.copy(e,Ai),j1.copy(e,yc),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(Tt(t.devmajor||0,6),329),e.write(Tt(t.devminor||0,6),337),i&&e.write(i,345),e.write(Tt(Hp(e),6),148),e)};Ar.decode=function(t,e,r){var i=t[156]===0?0:t[156]-Dp,n=Ir(t,0,100,e),s=Mt(t,100,8),o=Mt(t,108,8),a=Mt(t,116,8),c=Mt(t,124,12),d=Mt(t,136,12),u=H1(i),f=t[157]===0?null:Ir(t,157,100,e),l=Ir(t,265,32),h=Ir(t,297,32),p=Mt(t,329,8),y=Mt(t,337,8),m=Hp(t);if(m===8*32)return null;if(m!==Mt(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(Bp.compare(t,Ai,Ai+6)===0)t[345]&&(n=Ir(t,345,155,e)+"/"+n);else if(!(q1.compare(t,Ai,Ai+6)===0&&D1.compare(t,yc,yc+2)===0)){if(!r)throw new Error("Invalid tar header: unknown format.")}return i===0&&n&&n[n.length-1]==="/"&&(i=5),{name:n,mode:s,uid:o,gid:a,size:c,mtime:new Date(1e3*d),type:u,linkname:f,uname:l,gname:h,devmajor:p,devminor:y}}});var Xp=_((xk,Vp)=>{var Wp=require("util"),z1=qp(),Ni=gc(),Kp=Lr().Writable,zp=Lr().PassThrough,$p=function(){},Gp=function(t){return t&=511,t&&512-t},$1=function(t,e){var r=new Ms(t,e);return r.end(),r},G1=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),e.size&&(t.size=parseInt(e.size,10)),t.pax=e,t},Ms=function(t,e){this._parent=t,this.offset=e,zp.call(this,{autoDestroy:!1})};Wp.inherits(Ms,zp);Ms.prototype.destroy=function(t){this._parent.destroy(t)};var nt=function(t){if(!(this instanceof nt))return new nt(t);Kp.call(this,t),t=t||{},this._offset=0,this._buffer=z1(),this._missing=0,this._partial=!1,this._onparse=$p,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,r=e._buffer,i=function(){e._continue()},n=function(l){if(e._locked=!1,l)return e.destroy(l);e._stream||i()},s=function(){e._stream=null;var l=Gp(e._header.size);l?e._parse(l,o):e._parse(512,f),e._locked||i()},o=function(){e._buffer.consume(Gp(e._header.size)),e._parse(512,f),i()},a=function(){var l=e._header.size;e._paxGlobal=Ni.decodePax(r.slice(0,l)),r.consume(l),s()},c=function(){var l=e._header.size;e._pax=Ni.decodePax(r.slice(0,l)),e._paxGlobal&&(e._pax=Object.assign({},e._paxGlobal,e._pax)),r.consume(l),s()},d=function(){var l=e._header.size;this._gnuLongPath=Ni.decodeLongPath(r.slice(0,l),t.filenameEncoding),r.consume(l),s()},u=function(){var l=e._header.size;this._gnuLongLinkPath=Ni.decodeLongPath(r.slice(0,l),t.filenameEncoding),r.consume(l),s()},f=function(){var l=e._offset,h;try{h=e._header=Ni.decode(r.slice(0,512),t.filenameEncoding,t.allowUnknownFormat)}catch(p){e.emit("error",p)}if(r.consume(512),!h){e._parse(512,f),i();return}if(h.type==="gnu-long-path"){e._parse(h.size,d),i();return}if(h.type==="gnu-long-link-path"){e._parse(h.size,u),i();return}if(h.type==="pax-global-header"){e._parse(h.size,a),i();return}if(h.type==="pax-header"){e._parse(h.size,c),i();return}if(e._gnuLongPath&&(h.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(h.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=h=G1(h,e._pax),e._pax=null),e._locked=!0,!h.size||h.type==="directory"){e._parse(512,f),e.emit("entry",h,$1(e,l),n);return}e._stream=new Ms(e,l),e.emit("entry",h,e._stream,n),e._parse(h.size,s),i()};this._onheader=f,this._parse(512,f)};Wp.inherits(nt,Kp);nt.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))};nt.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,e===this._onheader&&(this._partial=!1),this._onparse=e)};nt.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=$p,this._overflow?this._write(this._overflow,void 0,t):t()}};nt.prototype._write=function(t,e,r){if(!this._destroyed){var i=this._stream,n=this._buffer,s=this._missing;if(t.length&&(this._partial=!0),t.length<s)return this._missing-=t.length,this._overflow=null,i?i.write(t,r):(n.append(t),r());this._cb=r,this._missing=0;var o=null;t.length>s&&(o=t.slice(s),t=t.slice(0,s)),i?i.end(t):n.append(t),this._overflow=o,this._onparse()}};nt.prototype._final=function(t){if(this._partial)return this.destroy(new Error("Unexpected end of data"));t()};Vp.exports=nt});var Jp=_((Ek,Qp)=>{Qp.exports=require("fs").constants||require("constants")});var rm=_((Sk,tm)=>{var Nr=Jp(),Yp=Yo(),Os=rt(),V1=Buffer.alloc,Zp=Lr().Readable,jr=Lr().Writable,X1=require("string_decoder").StringDecoder,Rs=gc(),Q1=parseInt("755",8),J1=parseInt("644",8),em=V1(1024),bc=function(){},wc=function(t,e){e&=511,e&&t.push(em.slice(0,512-e))};function Y1(t){switch(t&Nr.S_IFMT){case Nr.S_IFBLK:return"block-device";case Nr.S_IFCHR:return"character-device";case Nr.S_IFDIR:return"directory";case Nr.S_IFIFO:return"fifo";case Nr.S_IFLNK:return"symlink"}return"file"}var Fs=function(t){jr.call(this),this.written=0,this._to=t,this._destroyed=!1};Os(Fs,jr);Fs.prototype._write=function(t,e,r){if(this.written+=t.length,this._to.push(t))return r();this._to._drain=r};Fs.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Ls=function(){jr.call(this),this.linkname="",this._decoder=new X1("utf-8"),this._destroyed=!1};Os(Ls,jr);Ls.prototype._write=function(t,e,r){this.linkname+=this._decoder.write(t),r()};Ls.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var ji=function(){jr.call(this),this._destroyed=!1};Os(ji,jr);ji.prototype._write=function(t,e,r){r(new Error("No body allowed for this entry"))};ji.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Be=function(t){if(!(this instanceof Be))return new Be(t);Zp.call(this,t),this._drain=bc,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};Os(Be,Zp);Be.prototype.entry=function(t,e,r){if(this._stream)throw new Error("already piping an entry");if(!(this._finalized||this._destroyed)){typeof e=="function"&&(r=e,e=null),r||(r=bc);var i=this;if((!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=Y1(t.mode)),t.mode||(t.mode=t.type==="directory"?Q1:J1),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof e=="string"&&(e=Buffer.from(e)),Buffer.isBuffer(e)){t.size=e.length,this._encode(t);var n=this.push(e);return wc(i,t.size),n?process.nextTick(r):this._drain=r,new ji}if(t.type==="symlink"&&!t.linkname){var s=new Ls;return Yp(s,function(a){if(a)return i.destroy(),r(a);t.linkname=s.linkname,i._encode(t),r()}),s}if(this._encode(t),t.type!=="file"&&t.type!=="contiguous-file")return process.nextTick(r),new ji;var o=new Fs(this);return this._stream=o,Yp(o,function(a){if(i._stream=null,a)return i.destroy(),r(a);if(o.written!==t.size)return i.destroy(),r(new Error("size mismatch"));wc(i,t.size),i._finalizing&&i.finalize(),r()}),o}};Be.prototype.finalize=function(){if(this._stream){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(em),this.push(null))};Be.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())};Be.prototype._encode=function(t){if(!t.pax){var e=Rs.encode(t);if(e){this.push(e);return}}this._encodePax(t)};Be.prototype._encodePax=function(t){var e=Rs.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(Rs.encode(r)),this.push(e),wc(this,e.length),r.size=t.size,r.type=t.type,this.push(Rs.encode(r))};Be.prototype._read=function(t){var e=this._drain;this._drain=bc,e()};tm.exports=Be});var im=_(vc=>{vc.extract=Xp();vc.pack=rm()});var am=_((kk,om)=>{var qi=require("path"),nm=require("fs"),sm=parseInt("0777",8);om.exports=qr.mkdirp=qr.mkdirP=qr;function qr(t,e,r,i){typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var n=e.mode,s=e.fs||nm;n===void 0&&(n=sm),i||(i=null);var o=r||function(){};t=qi.resolve(t),s.mkdir(t,n,function(a){if(!a)return i=i||t,o(null,i);switch(a.code){case"ENOENT":if(qi.dirname(t)===t)return o(a);qr(qi.dirname(t),e,function(c,d){c?o(c,d):qr(t,e,o,d)});break;default:s.stat(t,function(c,d){c||!d.isDirectory()?o(a,i):o(null,i)});break}})}qr.sync=function t(e,r,i){(!r||typeof r!="object")&&(r={mode:r});var n=r.mode,s=r.fs||nm;n===void 0&&(n=sm),i||(i=null),e=qi.resolve(e);try{s.mkdirSync(e,n),i=i||e}catch(a){switch(a.code){case"ENOENT":i=t(qi.dirname(e),r,i),t(e,r,i);break;default:var o;try{o=s.statSync(e)}catch(c){throw a}if(!o.isDirectory())throw a;break}}return i}});var mm=_(Sc=>{var Z1=qh(),cm=im(),lm=ea(),eE=am(),um=require("fs"),le=require("path"),tE=require("os"),Di=tE.platform()==="win32",Bi=function(){},xc=function(t){return t},Ec=Di?function(t){return t.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:xc,rE=function(t,e,r,i,n,s){var o=n||["."];return function(c){if(!o.length)return c();var d=o.shift(),u=le.join(r,d);e(u,function(f,l){if(f)return c(f);if(!l.isDirectory())return c(null,d,l);t.readdir(u,function(h,p){if(h)return c(h);s&&p.sort();for(var y=0;y<p.length;y++)i(le.join(r,d,p[y]))||o.push(le.join(d,p[y]));c(null,d,l)})})}},dm=function(t,e){return function(r){r.name=r.name.split("/").slice(e).join("/");var i=r.linkname;return i&&(r.type==="link"||le.isAbsolute(i))&&(r.linkname=i.split("/").slice(e).join("/")),t(r)}};Sc.pack=function(t,e){t||(t="."),e||(e={});var r=e.fs||um,i=e.ignore||e.filter||Bi,n=e.map||Bi,s=e.mapStream||xc,o=rE(r,e.dereference?r.stat:r.lstat,t,i,e.entries,e.sort),a=e.strict!==!1,c=typeof e.umask=="number"?~e.umask:~fm(),d=typeof e.dmode=="number"?e.dmode:0,u=typeof e.fmode=="number"?e.fmode:0,f=e.pack||cm.pack(),l=e.finish||Bi;e.strip&&(n=dm(n,e.strip)),e.readable&&(d|=parseInt(555,8),u|=parseInt(444,8)),e.writable&&(d|=parseInt(333,8),u|=parseInt(222,8));var h=function(m,g){r.readlink(le.join(t,m),function(b,w){if(b)return f.destroy(b);g.linkname=Ec(w),f.entry(g,y)})},p=function(m,g,b){if(m)return f.destroy(m);if(!g)return e.finalize!==!1&&f.finalize(),l(f);if(b.isSocket())return y();var w={name:Ec(g),mode:(b.mode|(b.isDirectory()?d:u))&c,mtime:b.mtime,size:b.size,type:"file",uid:b.uid,gid:b.gid};if(b.isDirectory())return w.size=0,w.type="directory",w=n(w)||w,f.entry(w,y);if(b.isSymbolicLink())return w.size=0,w.type="symlink",w=n(w)||w,h(g,w);if(w=n(w)||w,!b.isFile())return a?f.destroy(new Error("unsupported type for "+g)):y();var v=f.entry(w,y);if(!!v){var x=s(r.createReadStream(le.join(t,g)),w);x.on("error",function(E){v.destroy(E)}),lm(x,v)}},y=function(m){if(m)return f.destroy(m);o(p)};return y(),f};var iE=function(t){return t.length?t[t.length-1]:null},nE=function(){return process.getuid?process.getuid():-1},fm=function(){return process.umask?process.umask():0};Sc.extract=function(t,e){t||(t="."),e||(e={});var r=e.fs||um,i=e.ignore||e.filter||Bi,n=e.map||Bi,s=e.mapStream||xc,o=e.chown!==!1&&!Di&&nE()===0,a=e.extract||cm.extract(),c=[],d=new Date,u=typeof e.umask=="number"?~e.umask:~fm(),f=typeof e.dmode=="number"?e.dmode:0,l=typeof e.fmode=="number"?e.fmode:0,h=e.strict!==!1;e.strip&&(n=dm(n,e.strip)),e.readable&&(f|=parseInt(555,8),l|=parseInt(444,8)),e.writable&&(f|=parseInt(333,8),l|=parseInt(222,8));var p=function(g,b){for(var w;(w=iE(c))&&g.slice(0,w[0].length)!==w[0];)c.pop();if(!w)return b();r.utimes(w[0],d,w[1],b)},y=function(g,b,w){if(e.utimes===!1)return w();if(b.type==="directory")return r.utimes(g,d,b.mtime,w);if(b.type==="symlink")return p(g,w);r.utimes(g,d,b.mtime,function(v){if(v)return w(v);p(g,w)})},m=function(g,b,w){var v=b.type==="symlink",x=v?r.lchmod:r.chmod,E=v?r.lchown:r.chown;if(!x)return w();var S=(b.mode|(b.type==="directory"?f:l))&u;x(g,S,function(k){if(k)return w(k);if(!o||!E)return w();E(g,b.uid,b.gid,w)})};return a.on("entry",function(g,b,w){g=n(g)||g,g.name=Ec(g.name);var v=le.join(t,le.join("/",g.name));if(i(v,g))return b.resume(),w();var x=function(P){if(P)return w(P);y(v,g,function(I){if(I)return w(I);if(Di)return w();m(v,g,w)})},E=function(){if(Di)return w();r.unlink(v,function(){r.symlink(g.linkname,v,x)})},S=function(){if(Di)return w();r.unlink(v,function(){var P=le.join(t,le.join("/",g.linkname));r.link(P,v,function(I){if(I&&I.code==="EPERM"&&e.hardlinkAsFilesFallback)return b=r.createReadStream(P),k();x(I)})})},k=function(){var P=r.createWriteStream(v),I=s(b,g);P.on("error",function(U){I.destroy(U)}),lm(I,P,function(U){if(U)return w(U);P.on("close",x)})};if(g.type==="directory")return c.push([v,g.mtime]),pm(v,{fs:r,own:o,uid:g.uid,gid:g.gid},x);var A=le.dirname(v);hm(r,A,le.join(t,"."),function(P,I){if(P)return w(P);if(!I)return w(new Error(A+" is not a valid path"));pm(A,{fs:r,own:o,uid:g.uid,gid:g.gid},function(U){if(U)return w(U);switch(g.type){case"file":return k();case"link":return S();case"symlink":return E()}if(h)return w(new Error("unsupported type for "+v+" ("+g.type+")"));b.resume(),w()})})}),e.finish&&a.on("finish",e.finish),a};function hm(t,e,r,i){if(e===r)return i(null,!0);t.lstat(e,function(n,s){if(n&&n.code!=="ENOENT")return i(n);if(n||s.isDirectory())return hm(t,le.join(e,".."),r,i);i(null,!1)})}function pm(t,e,r){eE(t,{fs:e.fs},function(i,n){!i&&n&&e.own?Z1(n,e.uid,e.gid,r):r(i)})}});var gm=_((ym,_m)=>{var sE=require("stream");ym=_m.exports=Cc;Cc.through=Cc;function Cc(t,e,r){t=t||function(u){this.queue(u)},e=e||function(){this.queue(null)};var i=!1,n=!1,s=[],o=!1,a=new sE;a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(r&&r.autoDestroy===!1),a.write=function(u){return t.call(this,u),!a.paused};function c(){for(;s.length&&!a.paused;){var u=s.shift();if(u===null)return a.emit("end");a.emit("data",u)}}a.queue=a.push=function(u){return o||(u===null&&(o=!0),s.push(u),c()),a},a.on("end",function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick(function(){a.destroy()})});function d(){a.writable=!1,e.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.end=function(u){if(!i)return i=!0,arguments.length&&a.write(u),d(),a},a.destroy=function(){if(!n)return n=!0,i=!0,s.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),c(),a.paused||a.emit("drain"),a},a}});var wm=_((Tk,bm)=>{function kc(t){this.name="Bzip2Error",this.message=t,this.stack=new Error().stack}kc.prototype=new Error;var X={Error:function(t){throw new kc(t)}},Ue={};Ue.Bzip2Error=kc;Ue.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];Ue.array=function(t){var e=0,r=0,i=[0,1,3,7,15,31,63,127,255];return function(n){for(var s=0;n>0;){var o=8-e;n>=o?(s<<=o,s|=i[o]&t[r++],e=0,n-=o):(s<<=n,s|=(t[r]&i[n]<<8-n-e)>>8-n-e,e+=n,n=0)}return s}};Ue.simple=function(t,e){var r=Ue.array(t),i=Ue.header(r),n=!1,s=1e5*i,o=new Int32Array(s);do n=Ue.decompress(r,e,o,s);while(!n)};Ue.header=function(t){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),t(8*3)!=4348520&&X.Error("No magic number found");var e=t(8)-48;return(e<1||e>9)&&X.Error("Not a BZIP archive"),e};Ue.decompress=function(t,e,r,i,n){for(var s=20,o=258,a=0,c=1,d=50,u=0^-1,f="",l=0;l<6;l++)f+=t(8).toString(16);if(f=="177245385090"){var h=t(32)|0;return h!==n&&X.Error("Error in bzip2: crc32 do not match"),t(null),null}f!="314159265359"&&X.Error("eek not valid bzip data");var p=t(32)|0;t(1)&&X.Error("unsupported obsolete version");var y=t(24);y>i&&X.Error("Initial position larger than buffer size");var m=t(16),g=0;for(l=0;l<16;l++)if(m&1<<15-l){var b=t(16);for(R=0;R<16;R++)b&1<<15-R&&(this.symToByte[g++]=16*l+R)}var w=t(3);(w<2||w>6)&&X.Error("another error");var v=t(15);v==0&&X.Error("meh");for(var l=0;l<w;l++)this.mtfSymbol[l]=l;for(var l=0;l<v;l++){for(var R=0;t(1);R++)R>=w&&X.Error("whoops another error");for(var x=this.mtfSymbol[R],b=R-1;b>=0;b--)this.mtfSymbol[b+1]=this.mtfSymbol[b];this.mtfSymbol[0]=x,this.selectors[l]=x}for(var E=g+2,S=[],k=new Uint8Array(o),A=new Uint16Array(s+1),P,R=0;R<w;R++){m=t(5);for(var l=0;l<E;l++){for(;(m<1||m>s)&&X.Error("I gave up a while ago on writing error messages"),!!t(1);)t(1)?m--:m++;k[l]=m}var I,U;I=U=k[0];for(var l=1;l<E;l++)k[l]>U?U=k[l]:k[l]<I&&(I=k[l]);P=S[R]={},P.permute=new Int32Array(o),P.limit=new Int32Array(s+1),P.base=new Int32Array(s+1),P.minLen=I,P.maxLen=U;for(var Me=P.base.subarray(1),Ft=P.limit.subarray(1),ve=0,l=I;l<=U;l++)for(var m=0;m<E;m++)k[m]==l&&(P.permute[ve++]=m);for(l=I;l<=U;l++)A[l]=Ft[l]=0;for(l=0;l<E;l++)A[k[l]]++;for(ve=m=0,l=I;l<U;l++)ve+=A[l],Ft[l]=ve-1,ve<<=1,Me[l+1]=ve-(m+=A[l]);Ft[U]=ve+A[U]-1,Me[I]=0}for(var l=0;l<256;l++)this.mtfSymbol[l]=l,this.byteCount[l]=0;var xe,ee,E,Wr;for(xe=ee=E=Wr=0;;){for(E--||(E=d-1,Wr>=v&&X.Error("meow i'm a kitty, that's an error"),P=S[this.selectors[Wr++]],Me=P.base.subarray(1),Ft=P.limit.subarray(1)),l=P.minLen,R=t(l);l>P.maxLen&&X.Error("rawr i'm a dinosaur"),!(R<=Ft[l]);)l++,R=R<<1|t(1);R-=Me[l],(R<0||R>=o)&&X.Error("moo i'm a cow");var He=P.permute[R];if(He==a||He==c){xe||(xe=1,m=0),He==a?m+=xe:m+=2*xe,xe<<=1;continue}if(xe)for(xe=0,ee+m>i&&X.Error("Boom."),x=this.symToByte[this.mtfSymbol[0]],this.byteCount[x]+=m;m--;)r[ee++]=x;if(He>g)break;ee>=i&&X.Error("I can't think of anything. Error"),l=He-1,x=this.mtfSymbol[l];for(var b=l-1;b>=0;b--)this.mtfSymbol[b+1]=this.mtfSymbol[b];this.mtfSymbol[0]=x,x=this.symToByte[x],this.byteCount[x]++,r[ee++]=x}(y<0||y>=ee)&&X.Error("I'm a monkey and I'm throwing something at someone, namely you");for(var R=0,l=0;l<256;l++)b=R+this.byteCount[l],this.byteCount[l]=R,R=b;for(var l=0;l<ee;l++)x=r[l]&255,r[this.byteCount[x]]|=l<<8,this.byteCount[x]++;var Oe=0,Ee=0,zs=0;ee&&(Oe=r[y],Ee=Oe&255,Oe>>=8,zs=-1),ee=ee;for(var $s,Gs,Ki;ee;){for(ee--,Gs=Ee,Oe=r[Oe],Ee=Oe&255,Oe>>=8,zs++==3?($s=Ee,Ki=Gs,Ee=-1):($s=1,Ki=Ee);$s--;)u=(u<<8^this.crcTable[(u>>24^Ki)&255])&4294967295,e(Ki);Ee!=Gs&&(zs=0)}return u=(u^-1)>>>0,(u|0)!=(p|0)&&X.Error("Error in bzip2: crc32 do not match"),n===null&&(n=0),n=(u^(n<<1|n>>>31))&4294967295,n};bm.exports=Ue});var Em=_((Mk,xm)=>{var vm=[0,1,3,7,15,31,63,127,255];xm.exports=function(e){var r=0,i=0,n=e(),s=function(o){if(o===null&&r!=0){r=0,i++;return}for(var a=0;o>0;){i>=n.length&&(i=0,n=e());var c=8-r;r===0&&o>0&&s.bytesRead++,o>=c?(a<<=c,a|=vm[c]&n[i++],r=0,o-=c):(a<<=o,a|=(n[i]&vm[o]<<8-o-r)>>8-o-r,r+=o,o=0)}return a};return s.bytesRead=0,s}});var km=_((Ok,Cm)=>{var oE=gm(),Sm=wm(),aE=Em();Cm.exports=cE;function cE(){var t=[],e=0,r=0,i=!1,n=!1,s=null,o=null;function a(u){if(r){var f=1e5*r,l=new Int32Array(f),h=[],p=function(y){h.push(y)};return o=Sm.decompress(s,p,l,f,o),o===null?(r=0,!1):(u(Buffer.from(h)),!0)}else return r=Sm.header(s),!0}var c=0;function d(u){if(!i)try{return a(function(f){u.queue(f),f!==null&&(c+=f.length)})}catch(f){return u.emit("error",f),i=!0,!1}}return oE(function(f){for(t.push(f),e+=f.length,s===null&&(s=aE(function(){return t.shift()}));!i&&e-s.bytesRead+1>=(25e3+1e5*r||4);)d(this)},function(f){for(;!i&&e>s.bytesRead;)d(this);i||(o!==null&&stream.emit("error",new Error("input stream ended prematurely")),this.queue(null))})}});var Lc=_(ge=>{"use strict";var lE=ge&&ge.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),uE=ge&&ge.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ot=ge&&ge.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lE(e,t,r);return uE(e,t),e},Pc=ge&&ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ge,"__esModule",{value:!0});ge.BrowserFetcher=void 0;var Is=Ot(require("os")),ie=Ot(require("fs")),Te=Ot(require("path")),dE=Ot(require("util")),Tc=Ot(require("child_process")),fE=Ot(require("https")),hE=Ot(require("http")),pE=Pc(Sf()),mE=cr(),As=require("util"),yE=Pc(ja()),Mc=Ot(require("url")),_E=Pc(Mh()),gE=Rh(),Ns=D(),Ui=mE.debug("puppeteer:fetcher"),Oc={chrome:{linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"},firefox:{linux:"%s/firefox-%s.en-US.%s-x86_64.tar.bz2",mac:"%s/firefox-%s.en-US.%s.dmg",win32:"%s/firefox-%s.en-US.%s.zip",win64:"%s/firefox-%s.en-US.%s.zip"}},Pm={chrome:{host:"https://storage.googleapis.com",destination:".local-chromium"},firefox:{host:"https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central",destination:".local-firefox"}};function js(t,e,r){if(t==="chrome"){if(e==="linux")return"chrome-linux";if(e==="mac")return"chrome-mac";if(e==="win32"||e==="win64")return parseInt(r,10)>591479?"chrome-win":"chrome-win32"}else if(t==="firefox")return e}function Rc(t,e,r,i){return dE.format(Oc[t][e],r,i,js(t,e,i))}function bE(){ie.stat("/usr/bin/chromium-browser",function(t,e){e===void 0&&ie.stat("/usr/bin/chromium",function(r,i){if(i===void 0)throw console.error(`The chromium binary is not available for arm64.
If you are on Ubuntu, you can install with: 

 sudo apt install chromium


 sudo apt install chromium-browser
`),new Error})})}var Tm=As.promisify(ie.readdir.bind(ie)),Mm=As.promisify(ie.mkdir.bind(ie)),wE=As.promisify(ie.unlink.bind(ie)),vE=As.promisify(ie.chmod.bind(ie));function Hi(t){return new Promise(e=>{ie.access(t,r=>e(!r))})}var Om=class{constructor(e,r={}){this._product=(r.product||"chrome").toLowerCase(),Ns.assert(this._product==="chrome"||this._product==="firefox",`Unknown product: "${r.product}"`),this._downloadsFolder=r.path||Te.join(e,Pm[this._product].destination),this._downloadHost=r.host||Pm[this._product].host,this.setPlatform(r.platform),Ns.assert(Oc[this._product][this._platform],"Unsupported platform: "+this._platform)}setPlatform(e){if(e){this._platform=e;return}let r=Is.platform();r==="darwin"?this._platform="mac":r==="linux"?this._platform="linux":r==="win32"?this._platform=Is.arch()==="x64"?"win64":"win32":Ns.assert(this._platform,"Unsupported platform: "+r)}platform(){return this._platform}product(){return this._product}host(){return this._downloadHost}canDownload(e){let r=Rc(this._product,this._platform,this._downloadHost,e);return new Promise(i=>{Fc(r,"HEAD",s=>{i(s.statusCode===200)}).on("error",s=>{console.error(s),i(!1)})})}async download(e,r=()=>{}){let i=Rc(this._product,this._platform,this._downloadHost,e),n=i.split("/").pop(),s=Te.join(this._downloadsFolder,n),o=this._getFolderPath(e);if(await Hi(o))return this.revisionInfo(e);if(await Hi(this._downloadsFolder)||await Mm(this._downloadsFolder),Is.platform()!=="darwin"&&Is.arch()==="arm64"){bE();return}try{await EE(i,s,r),await SE(s,o)}finally{await Hi(s)&&await wE(s)}let a=this.revisionInfo(e);return a&&await vE(a.executablePath,493),a}async localRevisions(){return await Hi(this._downloadsFolder)?(await Tm(this._downloadsFolder)).map(r=>xE(this._product,r)).filter(r=>r&&r.platform===this._platform).map(r=>r.revision):[]}async remove(e){let r=this._getFolderPath(e);Ns.assert(await Hi(r),`Failed to remove: revision ${e} is not downloaded`),await new Promise(i=>yE.default(r,i))}revisionInfo(e){let r=this._getFolderPath(e),i="";if(this._product==="chrome")if(this._platform==="mac")i=Te.join(r,js(this._product,this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if(this._platform==="linux")i=Te.join(r,js(this._product,this._platform,e),"chrome");else if(this._platform==="win32"||this._platform==="win64")i=Te.join(r,js(this._product,this._platform,e),"chrome.exe");else throw new Error("Unsupported platform: "+this._platform);else if(this._product==="firefox")if(this._platform==="mac")i=Te.join(r,"Firefox Nightly.app","Contents","MacOS","firefox");else if(this._platform==="linux")i=Te.join(r,"firefox","firefox");else if(this._platform==="win32"||this._platform==="win64")i=Te.join(r,"firefox","firefox.exe");else throw new Error("Unsupported platform: "+this._platform);else throw new Error("Unsupported product: "+this._product);let n=Rc(this._product,this._platform,this._downloadHost,e),s=ie.existsSync(r);return Ui({revision:e,executablePath:i,folderPath:r,local:s,url:n,product:this._product}),{revision:e,executablePath:i,folderPath:r,local:s,url:n,product:this._product}}_getFolderPath(e){return Te.join(this._downloadsFolder,`${this._platform}-${e}`)}};ge.BrowserFetcher=Om;function xE(t,e){let i=Te.basename(e).split("-");if(i.length!==2)return null;let[n,s]=i;return Oc[t][n]?{product:t,platform:n,revision:s}:null}function EE(t,e,r){Ui(`Downloading binary from ${t}`);let i,n,s=0,o=0,a=new Promise((u,f)=>{i=u,n=f});return Fc(t,"GET",u=>{if(u.statusCode!==200){let l=new Error(`Download failed: server returned code ${u.statusCode}. URL: ${t}`);u.resume(),n(l);return}let f=ie.createWriteStream(e);f.on("finish",()=>i()),f.on("error",l=>n(l)),u.pipe(f),o=parseInt(u.headers["content-length"],10),r&&u.on("data",d)}).on("error",u=>n(u)),a;function d(u){s+=u.length,r(s,o)}}function SE(t,e){if(Ui(`Installing ${t} to ${e}`),t.endsWith(".zip"))return pE.default(t,{dir:e});if(t.endsWith(".tar.bz2"))return CE(t,e);if(t.endsWith(".dmg"))return Mm(e).then(()=>kE(t,e));throw new Error(`Unsupported archive format: ${t}`)}function CE(t,e){let r=mm(),i=km();return new Promise((n,s)=>{let o=r.extract(e);o.on("error",s),o.on("finish",n),ie.createReadStream(t).pipe(i()).pipe(o)})}function kE(t,e){let r;function i(s,o){let a=`hdiutil attach -nobrowse -noautoopen "${t}"`;Tc.exec(a,(c,d)=>{if(c)return o(c);let u=d.match(/\/Volumes\/(.*)/m);if(!u)return o(new Error(`Could not find volume path in ${d}`));r=u[0],Tm(r).then(f=>{let l=f.find(p=>typeof p=="string"&&p.endsWith(".app"));if(!l)return o(new Error(`Cannot find app in ${r}`));let h=Te.join(r,l);Ui(`Copying ${h} to ${e}`),Tc.exec(`cp -R "${h}" "${e}"`,p=>{p?o(p):s()})}).catch(o)})}function n(){if(!r)return;let s=`hdiutil detach "${r}" -quiet`;Ui(`Unmounting ${r}`),Tc.exec(s,o=>{o&&console.error(`Error unmounting dmg: ${o}`)})}return new Promise(i).catch(s=>{console.error(s)}).finally(n)}function Fc(t,e,r){let n={...Mc.parse(t),method:e},s=gE.getProxyForUrl(t);if(s)if(t.startsWith("http:")){let c=Mc.parse(s);n={path:n.href,host:c.hostname,port:c.port}}else{let c=Mc.parse(s),d={...c,secureProxy:c.protocol==="https:"};n.agent=_E.default(d),n.rejectUnauthorized=!1}let o=c=>{c.statusCode>=300&&c.statusCode<400&&c.headers.location?Fc(c.headers.location,e,r):r(c)},a=n.protocol==="https:"?fE.request(n,o):hE.request(n,o);return a.end(),a}});var Fm=_(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.PipeTransport=void 0;var tr=Q(),Rm=class{constructor(e,r){this._pipeWrite=e,this._pendingMessage="",this._eventListeners=[tr.helper.addEventListener(r,"data",i=>this._dispatch(i)),tr.helper.addEventListener(r,"close",()=>{this.onclose&&this.onclose.call(null)}),tr.helper.addEventListener(r,"error",tr.debugError),tr.helper.addEventListener(e,"error",tr.debugError)],this.onmessage=null,this.onclose=null}send(e){this._pipeWrite.write(e),this._pipeWrite.write("\0")}_dispatch(e){let r=e.indexOf("\0");if(r===-1){this._pendingMessage+=e.toString();return}let i=this._pendingMessage+e.toString(void 0,0,r);this.onmessage&&this.onmessage.call(null,i);let n=r+1;for(r=e.indexOf("\0",n);r!==-1;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,n,r)),n=r+1,r=e.indexOf("\0",n);this._pendingMessage=e.toString(void 0,n)}close(){this._pipeWrite=null,tr.helper.removeEventListeners(this._eventListeners)}};qs.PipeTransport=Rm});var jm=_(we=>{"use strict";var PE=we&&we.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),TE=we&&we.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lm=we&&we.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PE(e,t,r);return TE(e,t),e},ME=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(we,"__esModule",{value:!0});we.BrowserRunner=void 0;var OE=cr(),Im=ME(ja()),RE=Lm(require("child_process")),FE=D(),be=Q(),Am=ur(),LE=$o(),IE=Fm(),AE=Lm(require("readline")),NE=rr(),jE=require("util"),qE=jE.promisify(Im.default),DE=OE.debug("puppeteer:launcher"),BE=`Puppeteer was unable to kill the process which ran the browser binary.
This means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.
Please check your open processes and ensure that the browser processes that Puppeteer launched have been killed.
If you think this is a bug, please report it on the Puppeteer issue tracker.`,Nm=class{constructor(e,r,i,n){this.proc=null,this.connection=null,this._closed=!0,this._listeners=[],this._product=e,this._executablePath=r,this._processArguments=i,this._tempDirectory=n}start(e){let{handleSIGINT:r,handleSIGTERM:i,handleSIGHUP:n,dumpio:s,env:o,pipe:a}=e,c=["pipe","pipe","pipe"];a&&(s?c=["ignore","pipe","pipe","pipe","pipe"]:c=["ignore","ignore","ignore","pipe","pipe"]),FE.assert(!this.proc,"This process has previously been started."),DE(`Calling ${this._executablePath} ${this._processArguments.join(" ")}`),this.proc=RE.spawn(this._executablePath,this._processArguments,{detached:process.platform!=="win32",env:o,stdio:c}),s&&(this.proc.stderr.pipe(process.stderr),this.proc.stdout.pipe(process.stdout)),this._closed=!1,this._processClosing=new Promise((d,u)=>{this.proc.once("exit",()=>{this._closed=!0,this._tempDirectory?qE(this._tempDirectory).then(()=>d()).catch(f=>{console.error(f),u(f)}):d()})}),this._listeners=[be.helper.addEventListener(process,"exit",this.kill.bind(this))],r&&this._listeners.push(be.helper.addEventListener(process,"SIGINT",()=>{this.kill(),process.exit(130)})),i&&this._listeners.push(be.helper.addEventListener(process,"SIGTERM",this.close.bind(this))),n&&this._listeners.push(be.helper.addEventListener(process,"SIGHUP",this.close.bind(this)))}close(){return this._closed?Promise.resolve():(this._tempDirectory&&this._product!=="firefox"?this.kill():this.connection&&this.connection.send("Browser.close").catch(e=>{be.debugError(e),this.kill()}),be.helper.removeEventListeners(this._listeners),this._processClosing)}kill(){try{Im.default.sync(this._tempDirectory)}catch(e){}if(this.proc&&this.proc.pid&&!this.proc.killed)try{this.proc.kill("SIGKILL")}catch(e){throw new Error(`${BE}
Error cause: ${e.stack}`)}be.helper.removeEventListeners(this._listeners)}async setupConnection(e){let{usePipe:r,timeout:i,slowMo:n,preferredRevision:s}=e;if(r){let{3:o,4:a}=this.proc.stdio,c=new IE.PipeTransport(o,a);this.connection=new Am.Connection("",c,n)}else{let o=await UE(this.proc,i,s),a=await LE.NodeWebSocketTransport.create(o);this.connection=new Am.Connection(o,a,n)}return this.connection}};we.BrowserRunner=Nm;function UE(t,e,r){return new Promise((i,n)=>{let s=AE.createInterface({input:t.stderr}),o="",a=[be.helper.addEventListener(s,"line",f),be.helper.addEventListener(s,"close",()=>d()),be.helper.addEventListener(t,"exit",()=>d()),be.helper.addEventListener(t,"error",h=>d(h))],c=e?setTimeout(u,e):0;function d(h){l(),n(new Error(["Failed to launch the browser process!"+(h?" "+h.message:""),o,"","TROUBLESHOOTING: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md",""].join(`
`)))}function u(){l(),n(new NE.TimeoutError(`Timed out after ${e} ms while trying to connect to the browser! Only Chrome at revision r${r} is guaranteed to work.`))}function f(h){o+=h+`
`;let p=h.match(/^DevTools listening on (ws:\/\/.*)$/);!p||(l(),i(p[1]))}function l(){c&&clearTimeout(c),be.helper.removeEventListeners(a)}})}});var Gm=_(st=>{"use strict";var HE=st&&st.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),WE=st&&st.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ic=st&&st.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HE(e,t,r);return WE(e,t),e};Object.defineProperty(st,"__esModule",{value:!0});var Dr=Ic(require("os")),Wi=Ic(require("path")),Ds=Ic(require("fs")),KE=D(),qm=Lc(),Dm=bo(),Bm=jm(),Um=require("util"),Hm=Um.promisify(Ds.mkdtemp),Wm=Um.promisify(Ds.writeFile),Km=class{constructor(e,r,i){this._projectRoot=e,this._preferredRevision=r,this._isPuppeteerCore=i}async launch(e={}){let{ignoreDefaultArgs:r=!1,args:i=[],dumpio:n=!1,channel:s=null,executablePath:o=null,pipe:a=!1,env:c=process.env,handleSIGINT:d=!0,handleSIGTERM:u=!0,handleSIGHUP:f=!0,ignoreHTTPSErrors:l=!1,defaultViewport:h={width:800,height:600},slowMo:p=0,timeout:y=3e4,waitForInitialPage:m=!0}=e,g=Wi.join(Dr.tmpdir(),"puppeteer_dev_chrome_profile-"),b=[];r?Array.isArray(r)?b.push(...this.defaultArgs(e).filter(S=>!r.includes(S))):b.push(...i):b.push(...this.defaultArgs(e));let w=null;b.some(S=>S.startsWith("--remote-debugging-"))||b.push(a?"--remote-debugging-pipe":"--remote-debugging-port=0"),b.some(S=>S.startsWith("--user-data-dir"))||(w=await Hm(g),b.push(`--user-data-dir=${w}`));let v=o;if(s)KE.assert(!o,"`executablePath` must not be specified when `channel` is given."),v=$m(s);else if(!o)if(Dr.platform()!=="darwin"&&Dr.arch()==="arm64")v="/usr/bin/chromium-browser";else{let{missingText:S,executablePath:k}=Bs(this);if(S)throw new Error(S);v=k}let x=b.includes("--remote-debugging-pipe"),E=new Bm.BrowserRunner(this.product,v,b,w);E.start({handleSIGHUP:f,handleSIGTERM:u,handleSIGINT:d,dumpio:n,env:c,pipe:x});try{let S=await E.setupConnection({usePipe:x,timeout:y,slowMo:p,preferredRevision:this._preferredRevision}),k=await Dm.Browser.create(S,[],l,h,E.proc,E.close.bind(E));return m&&await k.waitForTarget(A=>A.type()==="page"),k}catch(S){throw E.kill(),S}}defaultArgs(e={}){let r=["--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=Translate","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection"],{devtools:i=!1,headless:n=!i,args:s=[],userDataDir:o=null}=e;return o&&r.push(`--user-data-dir=${Wi.resolve(o)}`),i&&r.push("--auto-open-devtools-for-tabs"),n&&r.push("--headless","--hide-scrollbars","--mute-audio"),s.every(a=>a.startsWith("-"))&&r.push("about:blank"),r.push(...s),r}executablePath(e){return e?$m(e):Bs(this).executablePath}get product(){return"chrome"}},zm=class{constructor(e,r,i){this._projectRoot=e,this._preferredRevision=r,this._isPuppeteerCore=i}async launch(e={}){let{ignoreDefaultArgs:r=!1,args:i=[],dumpio:n=!1,executablePath:s=null,pipe:o=!1,env:a=process.env,handleSIGINT:c=!0,handleSIGTERM:d=!0,handleSIGHUP:u=!0,ignoreHTTPSErrors:f=!1,defaultViewport:l={width:800,height:600},slowMo:h=0,timeout:p=3e4,extraPrefsFirefox:y={},waitForInitialPage:m=!0}=e,g=[];r?Array.isArray(r)?g.push(...this.defaultArgs(e).filter(x=>!r.includes(x))):g.push(...i):g.push(...this.defaultArgs(e)),g.some(x=>x.startsWith("--remote-debugging-"))||g.push("--remote-debugging-port=0");let b=null;!g.includes("-profile")&&!g.includes("--profile")&&(b=await this._createProfile(y),g.push("--profile"),g.push(b)),await this._updateRevision();let w=s;if(!s){let{missingText:x,executablePath:E}=Bs(this);if(x)throw new Error(x);w=E}let v=new Bm.BrowserRunner(this.product,w,g,b);v.start({handleSIGHUP:u,handleSIGTERM:d,handleSIGINT:c,dumpio:n,env:a,pipe:o});try{let x=await v.setupConnection({usePipe:o,timeout:p,slowMo:h,preferredRevision:this._preferredRevision}),E=await Dm.Browser.create(x,[],f,l,v.proc,v.close.bind(v));return m&&await E.waitForTarget(S=>S.type()==="page"),E}catch(x){throw v.kill(),x}}executablePath(){return Bs(this).executablePath}async _updateRevision(){if(this._preferredRevision==="latest"){let r=await new qm.BrowserFetcher(this._projectRoot,{product:this.product}).localRevisions();r[0]&&(this._preferredRevision=r[0])}}get product(){return"firefox"}defaultArgs(e={}){let r=["--no-remote","--foreground"];Dr.platform().startsWith("win")&&r.push("--wait-for-browser");let{devtools:i=!1,headless:n=!i,args:s=[],userDataDir:o=null}=e;return o&&(r.push("--profile"),r.push(o)),n&&r.push("--headless"),i&&r.push("--devtools"),s.every(a=>a.startsWith("-"))&&r.push("about:blank"),r.push(...s),r}async _createProfile(e){let r=await Hm(Wi.join(Dr.tmpdir(),"puppeteer_dev_firefox_profile-")),i=[],n=[],s="dummy.test",o={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.passwords.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${s}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${s}/dummy/discoveryURL`,"fission.autostart":!1,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"media.gmp-manager.updateEnabled":!1,"network.cookie.cookieBehavior":0,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":s,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"services.settings.server":`http://${s}/dummy/blocklist/`,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};Object.assign(o,e);for(let[a,c]of Object.entries(o))n.push(`user_pref(${JSON.stringify(a)}, ${JSON.stringify(c)});`);return await Wm(Wi.join(r,"user.js"),n.join(`
`)),await Wm(Wi.join(r,"prefs.js"),i.join(`
`)),r}};function $m(t){let e=Dr.platform(),r;switch(e){case"win32":switch(t){case"chrome":r=`${process.env.PROGRAMFILES}\\Google\\Chrome\\Application\\chrome.exe`;break;case"chrome-beta":r=`${process.env.PROGRAMFILES}\\Google\\Chrome Beta\\Application\\chrome.exe`;break;case"chrome-canary":r=`${process.env.PROGRAMFILES}\\Google\\Chrome SxS\\Application\\chrome.exe`;break;case"chrome-dev":r=`${process.env.PROGRAMFILES}\\Google\\Chrome Dev\\Application\\chrome.exe`;break}break;case"darwin":switch(t){case"chrome":r="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome";break;case"chrome-beta":r="/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta";break;case"chrome-canary":r="/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary";break;case"chrome-dev":r="/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev";break}break;case"linux":switch(t){case"chrome":r="/opt/google/chrome/chrome";break;case"chrome-beta":r="/opt/google/chrome-beta/chrome";break;case"chrome-dev":r="/opt/google/chrome-unstable/chrome";break}break}if(!r)throw new Error(`Unable to detect browser executable path for '${t}' on ${e}.`);try{Ds.accessSync(r)}catch(i){throw new Error(`Could not find Google Chrome executable for channel '${t}' at '${r}'.`)}return r}function Bs(t){let e;if(!t._isPuppeteerCore){let a=process.env.PUPPETEER_EXECUTABLE_PATH||process.env.npm_config_puppeteer_executable_path||process.env.npm_package_config_puppeteer_executable_path;if(a){let c=Ds.existsSync(a)?null:"Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: "+a;return{executablePath:a,missingText:c}}e=process.env.PUPPETEER_DOWNLOAD_PATH||process.env.npm_config_puppeteer_download_path||process.env.npm_package_config_puppeteer_download_path}let r=new qm.BrowserFetcher(t._projectRoot,{product:t.product,path:e});if(!t._isPuppeteerCore&&t.product==="chrome"){let a=process.env.PUPPETEER_CHROMIUM_REVISION;if(a){let c=r.revisionInfo(a),d=c.local?null:"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+c.executablePath;return{executablePath:c.executablePath,missingText:d}}}let i=r.revisionInfo(t._preferredRevision),n="Run `PUPPETEER_PRODUCT=firefox npm install` to download a supported Firefox browser binary.",s=`Run \`npm install\` to download the correct Chromium revision (${t._preferredRevision}).`,o=i.local?null:`Could not find expected browser (${t.product}) locally. ${t.product==="chrome"?s:n}`;return{executablePath:i.executablePath,missingText:o}}function zE(t,e,r,i){switch(!i&&!r&&(i=process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product),i){case"firefox":return new zm(t,e,r);case"chrome":default:return typeof i!="undefined"&&i!=="chrome"&&console.warn(`Warning: unknown product name ${i}. Falling back to chrome.`),new Km(t,e,r)}}st.default=zE});var Ac=_(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.PUPPETEER_REVISIONS=void 0;Us.PUPPETEER_REVISIONS={chromium:"901912",firefox:"latest"}});var Qm=_(Br=>{"use strict";var $E=Br&&Br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});Br.PuppeteerNode=void 0;var GE=Wd(),VE=Lc(),XE=$E(Gm()),Vm=Ac(),Xm=class extends GE.Puppeteer{constructor(e){let{projectRoot:r,preferredRevision:i,productName:n,...s}=e;super(s);this._projectRoot=r,this.__productName=n,this._preferredRevision=i}connect(e){return e.product&&(this._productName=e.product),super.connect(e)}get _productName(){return this.__productName}set _productName(e){this.__productName!==e&&(this._changedProduct=!0),this.__productName=e}launch(e={}){return e.product&&(this._productName=e.product),this._launcher.launch(e)}executablePath(e){return this._launcher.executablePath(e)}get _launcher(){if(!this._lazyLauncher||this._lazyLauncher.product!==this._productName||this._changedProduct){switch(this._productName){case"firefox":this._preferredRevision=Vm.PUPPETEER_REVISIONS.firefox;break;case"chrome":default:this._preferredRevision=Vm.PUPPETEER_REVISIONS.chromium}this._changedProduct=!1,this._lazyLauncher=XE.default(this._projectRoot,this._preferredRevision,this._isPuppeteerCore,this._productName)}return this._lazyLauncher}get product(){return this._launcher.product}defaultArgs(e={}){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){return new VE.BrowserFetcher(this._projectRoot,e)}};Br.PuppeteerNode=Xm});var Ym=_((jk,Nc)=>{"use strict";var Jm=(t,...e)=>new Promise(r=>{r(t(...e))});Nc.exports=Jm;Nc.exports.default=Jm});var ey=_((qk,jc)=>{"use strict";var QE=Ym(),Zm=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let e=[],r=0,i=()=>{r--,e.length>0&&e.shift()()},n=(a,c,...d)=>{r++;let u=QE(a,...d);c(u),u.then(i,i)},s=(a,c,...d)=>{r<t?n(a,c,...d):e.push(n.bind(null,a,c,...d))},o=(a,...c)=>new Promise(d=>s(a,d,...c));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>e.length},clearQueue:{value:()=>{e.length=0}}}),o};jc.exports=Zm;jc.exports.default=Zm});var iy=_((Dk,Dc)=>{"use strict";var ty=ey(),qc=class extends Error{constructor(e){super();this.value=e}},JE=async(t,e)=>e(await t),YE=async t=>{let e=await Promise.all(t);if(e[1]===!0)throw new qc(e[0]);return!1},ry=async(t,e,r)=>{r={concurrency:1/0,preserveOrder:!0,...r};let i=ty(r.concurrency),n=[...t].map(o=>[o,i(JE,o,e)]),s=ty(r.preserveOrder?1:1/0);try{await Promise.all(n.map(o=>s(YE,o)))}catch(o){if(o instanceof qc)return o.value;throw o}};Dc.exports=ry;Dc.exports.default=ry});var ly=_((Bk,Bc)=>{"use strict";var ny=require("path"),Hs=require("fs"),{promisify:sy}=require("util"),ZE=iy(),eS=sy(Hs.stat),tS=sy(Hs.lstat),oy={directory:"isDirectory",file:"isFile"};function ay({type:t}){if(!(t in oy))throw new Error(`Invalid type specified: ${t}`)}var cy=(t,e)=>t===void 0||e[oy[t]]();Bc.exports=async(t,e)=>{e={cwd:process.cwd(),type:"file",allowSymlinks:!0,...e},ay(e);let r=e.allowSymlinks?eS:tS;return ZE(t,async i=>{try{let n=await r(ny.resolve(e.cwd,i));return cy(e.type,n)}catch(n){return!1}},e)};Bc.exports.sync=(t,e)=>{e={cwd:process.cwd(),allowSymlinks:!0,type:"file",...e},ay(e);let r=e.allowSymlinks?Hs.statSync:Hs.lstatSync;for(let i of t)try{let n=r(ny.resolve(e.cwd,i));if(cy(e.type,n))return i}catch(n){}}});var dy=_((Uk,Uc)=>{"use strict";var uy=require("fs"),{promisify:rS}=require("util"),iS=rS(uy.access);Uc.exports=async t=>{try{return await iS(t),!0}catch(e){return!1}};Uc.exports.sync=t=>{try{return uy.accessSync(t),!0}catch(e){return!1}}});var hy=_((Hk,Ur)=>{"use strict";var Rt=require("path"),Ws=ly(),fy=dy(),Hc=Symbol("findUp.stop");Ur.exports=async(t,e={})=>{let r=Rt.resolve(e.cwd||""),{root:i}=Rt.parse(r),n=[].concat(t),s=async o=>{if(typeof t!="function")return Ws(n,o);let a=await t(o.cwd);return typeof a=="string"?Ws([a],o):a};for(;;){let o=await s({...e,cwd:r});if(o===Hc)return;if(o)return Rt.resolve(r,o);if(r===i)return;r=Rt.dirname(r)}};Ur.exports.sync=(t,e={})=>{let r=Rt.resolve(e.cwd||""),{root:i}=Rt.parse(r),n=[].concat(t),s=o=>{if(typeof t!="function")return Ws.sync(n,o);let a=t(o.cwd);return typeof a=="string"?Ws.sync([a],o):a};for(;;){let o=s({...e,cwd:r});if(o===Hc)return;if(o)return Rt.resolve(r,o);if(r===i)return;r=Rt.dirname(r)}};Ur.exports.exists=fy;Ur.exports.sync.exists=fy.sync;Ur.exports.stop=Hc});var _y=_((Wk,Ks)=>{"use strict";var py=require("path"),my=hy(),yy=async t=>{let e=await my("package.json",{cwd:t});return e&&py.dirname(e)};Ks.exports=yy;Ks.exports.default=yy;Ks.exports.sync=t=>{let e=my.sync("package.json",{cwd:t});return e&&py.dirname(e)}});var by=_(Hr=>{"use strict";var nS=Hr&&Hr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.initializePuppeteerNode=void 0;var sS=Qm(),gy=Ac(),oS=nS(_y()),aS=t=>{let e=oS.default.sync(__dirname),r=gy.PUPPETEER_REVISIONS.chromium,i=t==="puppeteer-core",n=i?void 0:process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product;return!i&&n==="firefox"&&(r=gy.PUPPETEER_REVISIONS.firefox),new sS.PuppeteerNode({projectRoot:e,preferredRevision:r,isPuppeteerCore:i,productName:n})};Hr.initializePuppeteerNode=aS});var wy=_(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});var cS=by(),lS=We();if(!lS.isNode)throw new Error("Cannot run puppeteer-core outside of Node.js");var uS=cS.initializePuppeteerNode("puppeteer-core");Wc.default=uS});var xy=_(($k,vy)=>{var dS=wy();vy.exports=dS.default});Kc(exports);zi(exports,Ty(xy()));
